"use strict";(self.webpackChunkSPA=self.webpackChunkSPA||[]).push([[179],{478:()=>{function Pe(n){return"function"==typeof n}function ea(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Yc=ea(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Uo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class en{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(o){e=o instanceof Yc?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Wv(o)}catch(s){e=e??[],s instanceof Yc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Wv(e);else{if(e instanceof en){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Uo(t,e)}remove(e){const{_finalizers:t}=this;t&&Uo(t,e),e instanceof en&&e._removeParent(this)}}en.EMPTY=(()=>{const n=new en;return n.closed=!0,n})();const qv=en.EMPTY;function Kv(n){return n instanceof en||n&&"closed"in n&&Pe(n.remove)&&Pe(n.add)&&Pe(n.unsubscribe)}function Wv(n){Pe(n)?n():n.unsubscribe()}const Qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Qc={setTimeout(n,e,...t){const{delegate:r}=Qc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Qc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Yv(n){Qc.setTimeout(()=>{const{onUnhandledError:e}=Qi;if(!e)throw n;e(n)})}function uh(){}const jM=dh("C",void 0,void 0);function dh(n,e,t){return{kind:n,value:e,error:t}}let Zi=null;function Zc(n){if(Qi.useDeprecatedSynchronousErrorHandling){const e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Zi;if(Zi=null,t)throw r}}else n()}class hh extends en{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kv(e)&&e.add(this)):this.destination=YM}static create(e,t,r){return new ta(e,t,r)}next(e){this.isStopped?ph(function $M(n){return dh("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ph(function zM(n){return dh("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ph(jM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qM=Function.prototype.bind;function fh(n,e){return qM.call(n,e)}class KM{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Jc(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Jc(r)}else Jc(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jc(t)}}}class ta extends hh{constructor(e,t,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fh(e.next,o),error:e.error&&fh(e.error,o),complete:e.complete&&fh(e.complete,o)}):i=e}this.destination=new KM(i)}}function Jc(n){Qi.useDeprecatedSynchronousErrorHandling?function GM(n){Qi.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=n)}(n):Yv(n)}function ph(n,e){const{onStoppedNotification:t}=Qi;t&&Qc.setTimeout(()=>t(n,e))}const YM={closed:!0,next:uh,error:function WM(n){throw n},complete:uh},mh="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(n){return n}function Qv(n){return 0===n.length?bi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function JM(n){return n&&n instanceof hh||function ZM(n){return n&&Pe(n.next)&&Pe(n.error)&&Pe(n.complete)}(n)&&Kv(n)}(t)?t:new ta(t,r,i);return Zc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Zv(r))((i,o)=>{const s=new ta({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[mh](){return this}pipe(...t){return Qv(t)(this)}toPromise(t){return new(t=Zv(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Zv(n){var e;return null!==(e=n??Qi.Promise)&&void 0!==e?e:Promise}const XM=ea(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Je=(()=>{class n extends Ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Jv(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new XM}next(t){Zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?qv:(this.currentObservers=null,o.push(t),new en(()=>{this.currentObservers=null,Uo(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ze;return t.source=this,t}}return n.create=(e,t)=>new Jv(e,t),n})();class Jv extends Je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:qv}}function Xv(n){return Pe(n?.lift)}function ot(n){return e=>{if(Xv(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(n,e,t,r,i){return new e0(n,e,t,r,i)}class e0 extends hh{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Z(n,e){return ot((t,r)=>{let i=0;t.subscribe(Xe(r,o=>{r.next(n.call(e,o,i++))}))})}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function r0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof Ji?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function o0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function ny(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}const ry=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function iy(n){return Pe(n?.then)}function oy(n){return Pe(n[mh])}function sy(n){return Symbol.asyncIterator&&Pe(n?.[Symbol.asyncIterator])}function ay(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cy=function a0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ly(n){return Pe(n?.[cy])}function uy(n){return r0(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ji(t.read());if(i)return yield Ji(void 0);yield yield Ji(r)}}finally{t.releaseLock()}})}function dy(n){return Pe(n?.getReader)}function In(n){if(n instanceof Ze)return n;if(null!=n){if(oy(n))return function c0(n){return new Ze(e=>{const t=n[mh]();if(Pe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ry(n))return function l0(n){return new Ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(iy(n))return function u0(n){return new Ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Yv)})}(n);if(sy(n))return hy(n);if(ly(n))return function d0(n){return new Ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(dy(n))return function h0(n){return hy(uy(n))}(n)}throw ay(n)}function hy(n){return new Ze(e=>{(function f0(n,e){var t,r,i,o;return function t0(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=o0(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Gr(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xt(n,e,t=1/0){return Pe(e)?xt((r,i)=>Z((o,s)=>e(r,o,i,s))(In(n(r,i))),t):("number"==typeof e&&(t=e),ot((r,i)=>function p0(n,e,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?p(m):c.push(m),p=m=>{o&&e.next(m),l++;let g=!1;In(t(m,u++)).subscribe(Xe(e,y=>{i?.(y),o?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){const y=c.shift();s?Gr(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(Xe(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Vo(n=1/0){return xt(bi,n)}const qr=new Ze(n=>n.complete());function fy(n){return n&&Pe(n.schedule)}function vh(n){return n[n.length-1]}function na(n){return fy(vh(n))?n.pop():void 0}function my(n,e=0){return ot((t,r)=>{t.subscribe(Xe(r,i=>Gr(r,n,()=>r.next(i),e),()=>Gr(r,n,()=>r.complete(),e),i=>Gr(r,n,()=>r.error(i),e)))})}function gy(n,e=0){return ot((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function vy(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ze(t=>{Gr(t,e,()=>{const r=n[Symbol.asyncIterator]();Gr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ce(n,e){return e?function w0(n,e){if(null!=n){if(oy(n))return function v0(n,e){return In(n).pipe(gy(e),my(e))}(n,e);if(ry(n))return function _0(n,e){return new Ze(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(iy(n))return function y0(n,e){return In(n).pipe(gy(e),my(e))}(n,e);if(sy(n))return vy(n,e);if(ly(n))return function C0(n,e){return new Ze(t=>{let r;return Gr(t,e,()=>{r=n[cy](),Gr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(n,e);if(dy(n))return function b0(n,e){return vy(uy(n),e)}(n,e)}throw ay(n)}(n,e):In(n)}function yh(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ta({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Ue(n){for(let e in n)if(n[e]===Ue)return e;throw Error("Could not find renamed property on target object.")}function _h(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ve(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ve).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Ch(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const S0=Ue({__forward_ref__:Ue});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return Ve(this())},n}function J(n){return bh(n)?n():n}function bh(n){return"function"==typeof n&&n.hasOwnProperty(S0)&&n.__forward_ref__===Fe}class w extends Error{constructor(e,t){super(function Xc(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function el(n,e){throw new w(-201,!1)}function Mn(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Me(n){return{providers:n.providers||[],imports:n.imports||[]}}function tl(n){return _y(n,nl)||_y(n,by)}function _y(n,e){return n.hasOwnProperty(e)?n[e]:null}function Cy(n){return n&&(n.hasOwnProperty(wh)||n.hasOwnProperty(O0))?n[wh]:null}const nl=Ue({\u0275prov:Ue}),wh=Ue({\u0275inj:Ue}),by=Ue({ngInjectableDef:Ue}),O0=Ue({ngInjectorDef:Ue});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let Eh;function jn(n){const e=Eh;return Eh=n,e}function wy(n,e,t){const r=tl(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&W.Optional?null:void 0!==e?e:void el(Ve(n))}function wi(n){return{toString:n}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),rr=(()=>{return(n=rr||(rr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",rr;var n})();const Be=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ho={},Te=[],rl=Ue({\u0275cmp:Ue}),Sh=Ue({\u0275dir:Ue}),Th=Ue({\u0275pipe:Ue}),Ey=Ue({\u0275mod:Ue}),Wr=Ue({\u0275fac:Ue}),ra=Ue({__NG_ELEMENT_ID__:Ue});let P0=0;function et(n){return wi(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||rr.Emulated,id:"c"+P0++,styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=Dy(n.inputs,r),i.outputs=Dy(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Sy).filter(Ty):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(nn).filter(Ty):null,i})}function Sy(n){return xe(n)||tn(n)}function Ty(n){return null!==n}function Oe(n){return wi(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Dy(n,e){if(null==n)return Ho;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const R=et;function xe(n){return n[rl]||null}function tn(n){return n[Sh]||null}function nn(n){return n[Th]||null}function Rn(n,e){const t=n[Ey]||null;if(!t&&!0===e)throw new Error(`Type ${Ve(n)} does not have '\u0275mod' property.`);return t}function pn(n){return Array.isArray(n)&&"object"==typeof n[1]}function or(n){return Array.isArray(n)&&!0===n[1]}function Ah(n){return 0!=(8&n.flags)}function al(n){return 2==(2&n.flags)}function cl(n){return 1==(1&n.flags)}function sr(n){return null!==n.template}function B0(n){return 0!=(256&n[2])}function ro(n,e){return n.hasOwnProperty(Wr)?n[Wr]:null}class $0{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $t(){return My}function My(n){return n.type.prototype.ngOnChanges&&(n.setInput=q0),G0}function G0(){const n=ky(this),e=n?.current;if(e){const t=n.previous;if(t===Ho)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function q0(n,e,t,r){const i=ky(n)||function K0(n,e){return n[Ry]=e}(n,{previous:Ho,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],c=s[a];o[a]=new $0(c&&c.currentValue,e,s===Ho),n[r]=e}$t.ngInherit=!0;const Ry="__ngSimpleChanges__";function ky(n){return n[Ry]||null}function ht(n){for(;Array.isArray(n);)n=n[0];return n}function ll(n,e){return ht(e[n])}function Gn(n,e){return ht(e[n.index])}function Oh(n,e){return n.data[e]}function Nn(n,e){const t=e[n];return pn(t)?t:t[0]}function ul(n){return 64==(64&n[2])}function Ei(n,e){return null==e?null:n[e]}function Ny(n){n[18]=0}function xh(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ne={lFrame:jy(null),bindingsEnabled:!0};function xy(){return ne.bindingsEnabled}function S(){return ne.lFrame.lView}function me(){return ne.lFrame.tView}function dl(n){return ne.lFrame.contextLView=n,n[8]}function hl(n){return ne.lFrame.contextLView=null,n}function Ct(){let n=Py();for(;null!==n&&64===n.type;)n=n.parent;return n}function Py(){return ne.lFrame.currentTNode}function Cr(n,e){const t=ne.lFrame;t.currentTNode=n,t.isParent=e}function Ph(){return ne.lFrame.isParent}function Fh(){ne.lFrame.isParent=!1}function qo(){return ne.lFrame.bindingIndex++}function cR(n,e){const t=ne.lFrame;t.bindingIndex=t.bindingRootIndex=n,Lh(e)}function Lh(n){ne.lFrame.currentDirectiveIndex=n}function Vy(){return ne.lFrame.currentQueryIndex}function Vh(n){ne.lFrame.currentQueryIndex=n}function uR(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Hy(n,e,t){if(t&W.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&W.Host||(i=uR(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ne.lFrame=By();return r.currentTNode=e,r.lView=n,!0}function Hh(n){const e=By(),t=n[1];ne.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function By(){const n=ne.lFrame,e=null===n?null:n.child;return null===e?jy(n):e}function jy(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function zy(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $y=zy;function Bh(){const n=zy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function on(){return ne.lFrame.selectedIndex}function Si(n){ne.lFrame.selectedIndex=n}function at(){const n=ne.lFrame;return Oh(n.tView,n.selectedIndex)}function fl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function pl(n,e,t){Gy(n,e,3,t)}function ml(n,e,t,r){(3&n[2])===t&&Gy(n,e,t,r)}function jh(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Gy(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[18]+=65536),(a<o||-1==o)&&(_R(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function _R(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class la{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function gl(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];Ky(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qy(n){return 3===n||4===n||6===n}function Ky(n){return 64===n.charCodeAt(0)}function vl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Wy(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Wy(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function Yy(n){return-1!==n}function Ko(n){return 32767&n}function Wo(n,e){let t=function SR(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let $h=!0;function yl(n){const e=$h;return $h=n,e}let TR=0;const br={};function da(n,e){const t=qh(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Gh(r.data,n),Gh(e,null),Gh(r.blueprint,null));const i=_l(n,e),o=n.injectorIndex;if(Yy(i)){const s=Ko(i),a=Wo(i,e),c=a[1].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Gh(n,e){n.push(0,0,0,0,0,0,0,0,e)}function qh(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function _l(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=i_(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Cl(n,e,t){!function DR(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ra)&&(r=t[ra]),null==r&&(r=t[ra]=TR++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function Jy(n,e,t){if(t&W.Optional||void 0!==n)return n;el()}function Xy(n,e,t,r){if(t&W.Optional&&void 0===r&&(r=null),0==(t&(W.Self|W.Host))){const i=n[9],o=jn(void 0);try{return i?i.get(e,r,t&W.Optional):wy(e,r,t&W.Optional)}finally{jn(o)}}return Jy(r,0,t)}function e_(n,e,t,r=W.Default,i){if(null!==n){if(1024&e[2]){const s=function kR(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=t_(o,s,t,r|W.Self,br);if(a!==br)return a;let c=o.parent;if(!c){const l=s[21];if(l){const u=l.get(t,br,r);if(u!==br)return u}c=i_(s),s=s[15]}o=c}return i}(n,e,t,r,br);if(s!==br)return s}const o=t_(n,e,t,r,br);if(o!==br)return o}return Xy(e,t,r,i)}function t_(n,e,t,r,i){const o=function MR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ra)?n[ra]:void 0;return"number"==typeof e?e>=0?255&e:RR:e}(t);if("function"==typeof o){if(!Hy(e,n,r))return r&W.Host?Jy(i,0,r):Xy(e,t,r,i);try{const s=o(r);if(null!=s||r&W.Optional)return s;el()}finally{$y()}}else if("number"==typeof o){let s=null,a=qh(n,e),c=-1,l=r&W.Host?e[16][6]:null;for((-1===a||r&W.SkipSelf)&&(c=-1===a?_l(n,e):e[a+8],-1!==c&&r_(r,!1)?(s=e[1],a=Ko(c),e=Wo(c,e)):a=-1);-1!==a;){const u=e[1];if(n_(o,a,u.data)){const d=AR(a,e,t,s,r,l);if(d!==br)return d}c=e[a+8],-1!==c&&r_(r,e[1].data[a+8]===l)&&n_(o,a,e)?(s=u,a=Ko(c),e=Wo(c,e)):a=-1}}return i}function AR(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=bl(a,s,t,null==r?al(a)&&$h:r!=s&&0!=(3&a.type),i&W.Host&&o===a);return null!==u?ha(e,s,u,a):br}function bl(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=s[c];if(f&&sr(f)&&f.type===t)return c}return null}function ha(n,e,t,r){let i=n[t];const o=e.data;if(function CR(n){return n instanceof la}(i)){const s=i;s.resolving&&function T0(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new w(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Se(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(o[t]));const a=yl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?jn(s.injectImpl):null;Hy(n,r,W.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function yR(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=My(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==c&&jn(c),yl(a),s.resolving=!1,$y()}}return i}function n_(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function r_(n,e){return!(n&W.Self||n&W.Host&&e)}class Yo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return e_(this._tNode,this._lView,e,r,t)}}function RR(){return new Yo(Ct(),S())}function be(n){return wi(()=>{const e=n.prototype.constructor,t=e[Wr]||Kh(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Wr]||Kh(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Kh(n){return bh(n)?()=>{const e=Kh(J(n));return e&&e()}:ro(n)}function i_(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Qo(n){return function IR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(qy(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Ct(),n)}const Jo="__parameters__";function es(n,e,t){return wi(()=>{const r=function Wh(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(Jo)?c[Jo]:Object.defineProperty(c,Jo,{value:[]})[Jo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class k{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function On(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),On(r,e)):e!==n&&e.push(r)}return e}function Zr(n,e){n.forEach(t=>Array.isArray(t)?Zr(t,e):e(t))}function s_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ma(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function xn(n,e,t){let r=ts(n,e);return r>=0?n[1|r]=t:(r=~r,function PR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Qh(n,e){const t=ts(n,e);if(t>=0)return n[1|t]}function ts(n,e){return function l_(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const ga={},Jh="__NG_DI_FLAG__",Sl="ngTempTokenPath",zR=/\n/gm,u_="__source";let va;function ns(n){const e=va;return va=n,e}function GR(n,e=W.Default){if(void 0===va)throw new w(-203,!1);return null===va?wy(n,void 0,e):va.get(n,e&W.Optional?null:void 0,e)}function E(n,e=W.Default){return(function x0(){return Eh}()||GR)(J(n),e)}function qe(n,e=W.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),E(n,e)}function Xh(n){const e=[];for(let t=0;t<n.length;t++){const r=J(n[t]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){const a=r[s],c=qR(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(E(i,o))}else e.push(E(r))}return e}function ya(n,e){return n[Jh]=e,n.prototype[Jh]=e,n}function qR(n){return n[Jh]}const Di=ya(es("Optional"),8),rs=ya(es("SkipSelf"),4);let tf;class io{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Pn(n){return n instanceof io?n.changingThisBreaksApplicationSecurity:n}const bk=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function lf(n){const e=function wa(){const n=S();return n&&n[12]}();return e?e.sanitize(De.URL,n)||"":function wr(n,e){const t=function hk(n){return n instanceof io&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Pn(n):function Ml(n){return(n=String(n)).match(bk)?n:"unsafe:"+n}(ie(n))}const uf=new k("ENVIRONMENT_INITIALIZER"),k_=new k("INJECTOR",-1),N_=new k("INJECTOR_DEF_TYPES");class O_{get(e,t=ga){if(t===ga){const r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return t}}function xk(...n){return{\u0275providers:x_(0,n)}}function x_(n,...e){const t=[],r=new Set;let i;return Zr(e,o=>{const s=o;df(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&P_(i,t),t}function P_(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Zr(i,o=>{e.push(o)})}}function df(n,e,t,r){if(!(n=J(n)))return!1;let i=null,o=Cy(n);const s=!o&&xe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Cy(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)df(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Zr(o.imports,u=>{df(u,e,t,r)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&P_(l,e)}if(!a){const l=ro(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:Te},{provide:N_,useValue:i,multi:!0},{provide:uf,useValue:()=>E(i),multi:!0})}const c=o.providers;null==c||a||Zr(c,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const Pk=Ue({provide:String,useValue:Ue});function hf(n){return null!==n&&"object"==typeof n&&Pk in n}function oo(n){return"function"==typeof n}const ff=new k("Set Injector scope."),kl={},Lk={};let pf;function Nl(){return void 0===pf&&(pf=new O_),pf}class Ii{}class U_ extends Ii{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(e,s=>this.processProvider(s)),this.records.set(k_,ss(void 0,this)),i.has("environment")&&this.records.set(Ii,ss(void 0,this));const o=this.records.get(ff);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(N_.multi,Te,W.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=ns(this),r=jn(void 0);try{return e()}finally{ns(t),jn(r)}}get(e,t=ga,r=W.Default){this.assertNotDestroyed();const i=ns(this),o=jn(void 0);try{if(!(r&W.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function jk(n){return"function"==typeof n||"object"==typeof n&&n instanceof k}(e)&&tl(e);a=c&&this.injectableDefInScope(c)?ss(mf(e),kl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&W.Self?Nl():this.parent).get(e,t=r&W.Optional&&t===ga?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Sl]=s[Sl]||[]).unshift(Ve(e)),i)throw s;return function KR(n,e,t,r){const i=n[Sl];throw e[u_]&&i.unshift(e[u_]),n.message=function WR(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(zR,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Sl]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{jn(o),ns(i)}}resolveInjectorInitializers(){const e=ns(this),t=jn(void 0);try{const r=this.get(uf.multi,Te,W.Self);for(const i of r)i()}finally{ns(e),jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(e){let t=oo(e=J(e))?e:J(e&&e.provide);const r=function Vk(n){return hf(n)?ss(void 0,n.useValue):ss(V_(n),kl)}(e);if(oo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ss(void 0,kl,!0),i.factory=()=>Xh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===kl&&(t.value=Lk,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Bk(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=J(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function mf(n){const e=tl(n),t=null!==e?e.factory:ro(n);if(null!==t)return t;if(n instanceof k)throw new w(204,!1);if(n instanceof Function)return function Uk(n){const e=n.length;if(e>0)throw ma(e,"?"),new w(204,!1);const t=function k0(n){const e=n&&(n[nl]||n[by]);if(e){const t=function N0(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new w(204,!1)}function V_(n,e,t){let r;if(oo(n)){const i=J(n);return ro(i)||mf(i)}if(hf(n))r=()=>J(n.useValue);else if(function L_(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Xh(n.deps||[]));else if(function F_(n){return!(!n||!n.useExisting)}(n))r=()=>E(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function Hk(n){return!!n.deps}(n))return ro(i)||mf(i);r=()=>new i(...Xh(n.deps))}return r}function ss(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function zk(n){return!!n.\u0275providers}function gf(n,e){for(const t of n)Array.isArray(t)?gf(t,e):zk(t)?gf(t.\u0275providers,e):e(t)}class H_{}class qk{resolveComponentFactory(e){throw function Gk(n){const e=Error(`No component factory found for ${Ve(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ea=(()=>{class n{}return n.NULL=new qk,n})();function Kk(){return as(Ct(),S())}function as(n,e){return new Le(Gn(n,e))}let Le=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Kk,n})();function Wk(n){return n instanceof Le?n.nativeElement:n}class Sa{}let Qk=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class so{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const j_=new so("14.2.8"),vf={};function wf(n){return n.ngOriginalError}class Ai{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&wf(e);for(;t&&wf(t);)t=wf(t);return t||null}}const Ef=new Map;let cN=0;const Tf="__ngContext__";function Gt(n,e){pn(e)?(n[Tf]=e[20],function uN(n){Ef.set(n[20],n)}(e)):n[Tf]=e}function ei(n){return n instanceof Function?n():n}var mn=(()=>((mn=mn||{})[mn.Important=1]="Important",mn[mn.DashCase=2]="DashCase",mn))();function If(n,e){return undefined(n,e)}function Da(n){const e=n[3];return or(e)?e[3]:e}function Af(n){return nC(n[13])}function Mf(n){return nC(n[4])}function nC(n){for(;null!==n&&!or(n);)n=n[4];return n}function ls(n,e,t,r,i){if(null!=r){let o,s=!1;or(r)?o=r:pn(r)&&(s=!0,r=r[0]);const a=ht(r);0===n&&null!==t?null==i?cC(e,t,a):ao(e,t,a,i||null,!0):1===n&&null!==t?ao(e,t,a,i||null,!0):2===n?function mC(n,e,t){const r=Ol(n,e);r&&function LN(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function HN(n,e,t,r,i){const o=t[7];o!==ht(t)&&ls(e,n,r,o,i);for(let a=10;a<t.length;a++){const c=t[a];Ia(c[1],c,n,e,r,o)}}(e,n,o,t,i)}}function kf(n,e,t){return n.createElement(e,t)}function iC(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,xh(i,-1)),t.splice(r,1)}function Nf(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&iC(i,r),e>0&&(n[t-1][4]=r[4]);const o=wl(n,10+e);!function MN(n,e){Ia(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function oC(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ia(n,e,t,3,null,null),function NN(n){let e=n[13];if(!e)return Of(n[1],n);for(;e;){let t=null;if(pn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)pn(e)&&Of(e[1],e),e=e[3];null===e&&(e=n),pn(e)&&Of(e[1],e),t=e&&e[4]}e=t}}(e)}}function Of(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function FN(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof la)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function PN(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):ht(e[s]),c=r[i=t[o+2]],l=t[o+3];"boolean"==typeof l?a.removeEventListener(t[o],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&or(e[3])){t!==e[3]&&iC(t,e);const r=e[19];null!==r&&r.detachView(n)}!function dN(n){Ef.delete(n[20])}(e)}}function sC(n,e,t){return function aC(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===rr.None||i===rr.Emulated)return null}return Gn(r,t)}(n,e.parent,t)}function ao(n,e,t,r,i){n.insertBefore(e,t,r,i)}function cC(n,e,t){n.appendChild(e,t)}function lC(n,e,t,r,i){null!==r?ao(n,e,t,r,i):cC(n,e,t)}function Ol(n,e){return n.parentNode(e)}function uC(n,e,t){return hC(n,e,t)}let hC=function dC(n,e,t){return 40&n.type?Gn(n,t):null};function xl(n,e,t,r){const i=sC(n,r,e),o=e[11],a=uC(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)lC(o,i,t[c],a,!1);else lC(o,i,t,a,!1)}function Pl(n,e){if(null!==e){const t=e.type;if(3&t)return Gn(e,n);if(4&t)return Pf(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Pl(n,r);{const i=n[e.index];return or(i)?Pf(-1,i):ht(i)}}if(32&t)return If(e,n)()||ht(n[e.index]);{const r=pC(n,e);return null!==r?Array.isArray(r)?r[0]:Pl(Da(n[16]),r):Pl(n,e.next)}}return null}function pC(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Pf(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return Pl(r,i)}return e[7]}function Ff(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Gt(ht(a),r),t.flags|=4),64!=(64&t.flags))if(8&c)Ff(n,e,t.child,r,i,o,!1),ls(e,n,i,a,o);else if(32&c){const l=If(t,r);let u;for(;u=l();)ls(e,n,i,u,o);ls(e,n,i,a,o)}else 16&c?gC(n,e,r,t,i,o):ls(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Ia(n,e,t,r,i,o){Ff(t,r,n.firstChild,e,i,o,!1)}function gC(n,e,t,r,i,o){const s=t[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ls(e,n,i,c[l],o);else Ff(n,e,c,s[3],i,o,!0)}function vC(n,e,t){n.setAttribute(e,"style",t)}function Lf(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yC(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const _C="ng-template";function jN(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==yC(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function CC(n){return 4===n.type&&n.value!==_C}function zN(n,e,t){return e===(4!==n.type||t?n.value:_C)}function $N(n,e,t){let r=4;const i=n.attrs||[],o=function KN(n){for(let e=0;e<n.length;e++)if(qy(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!zN(n,c,t)||""===c&&1===e.length){if(ar(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!jN(n.attrs,l,t)){if(ar(r))return!1;s=!0}continue}const d=GN(8&r?"class":c,i,CC(n),t);if(-1===d){if(ar(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yC(f,l,0)||2&r&&l!==h){if(ar(r))return!1;s=!0}}}}else{if(!s&&!ar(r)&&!ar(c))return!1;if(s&&ar(c))continue;s=!1,r=c|1&r}}return ar(r)||s}function ar(n){return 0==(1&n)}function GN(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function WN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function bC(n,e,t=!1){for(let r=0;r<e.length;r++)if($N(n,e[r],t))return!0;return!1}function YN(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function wC(n,e){return n?":not("+e.trim()+")":e}function QN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ar(s)&&(e+=wC(o,i),i=""),r=s,o=o||!ar(r);t++}return""!==i&&(e+=wC(o,i)),e}const oe={};function nt(n){EC(me(),S(),on()+n,!1)}function EC(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&pl(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ml(e,o,0,t)}Si(t)}function IC(n,e=null,t=null,r){const i=AC(n,e,t,r);return i.resolveInjectorInitializers(),i}function AC(n,e=null,t=null,r,i=new Set){const o=[t||Te,xk(n)];return r=r||("object"==typeof n?void 0:Ve(n)),new U_(o,e||Nl(),r||null,i)}let gn=(()=>{class n{static create(t,r){if(Array.isArray(t))return IC({name:""},r,t,"");{const i=t.name??"";return IC({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=ga,n.NULL=new O_,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>E(k_)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=W.Default){const t=S();return null===t?E(n,e):e_(Ct(),t,J(n),e)}function jf(){throw new Error("invalid")}function Ll(n,e){return n<<17|e<<2}function cr(n){return n>>17&32767}function zf(n){return 2|n}function ti(n){return(131068&n)>>2}function $f(n,e){return-131069&n|e<<2}function Gf(n){return 1|n}function GC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Vh(i),s.contentQueries(2,e[o],o)}}}function Hl(n,e,t,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),Ny(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=c||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=o,d[20]=function lN(){return cN++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function ds(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Xf(n,e,t,r,i){const o=Py(),s=Ph(),c=n.data[e]=function NO(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,e,t,r,i),function aR(){return ne.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ca(){const n=ne.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Cr(o,!0),o}function hs(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ep(n,e,t){Hh(e);try{const r=n.viewQuery;null!==r&&cp(1,r,t);const i=n.template;null!==i&&qC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&GC(n,e),n.staticViewQueries&&cp(2,n.viewQuery,t);const o=n.components;null!==o&&function MO(n,e){for(let t=0;t<e.length;t++)WO(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Bh()}}function Bl(n,e,t,r){const i=e[2];if(128!=(128&i)){Hh(e);try{Ny(e),function Ly(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&qC(n,e,t,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&pl(e,l,null)}else{const l=n.preOrderHooks;null!==l&&ml(e,l,0,null),jh(e,0)}if(function qO(n){for(let e=Af(n);null!==e;e=Mf(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&xh(o,1),i[2]|=512}}}(e),function GO(n){for(let e=Af(n);null!==e;e=Mf(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];ul(r)&&Bl(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&GC(n,e),s){const l=n.contentCheckHooks;null!==l&&pl(e,l)}else{const l=n.contentHooks;null!==l&&ml(e,l,1),jh(e,1)}!function IO(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Si(~i);else{const o=i,s=t[++r],a=t[++r];cR(s,o),a(2,e[o])}}}finally{Si(-1)}}(n,e);const a=n.components;null!==a&&function AO(n,e){for(let t=0;t<e.length;t++)KO(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&cp(2,c,r),s){const l=n.viewCheckHooks;null!==l&&pl(e,l)}else{const l=n.viewHooks;null!==l&&ml(e,l,2),jh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,xh(e[3],-1))}finally{Bh()}}}function qC(n,e,t,r,i){const o=on(),s=2&r;try{Si(-1),s&&e.length>22&&EC(n,e,22,!1),t(r,i)}finally{Si(o)}}function KC(n,e,t){if(Ah(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function tp(n,e,t){!xy()||(function LO(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||da(t,e),Gt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=sr(c);l&&jO(e,t,c);const u=ha(e,n,a,t);Gt(u,e),null!==s&&zO(0,a-i,u,c,0,s),l&&(Nn(t.index,e)[8]=u)}}(n,e,t,Gn(t,e)),128==(128&t.flags)&&function UO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function lR(){return ne.lFrame.currentDirectiveIndex}();try{Si(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];Lh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&eb(c,l)}}finally{Si(-1),Lh(s)}}(n,e,t))}function np(n,e,t=Gn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function WC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function rp(n,e,t,r,i,o,s,a,c,l){const u=22+r,d=u+i,h=function RO(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(u,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function YC(n,e,t,r){const i=ob(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&sb(n).push(r,i.length-1))}function QC(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function ZC(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,c=null;for(let l=e.directiveStart;l<r;l++){const u=i[l],d=u.inputs,h=null===o||CC(e)?null:$O(d,o);s.push(h),a=QC(d,l,a),c=QC(u.outputs,l,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=c}function JC(n,e){const t=Nn(e,n);16&t[2]||(t[2]|=32)}function ip(n,e,t,r){let i=!1;if(xy()){const o=function VO(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];bC(t,s.selectors,!1)&&(i||(i=[]),Cl(da(t,e),n,s.type),sr(s)?(tb(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,nb(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,l=hs(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=vl(t.mergedAttrs,d.hostAttrs),rb(n,t,e,l,d),BO(l,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),l++}ZC(n,t)}s&&function HO(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new w(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=vl(t.mergedAttrs,t.attrs),i}function XC(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function FO(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(r,i,s)}}function eb(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function tb(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function BO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;sr(e)&&(t[""]=n)}}function nb(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function rb(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=ro(i.type)),s=new la(o,sr(i),_);n.blueprint[r]=s,t[r]=s,XC(n,e,0,r,hs(n,t,i.hostVars,oe),i)}function jO(n,e,t){const r=Gn(e,n),i=WC(t),o=n[10],s=jl(n,Hl(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Er(n,e,t,r,i,o){const s=Gn(n,e);!function op(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ie(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function zO(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const l=s[c++],u=s[c++],d=s[c++];null!==a?r.setInput(t,d,l,u):t[u]=d}}}function $O(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ib(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function KO(n,e){const t=Nn(e,n);if(ul(t)){const r=t[1];48&t[2]?Bl(r,t,r.template,t[8]):t[5]>0&&sp(t)}}function sp(n){for(let r=Af(n);null!==r;r=Mf(r))for(let i=10;i<r.length;i++){const o=r[i];if(ul(o))if(512&o[2]){const s=o[1];Bl(s,o,s.template,o[8])}else o[5]>0&&sp(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Nn(t[r],n);ul(i)&&i[5]>0&&sp(i)}}function WO(n,e){const t=Nn(e,n),r=t[1];(function YO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),ep(r,t,t[8])}function jl(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function ap(n){for(;n;){n[2]|=32;const e=Da(n);if(B0(n)&&!e)return n;n=e}return null}function zl(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Bl(n,e,n.template,t)}catch(s){throw r&&cb(e,s),s}finally{i.end&&i.end()}}function cp(n,e,t){Vh(0),e(n,t)}function ob(n){return n[7]||(n[7]=[])}function sb(n){return n.cleanup||(n.cleanup=[])}function cb(n,e){const t=n[9],r=t?t.get(Ai,null):null;r&&r.handleError(e)}function lp(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=e[s],l=n.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function $l(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ch(i,a):2==o&&(r=Ch(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Gl(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(ht(o)),or(o))for(let a=10;a<o.length;a++){const c=o[a],l=c[1].firstChild;null!==l&&Gl(c[1],c,l,r)}const s=t.type;if(8&s)Gl(n,e,t.child,r);else if(32&s){const a=If(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=pC(e,t);if(Array.isArray(a))r.push(...a);else{const c=Da(e[16]);Gl(c[1],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Aa{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Gl(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(or(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Nf(e,r),wl(t,r))}this._attachedToViewContainer=!1}oC(this._lView[1],this._lView)}onDestroy(e){YC(this._lView[1],this._lView,null,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kN(n,e){Ia(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=e}}class QO extends Aa{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;zl(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class up extends Ea{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=xe(e);return new Ma(t,this.ngModule)}}function lb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class JO{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,vf,r);return i!==vf||t===vf?i:this.parentInjector.get(e,t,r)}}class Ma extends H_{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function ZN(n){return n.map(QN).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return lb(this.componentDef.inputs)}get outputs(){return lb(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Ii?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new JO(e,o):e,a=s.get(Sa,null);if(null===a)throw new w(407,!1);const c=s.get(Qk,null),l=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function kO(n,e,t){return n.selectRootElement(e,t===rr.ShadowDom)}(l,r,this.componentDef.encapsulation):kf(a.createRenderer(null,this.componentDef),u,function ZO(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=rp(0,null,null,1,0,null,null,null,null,null),p=Hl(null,f,null,h,null,null,a,l,c,s,null);let m,g;Hh(p);try{const y=function tx(n,e,t,r,i,o){const s=t[1];t[22]=n;const c=ds(s,22,2,"#host",null),l=c.mergedAttrs=e.hostAttrs;null!==l&&($l(c,l,!0),null!==n&&(gl(i,n,l),null!==c.classes&&Lf(i,n,c.classes),null!==c.styles&&vC(i,n,c.styles)));const u=r.createRenderer(n,e),d=Hl(t,WC(e),null,e.onPush?32:16,t[22],c,r,u,o||null,null,null);return s.firstCreatePass&&(Cl(da(c,t),s,e.type),tb(s,c),nb(c,t.length,1)),jl(t,d),t[22]=d}(d,this.componentDef,p,a,l);if(d)if(r)gl(l,d,["ng-version",j_.full]);else{const{attrs:b,classes:C}=function JN(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ar(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);b&&gl(l,d,b),C&&C.length>0&&Lf(l,d,C.join(" "))}if(g=Oh(f,22),void 0!==t){const b=g.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const M=t[C];b.push(null!=M?Array.from(M):null)}}m=function nx(n,e,t,r){const i=t[1],o=function PO(n,e,t){const r=Ct();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),rb(n,r,e,hs(n,e,1,null),t),ZC(n,r));const i=ha(e,n,r.directiveStart,r);Gt(i,e);const o=Gn(r,e);return o&&Gt(o,e),i}(i,t,e);if(n[8]=t[8]=o,null!==r)for(const a of r)a(o,e);if(e.contentQueries){const a=Ct();e.contentQueries(1,o,a.directiveStart)}const s=Ct();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Si(s.index),XC(t[1],s,0,s.directiveStart,s.directiveEnd,e),eb(e,o)),o}(y,this.componentDef,p,[rx]),ep(f,p,null)}finally{Bh()}return new ex(this.componentType,m,as(g,p),p,g)}}class ex extends class $k{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new QO(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;lp(o[1],o,i,e,t),JC(o,this._tNode.index)}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function rx(){const n=Ct();fl(S()[1],n)}function $(n){let e=function ub(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new w(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=dp(n.inputs),s.declaredInputs=dp(n.declaredInputs),s.outputs=dp(n.outputs);const a=i.hostBindings;a&&ax(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&ox(n,c),l&&sx(n,l),_h(n.inputs,i.inputs),_h(n.declaredInputs,i.declaredInputs),_h(n.outputs,i.outputs),sr(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===$&&(t=!1)}}e=Object.getPrototypeOf(e)}!function ix(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=vl(i.hostAttrs,t=vl(t,i.hostAttrs))}}(r)}function dp(n){return n===Ho?{}:n===Te?[]:n}function ox(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function sx(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function ax(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let ql=null;function co(){if(!ql){const n=Be.Symbol;if(n&&n.iterator)ql=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ql=r)}}}return ql}function Ra(n){return!!function hp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&co()in n)}function qt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function vn(n,e,t,r){const i=S();return qt(i,qo(),e)&&(me(),Er(at(),i,n,e,t,r)),vn}function ct(n,e,t,r,i,o,s,a){const c=S(),l=me(),u=n+22,d=l.firstCreatePass?function mx(n,e,t,r,i,o,s,a,c){const l=e.consts,u=ds(e,n,4,s||null,Ei(l,a));ip(e,t,u,Ei(l,c)),fl(e,u);const d=u.tViews=rp(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,o,s):l.data[u];Cr(d,!1);const h=c[11].createComment("");xl(l,c,h,d),Gt(h,c),jl(c,c[u]=ib(h,c,h,d)),cl(d)&&tp(l,c,d),null!=s&&np(c,d,a)}function wt(n,e,t){const r=S();return qt(r,qo(),e)&&function Fn(n,e,t,r,i,o,s,a){const c=Gn(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(lp(n,t,u,r,i),al(e)&&JC(t,e.index)):3&e.type&&(r=function OO(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}(me(),at(),r,n,e,r[11],t,!1),wt}function fp(n,e,t,r,i){const s=i?"class":"style";lp(n,t,e.inputs[s],s,r)}function ge(n,e,t,r){const i=S(),o=me(),s=22+n,a=i[11],c=i[s]=kf(a,e,function vR(){return ne.lFrame.currentNamespace}()),l=o.firstCreatePass?function yx(n,e,t,r,i,o,s){const a=e.consts,l=ds(e,n,2,i,Ei(a,o));return ip(e,t,l,Ei(a,s)),null!==l.attrs&&$l(l,l.attrs,!1),null!==l.mergedAttrs&&$l(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,t,r):o.data[s];Cr(l,!0);const u=l.mergedAttrs;null!==u&&gl(a,c,u);const d=l.classes;null!==d&&Lf(a,c,d);const h=l.styles;return null!==h&&vC(a,c,h),64!=(64&l.flags)&&xl(o,i,c,l),0===function tR(){return ne.lFrame.elementDepthCount}()&&Gt(c,i),function nR(){ne.lFrame.elementDepthCount++}(),cl(l)&&(tp(o,i,l),KC(o,l,i)),null!==r&&np(i,l),ge}function ve(){let n=Ct();Ph()?Fh():(n=n.parent,Cr(n,!1));const e=n;!function rR(){ne.lFrame.elementDepthCount--}();const t=me();return t.firstCreatePass&&(fl(t,n),Ah(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function wR(n){return 0!=(16&n.flags)}(e)&&fp(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ER(n){return 0!=(32&n.flags)}(e)&&fp(t,e,S(),e.stylesWithoutHost,!1),ve}function Kn(n,e,t,r){return ge(n,e,t,r),ve(),Kn}function ki(n,e,t){const r=S(),i=me(),o=n+22,s=i.firstCreatePass?function _x(n,e,t,r,i){const o=e.consts,s=Ei(o,r),a=ds(e,n,8,"ng-container",s);return null!==s&&$l(a,s,!0),ip(e,t,a,Ei(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];Cr(s,!0);const a=r[o]=r[11].createComment("");return xl(i,r,a,s),Gt(a,r),cl(s)&&(tp(i,r,s),KC(i,s,r)),null!=t&&np(r,s),ki}function Ni(){let n=Ct();const e=me();return Ph()?Fh():(n=n.parent,Cr(n,!1)),e.firstCreatePass&&(fl(e,n),Ah(n)&&e.queries.elementEnd(n)),Ni}function Tr(n,e,t){return ki(n,e,t),Ni(),Tr}function Wl(){return S()}function Na(n){return!!n&&"function"==typeof n.then}const pp=function Cb(n){return!!n&&"function"==typeof n.subscribe};function Mt(n,e,t,r){const i=S(),o=me(),s=Ct();return function wb(n,e,t,r,i,o,s,a){const c=cl(r),u=n.firstCreatePass&&sb(n),d=e[8],h=ob(e);let f=!0;if(3&r.type||a){const g=Gn(r,e),y=a?a(g):g,b=h.length,C=a?G=>a(ht(G[r.index])):r.index;let M=null;if(!a&&c&&(M=function Cx(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,f=!1;else{o=Sb(r,e,d,o,!1);const G=t.listen(y,i,o);h.push(o,G),u&&u.push(i,C,b,b+1)}}else o=Sb(r,e,d,o,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let y=0;y<g;y+=2){const X=e[m[y]][m[y+1]].subscribe(o),Ie=h.length;h.push(o,X),u&&u.push(i,r.index,Ie,-(Ie+1))}}}(o,i,i[11],s,n,e,0,r),Mt}function Eb(n,e,t,r){try{return!1!==t(r)}catch(i){return cb(n,i),!1}}function Sb(n,e,t,r,i){return function o(s){if(s===Function)return r;ap(2&n.flags?Nn(n.index,e):e);let c=Eb(e,0,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Eb(e,0,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Dr(n=1){return function dR(n){return(ne.lFrame.contextLView=function hR(n,e){for(;n>0;)e=e[15],n--;return e}(n,ne.lFrame.contextLView))[8]}(n)}function bx(n,e){let t=null;const r=function qN(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?bC(n,o,!0):YN(r,o))return i}else t=i}return t}function ri(n){const e=S()[16][6];if(!e.projection){const r=e.projection=ma(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?bx(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function yn(n,e=0,t){const r=S(),i=me(),o=ds(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Fh(),64!=(64&o.flags)&&function VN(n,e,t){gC(e[11],0,e,t,sC(n,t,e),uC(t.parent||e[6],t,e))}(i,r,o)}function xb(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?cr(o):ti(o),c=!1;for(;0!==a&&(!1===c||s);){const u=n[a+1];Sx(n[a],e)&&(c=!0,n[a+1]=r?Gf(u):zf(u)),a=r?cr(u):ti(u)}c&&(n[t+1]=r?zf(o):Gf(o))}function Sx(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ts(n,e)>=0}function Kt(n,e){return function lr(n,e,t,r){const i=S(),o=me(),s=function Qr(n){const e=ne.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function jb(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[on()],s=function Bb(n,e){return e>=n.expandoStartIndex}(n,t);(function qb(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function Ox(n,e,t,r){const i=function Uh(n){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Oa(t=gp(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=gp(i,n,e,t,r),null===o){let c=function xx(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ti(r))return n[cr(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=gp(null,n,e,c[1],r),c=Oa(c,e.attrs,r),function Px(n,e,t,r){n[cr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function Fx(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Oa(r,n[o].hostAttrs,t);return Oa(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function wx(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=cr(s),c=ti(s);n[r]=t;let u,l=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||ts(d,u)>0)&&(l=!0)}else u=t;if(i)if(0!==c){const h=cr(n[a+1]);n[r+1]=Ll(h,a),0!==h&&(n[h+1]=$f(n[h+1],r)),n[a+1]=function vO(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ll(a,0),0!==a&&(n[a+1]=$f(n[a+1],r)),a=r;else n[r+1]=Ll(c,0),0===a?a=r:n[c+1]=$f(n[c+1],r),c=r;l&&(n[r+1]=zf(n[r+1])),xb(n,u,r,!0),xb(n,u,r,!1),function Ex(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ts(o,e)>=0&&(t[r+1]=Gf(t[r+1]))}(e,u,n,r,o),s=Ll(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==oe&&qt(i,s,e)&&function $b(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1];Yl(function LC(n){return 1==(1&n)}(l)?Gb(c,e,t,i,ti(l),s):void 0)||(Yl(o)||function FC(n){return 2==(2&n)}(l)&&(o=Gb(c,null,t,i,a,s)),function BN(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:mn.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mn.Important),n.setStyle(t,r,i,o))}}(r,s,ll(on(),t),i,o))}(o,o.data[on()],i,i[11],n,i[s+1]=function Vx(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ve(Pn(n)))),n}(e,t),r,s)}(n,e,null,!0),Kt}function gp(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Oa(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Oa(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xn(n,s,!!t||e[++o]))}return void 0===n?null:n}function Gb(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===oe&&(h=d?Te:void 0);let f=d?Qh(h,r):u===r?h:void 0;if(l&&!Yl(f)&&(f=Qh(c,r)),Yl(f)&&(a=f,s))return a;const p=n[i+1];i=s?cr(p):ti(p)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Qh(c,r))}return a}function Yl(n){return void 0!==n}function ze(n,e=""){const t=S(),r=me(),i=n+22,o=r.firstCreatePass?ds(r,i,1,e,null):r.data[i],s=t[i]=function Rf(n,e){return n.createText(e)}(t[11],e);xl(r,t,s,o),Cr(o,!1)}function vp(n){return Mr("",n,""),vp}function Mr(n,e,t){const r=S(),i=function ps(n,e,t,r){return qt(n,qo(),t)?e+ie(t)+r:oe}(r,n,e,t);return i!==oe&&function ni(n,e,t){const r=ll(e,n);!function rC(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,on(),i),Mr}const Ts="en-US";let pw=Ts;function Cp(n,e,t,r,i){if(n=J(n),Array.isArray(n))for(let o=0;o<n.length;o++)Cp(n[o],e,t,r,i);else{const o=me(),s=S();let a=oo(n)?n:J(n.provide),c=V_(n);const l=Ct(),u=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(oo(n)||!n.multi){const f=new la(c,i,_),p=wp(a,e,i?u:u+h,d);-1===p?(Cl(da(l,s),o,a),bp(o,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=wp(a,e,u+h,d),p=wp(a,e,u,u+h),m=f>=0&&t[f],g=p>=0&&t[p];if(i&&!g||!i&&!m){Cl(da(l,s),o,a);const y=function rF(n,e,t,r,i){const o=new la(n,t,_);return o.multi=[],o.index=e,o.componentProviders=0,Vw(o,i,r&&!t),o}(i?nF:tF,t.length,i,r,c);!i&&g&&(t[p].providerFactory=y),bp(o,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(y),s.push(y)}else bp(o,n,f>-1?f:p,Vw(t[i?p:f],c,!i&&r));!i&&r&&g&&t[p].componentProviders++}}}function bp(n,e,t,r){const i=oo(e),o=function Fk(n){return!!n.useClass}(e);if(i||o){const c=(o?J(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Vw(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function tF(n,e,t,r){return Ep(this.multi,[])}function nF(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ha(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),Ep(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Ep(i,o);return o}function Ep(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ce(n,e=[]){return t=>{t.providersResolver=(r,i)=>function eF(n,e,t){const r=me();if(r.firstCreatePass){const i=sr(n);Cp(t,r.data,r.blueprint,i,!0),Cp(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ho{}class Hw{}class Bw extends ho{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new up(this);const r=Rn(e);this._bootstrapComponents=ei(r.bootstrap),this._r3Injector=AC(e,t,[{provide:ho,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Sp extends Hw{constructor(e){super(),this.moduleType=e}create(e){return new Bw(this.moduleType,e)}}class oF extends ho{constructor(e,t,r){super(),this.componentFactoryResolver=new up(this),this.instance=null;const i=new U_([...e,{provide:ho,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],t||Nl(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function eu(n,e,t=null){return new oF(n,e,t).injector}let sF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=x_(0,t.type),i=r.length>0?eu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(E(Ii))}),n})();function jw(n){n.getStandaloneInjector=e=>e.get(sF).getOrCreateStandaloneInjector(n)}function Yw(n,e,t){const r=function rn(){const n=ne.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}()+n,i=S();return i[r]===oe?function Sr(n,e,t){return n[e]=t}(i,r,t?e.call(t):e()):function ka(n,e){return n[e]}(i,r)}function Dp(n){return e=>{setTimeout(n,void 0,e)}}const $e=class kF extends Je{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Dp(o),i&&(i=Dp(i)),s&&(s=Dp(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof en&&e.add(a),a}};function NF(){return this._results[co()]()}class Ba{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=co(),r=Ba.prototype;r[t]||(r[t]=NF)}get changes(){return this._changes||(this._changes=new $e)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=On(e);(this._changesDetected=!function OR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pt=(()=>{class n{}return n.__NG_ELEMENT_ID__=PF,n})();const OF=Pt,xF=class extends OF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Hl(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),ep(r,i,e),new Aa(i)}};function PF(){return tu(Ct(),S())}function tu(n,e){return 4&n.type?new xF(e,n,as(n,e)):null}let Wt=(()=>{class n{}return n.__NG_ELEMENT_ID__=FF,n})();function FF(){return rE(Ct(),S())}const LF=Wt,tE=class extends LF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return as(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){const e=_l(this._hostTNode,this._hostLView);if(Yy(e)){const t=Wo(e,this._hostLView),r=Ko(e);return new Yo(t[1].data[r+8],t)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=nE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function pa(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const c=s?e:new Ma(xe(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const h=(s?l:this.parentInjector).get(Ii,null);h&&(o=h)}const u=c.create(l,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function eR(n){return or(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new tE(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function ON(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],s_(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function xN(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=Pf(o,s),c=r[11],l=Ol(c,s[7]);return null!==l&&function RN(n,e,t,r,i,o){r[0]=i,r[6]=e,Ia(n,r,t,1,i,o)}(i,s[6],c,r,l,a),e.attachToViewContainerRef(),s_(Ip(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=nE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Nf(this._lContainer,t);r&&(wl(Ip(this._lContainer),t),oC(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Nf(this._lContainer,t);return r&&null!=wl(Ip(this._lContainer),t)?new Aa(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nE(n){return n[8]}function Ip(n){return n[8]||(n[8]=[])}function rE(n,e){let t;const r=e[n.index];if(or(r))t=r;else{let i;if(8&n.type)i=ht(r);else{const o=e[11];i=o.createComment("");const s=Gn(n,e);ao(o,Ol(o,s),i,function UN(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=ib(r,e,i,n),jl(e,t)}return new tE(t,n,e)}class Ap{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ap(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mp{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Mp(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==cE(e,t).matches&&this.queries[t].setDirty()}}class iE{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Rp{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Rp(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class kp{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new kp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,HF(t,o)),this.matchTNodeWithReadOption(e,t,bl(t,e,o,!1,!1))}else r===Pt?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Le||i===Wt||i===Pt&&4&t.type)this.addMatch(t.index,-2);else{const o=bl(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function HF(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function jF(n,e,t,r){return-1===t?function BF(n,e){return 11&n.type?as(n,e):4&n.type?tu(n,e):null}(e,n):-2===t?function zF(n,e,t){return t===Le?as(e,n):t===Pt?tu(e,n):t===Wt?rE(e,n):void 0}(n,e,r):ha(n,n[1],t,e)}function oE(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:jF(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Np(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=oE(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&Np(h[1],h,l,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];Np(f[1],f,l,r)}}}}}return r}function Ke(n){const e=S(),t=me(),r=Vy();Vh(r+1);const i=cE(t,r);if(n.dirty&&function X0(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Np(t,e,r,[]):oE(t,e,i,r);n.reset(o,Wk),n.notifyOnChanges()}return!0}return!1}function Rr(n,e,t){const r=me();r.firstCreatePass&&(aE(r,new iE(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),sE(r,S(),e)}function Yt(n,e,t,r){const i=me();if(i.firstCreatePass){const o=Ct();aE(i,new iE(e,t,r),o.index),function GF(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}sE(i,S(),t)}function We(){return function $F(n,e){return n[19].queries[e].queryList}(S(),Vy())}function sE(n,e,t){const r=new Ba(4==(4&t));YC(n,e,r,r.destroy),null===e[19]&&(e[19]=new Mp),e[19].queries.push(new Ap(r))}function aE(n,e,t){null===n.queries&&(n.queries=new Rp),n.queries.track(new kp(e,t))}function cE(n,e){return n.queries.getByIndex(e)}function ru(...n){}const iu=new k("Application Initializer");let ou=(()=>{class n{constructor(t){this.appInits=t,this.resolve=ru,this.reject=ru,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Na(o))t.push(o);else if(pp(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(E(iu,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const za=new k("AppId",{providedIn:"root",factory:function IE(){return`${Lp()}${Lp()}${Lp()}`}});function Lp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AE=new k("Platform Initializer"),su=new k("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ME=new k("appBootstrapListener"),fo=new k("AnimationModuleType");let f1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const kr=new k("LocaleId",{providedIn:"root",factory:()=>qe(kr,W.Optional|W.SkipSelf)||function p1(){return typeof $localize<"u"&&$localize.locale||Ts}()});class g1{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Up=(()=>{class n{compileModuleSync(t){return new Sp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ei(Rn(t).declarations).reduce((s,a)=>{const c=xe(a);return c&&s.push(new Ma(c)),s},[]);return new g1(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _1=(()=>Promise.resolve(0))();function Vp(n){typeof Zone>"u"?_1.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Re{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function C1(){let n=Be.requestAnimationFrame,e=Be.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function E1(n){const e=()=>{!function w1(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Be,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bp(n),n.isCheckStableRunning=!0,Hp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return NE(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),OE(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return NE(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),OE(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Bp(n),Hp(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Re.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(Re.isInAngularZone())throw new w(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,b1,ru,ru);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const b1={};function Hp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function NE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OE(n){n._nesting--,Hp(n)}class S1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const xE=new k(""),au=new k("");let $p,jp=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$p||(function T1(n){$p=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Re.assertNotInAngularZone(),Vp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(E(Re),E(zp),E(au))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),zp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return $p?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Oi=null;const PE=new k("AllowMultipleToken"),Gp=new k("PlatformDestroyListeners");class FE{constructor(e,t){this.name=e,this.token=t}}function UE(n,e,t=[]){const r=`Platform: ${e}`,i=new k(r);return(o=[])=>{let s=qp();if(!s||s.injector.get(PE,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function A1(n){if(Oi&&!Oi.get(PE,!1))throw new w(400,!1);Oi=n;const e=n.get(HE);(function LE(n){const e=n.get(AE,null);e&&e.forEach(t=>t())})(n)}(function VE(n=[],e){return gn.create({name:e,providers:[{provide:ff,useValue:"platform"},{provide:Gp,useValue:new Set([()=>Oi=null])},...n]})}(a,r))}return function R1(n){const e=qp();if(!e)throw new w(401,!1);return e}()}}function qp(){return Oi?.get(HE)??null}let HE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function jE(n,e){let t;return t="noop"===n?new S1:("zone.js"===n?void 0:n)||new Re(e),t}(r?.ngZone,function BE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Re,useValue:i}];return i.run(()=>{const s=gn.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),c=a.injector.get(Ai,null);if(!c)throw new w(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{c.handleError(u)}});a.onDestroy(()=>{cu(this._modules,a),l.unsubscribe()})}),function zE(n,e,t){try{const r=t();return Na(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(ou);return l.runInitializers(),l.donePromise.then(()=>(function mw(n){Mn(n,"Expected localeId to be defined"),"string"==typeof n&&(pw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(kr,Ts)||Ts),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=$E({},r);return function D1(n,e,t){const r=new Sp(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get($a);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new w(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Gp,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(E(gn))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function $E(n,e){return Array.isArray(e)?e.reduce($E,n):{...n,...e}}let $a=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ze(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),Vp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function E0(...n){const e=na(n),t=function g0(n,e){return"number"==typeof vh(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?In(r[0]):Vo(t)(Ce(r,e)):qr}(o,s.pipe(function yy(n={}){const{connector:e=(()=>new Je),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return ot((m,g)=>{l++,!d&&!u&&h();const y=c=c??e();g.add(()=>{l--,0===l&&!d&&!u&&(a=yh(p,i))}),y.subscribe(g),!s&&l>0&&(s=new ta({next:b=>y.next(b),error:b=>{d=!0,h(),a=yh(f,t,b),y.error(b)},complete:()=>{u=!0,h(),a=yh(f,r),y.complete()}}),In(m).subscribe(s))})(o)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof H_;if(!this._injector.get(ou).done)throw!i&&function Bo(n){const e=xe(n)||tn(n)||nn(n);return null!==e&&e.standalone}(t),new w(405,false);let s;s=i?t:this._injector.get(Ea).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function I1(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ho),l=s.create(gn.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(xE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),cu(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;cu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ME,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>cu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new w(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(E(Re),E(Ii),E(Ai))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let qE=!0,po=(()=>{class n{}return n.__NG_ELEMENT_ID__=O1,n})();function O1(n){return function x1(n,e,t){if(al(n)&&!t){const r=Nn(n.index,e);return new Aa(r,r)}return 47&n.type?new Aa(e[16],e):null}(Ct(),S(),16==(16&n))}class ZE{constructor(){}supports(e){return Ra(e)}create(e){return new H1(e)}}const V1=(n,e)=>e;class H1{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||V1}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<XE(r,i,o)?t:r,a=XE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ra(e))throw new w(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function hx(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[co()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new B1(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new JE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class B1{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j1{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class JE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new j1,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XE(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function tS(){return new oi([new ZE])}let oi=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||tS()),deps:[[n,new rs,new Di]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new w(901,!1)}}return n.\u0275prov=H({token:n,providedIn:"root",factory:tS}),n})();const K1=UE(null,"core",[]);let W1=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(E($a))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({}),n})();function si(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let du=null;function Nr(){return du}const ke=new k("DocumentToken");let Zp=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return function J1(){return E(rS)}()},providedIn:"platform"}),n})();const X1=new k("Location Initialized");let rS=(()=>{class n extends Zp{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nr().getBaseHref(this._doc)}onPopState(t){const r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){iS()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){iS()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(E(ke))},n.\u0275prov=H({token:n,factory:function(){return function eL(){return new rS(E(ke))}()},providedIn:"platform"}),n})();function iS(){return!!window.history.pushState}function Jp(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function oS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ai(n){return n&&"?"!==n[0]?"?"+n:n}let go=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return qe(aS)},providedIn:"root"}),n})();const sS=new k("appBaseHref");let aS=(()=>{class n extends go{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??qe(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jp(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ai(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ai(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Zp),E(sS,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tL=(()=>{class n extends go{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Jp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ai(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ai(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Zp),E(sS,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),qa=(()=>{class n{constructor(t){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=oS(cS(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ai(r))}normalize(t){return n.stripTrailingSlash(function rL(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,cS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ai(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ai,n.joinWithSlash=Jp,n.stripTrailingSlash=oS,n.\u0275fac=function(t){return new(t||n)(E(go))},n.\u0275prov=H({token:n,factory:function(){return function nL(){return new qa(E(go))}()},providedIn:"root"}),n})();function cS(n){return n.replace(/\/index.html$/,"")}function vS(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let bu=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new GL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(Wt),_(Pt))},n.\u0275dir=R({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class GL{constructor(){this.$implicit=null,this.ngIf=null}}function bS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ve(e)}'.`)}let hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({}),n})();const SS="browser";let wU=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new EU(E(ke),window)}),n})();class EU{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function SU(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=TS(this.window.history)||TS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function TS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class DS{}class mm extends class jU extends class Z1{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Q1(n){du||(du=n)}(new mm)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function zU(){return Qa=Qa||document.querySelector("base"),Qa?Qa.getAttribute("href"):null}();return null==t?null:function $U(n){Eu=Eu||document.createElement("a"),Eu.setAttribute("href",n);const e=Eu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vS(document.cookie,e)}}let Eu,Qa=null;const RS=new k("TRANSITION_ID"),qU=[{provide:iu,useFactory:function GU(n,e,t){return()=>{t.get(ou).donePromise.then(()=>{const r=Nr(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[RS,ke,gn],multi:!0}];let WU=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const Su=new k("EventManagerPlugins");let Tu=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(E(Su),E(Re))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class kS{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Nr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let NS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Za=(()=>{class n extends NS{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(OS),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(OS))}}return n.\u0275fac=function(t){return new(t||n)(E(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function OS(n){Nr().remove(n)}const gm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vm=/%COMP%/g;function Du(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Du(n,i,t):(i=i.replace(vm,n),t.push(i))}return t}function FS(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Iu=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ym(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case rr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new eV(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case rr.ShadowDom:return new tV(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Du(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(E(Tu),E(Za),E(za))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class ym{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gm[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(US(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(US(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=gm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(t,r,i&mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,FS(r)):this.eventManager.addEventListener(e,t,FS(r))}}function US(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eV extends ym{constructor(e,t,r,i){super(e),this.component=r;const o=Du(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function ZU(n){return"_ngcontent-%COMP%".replace(vm,n)}(i+"-"+r.id),this.hostAttr=function JU(n){return"_nghost-%COMP%".replace(vm,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class tV extends ym{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Du(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nV=(()=>{class n extends kS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(E(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const VS=["alt","control","meta","shift"],rV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oV=(()=>{class n extends kS{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),VS.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=rV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),VS.forEach(s=>{s!==i&&(0,iV[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(E(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const BS=[{provide:su,useValue:SS},{provide:AE,useValue:function sV(){mm.makeCurrent()},multi:!0},{provide:ke,useFactory:function cV(){return function ik(n){tf=n}(document),document},deps:[]}],lV=UE(K1,"browser",BS),jS=new k(""),zS=[{provide:au,useClass:class KU{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Nr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:xE,useClass:jp,deps:[Re,zp,au]},{provide:jp,useClass:jp,deps:[Re,zp,au]}],$S=[{provide:ff,useValue:"root"},{provide:Ai,useFactory:function aV(){return new Ai},deps:[]},{provide:Su,useClass:nV,multi:!0,deps:[ke,Re,su]},{provide:Su,useClass:oV,multi:!0,deps:[ke]},{provide:Iu,useClass:Iu,deps:[Tu,Za,za]},{provide:Sa,useExisting:Iu},{provide:NS,useExisting:Za},{provide:Za,useClass:Za,deps:[ke]},{provide:Tu,useClass:Tu,deps:[Su,Re]},{provide:DS,useClass:WU,deps:[]},[]];let GS=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:za,useValue:t.appId},{provide:RS,useExisting:za},qU]}}}return n.\u0275fac=function(t){return new(t||n)(E(jS,12))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({providers:[...$S,...zS],imports:[hm,W1]}),n})(),qS=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(E(ke))},n.\u0275prov=H({token:n,factory:function(t){let r=null;return r=t?new t:function dV(){return new qS(E(ke))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;class QS{}const li="*";function ZS(n,e=null){return{type:2,steps:n,options:e}}function JS(n){return{type:6,styles:n,offset:null}}function XS(n){Promise.resolve().then(n)}class Ja{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){XS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class eT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?XS(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function tT(n){return new w(3e3,!1)}function eH(){return typeof window<"u"&&typeof window.document<"u"}function Em(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Pi(n){switch(n.length){case 0:return new Ja;case 1:return n[0];default:return new eT(n)}}function nT(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let c=-1,l=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==c,f=h&&l||new Map;u.forEach((p,m)=>{let g=m,y=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,s),y){case"!":y=i.get(m);break;case li:y=o.get(m);break;default:y=e.normalizeStyleValue(m,g,y,s)}f.set(g,y)}),h||a.push(f),l=f,c=d}),s.length)throw function jV(n){return new w(3502,!1)}();return a}function Sm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Tm(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Tm(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Tm(t,"destroy",n)))}}function Tm(n,e,t){const o=Dm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Dm(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ln(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function rT(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Im=(n,e)=>!1,iT=(n,e,t)=>[],oT=null;function Am(n){const e=n.parentNode||n.host;return e===oT?null:e}(Em()||typeof Element<"u")&&(eH()?(oT=(()=>document.documentElement)(),Im=(n,e)=>{for(;e;){if(e===n)return!0;e=Am(e)}return!1}):Im=(n,e)=>n.contains(e),iT=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let vo=null,sT=!1;const aT=Im,cT=iT;let lT=(()=>{class n{validateStyleProperty(t){return function nH(n){vo||(vo=function rH(){return typeof document<"u"?document.body:null}()||{},sT=!!vo.style&&"WebkitAppearance"in vo.style);let e=!0;return vo.style&&!function tH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in vo.style,!e&&sT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vo.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return aT(t,r)}getParentElement(t){return Am(t)}query(t,r,i){return cT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ja(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Mm=(()=>{class n{}return n.NOOP=new lT,n})();const Rm="ng-enter",Au="ng-leave",Mu="ng-trigger",Ru=".ng-trigger",dT="ng-animating",km=".ng-animating";function ui(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Nm(parseFloat(e[1]),e[2])}function Nm(n,e){return"s"===e?1e3*n:n}function ku(n,e,t){return n.hasOwnProperty("duration")?n:function sH(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(tT()),{duration:0,delay:0,easing:""};i=Nm(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Nm(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function CV(){return new w(3100,!1)}()),a=!0),o<0&&(e.push(function bV(){return new w(3101,!1)}()),a=!0),a&&e.splice(c,0,tT())}return{duration:i,delay:o,easing:s}}(n,e,t)}function Xa(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function hT(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Fi(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function pT(n,e,t){return t?e+":"+t+";":""}function mT(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=pT(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=pT(0,uH(t),n.style[t]));n.setAttribute("style",e)}function Or(n,e,t){n.style&&(e.forEach((r,i)=>{const o=xm(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),Em()&&mT(n))}function yo(n,e){n.style&&(e.forEach((t,r)=>{const i=xm(r);n.style[i]=""}),Em()&&mT(n))}function ec(n){return Array.isArray(n)?1==n.length?n[0]:ZS(n):n}const Om=new RegExp("{{\\s*(.+?)\\s*}}","g");function gT(n){let e=[];if("string"==typeof n){let t;for(;t=Om.exec(n);)e.push(t[1]);Om.lastIndex=0}return e}function tc(n,e,t){const r=n.toString(),i=r.replace(Om,(o,s)=>{let a=e[s];return null==a&&(t.push(function EV(n){return new w(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Nu(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const lH=/-+([a-z0-9])/g;function xm(n){return n.replace(lH,(...e)=>e[1].toUpperCase())}function uH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Un(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function SV(n){return new w(3004,!1)}()}}function vT(n,e){return window.getComputedStyle(n)[e]}function gH(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vH(n,e,t){if(":"==n[0]){const c=function yH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function UV(n){return new w(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function LV(n){return new w(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(yT(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(yT(s,i))}(r,t,e)):t.push(n),t}const Fu=new Set(["true","1"]),Lu=new Set(["false","0"]);function yT(n,e){const t=Fu.has(n)||Lu.has(n),r=Fu.has(e)||Lu.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?Fu.has(n):Lu.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?Fu.has(e):Lu.has(e)),s&&a}}const _H=new RegExp("s*:selfs*,?","g");function Pm(n,e,t,r){return new CH(n).build(e,t,r)}class CH{constructor(e){this._driver=e}build(e,t,r){const i=new EH(t);return this._resetContextStyleTimingState(i),Un(this,ec(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function DV(){return new w(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(function IV(){return new w(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{gT(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(Nu(o.values()),t.errors.push(function AV(n,e){return new w(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Un(this,ec(e.animation),t);return{type:1,matchers:gH(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:_o(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Un(this,r,t)),options:_o(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=Un(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:_o(e.options)}}visitAnimate(e,t){const r=function TH(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Fm(ku(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Fm(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=ku(t,e);return Fm(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:JS({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};r.easing&&(l.easing=r.easing),s=JS(l)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===li?r.push(a):t.errors.push(new w(3002,!1)):r.push(hT(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),u=l.get(c);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function RV(n,e,t,r,i){return new w(3010,!1)}()),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:i}),t.options&&function cH(n,e,t){const r=e.params||{},i=gT(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function wV(n){return new w(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kV(){return new w(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,l=0;const u=e.steps.map(y=>{const b=this._makeStyleAst(y,t);let C=null!=b.offset?b.offset:function SH(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(b.styles),M=0;return null!=C&&(o++,M=b.offset=C),c=c||M<0||M>1,a=a||M<l,l=M,s.push(M),b});c&&t.errors.push(function NV(){return new w(3012,!1)}()),a&&t.errors.push(function OV(){return new w(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function xV(){return new w(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((y,b)=>{const C=h>0?b==f?1:h*b:s[b],M=C*g;t.currentTime=p+m.delay+M,m.duration=M,this._validateStyleAst(y,t),y.offset=C,r.styles.push(y)}),r}visitReference(e,t){return{type:8,animation:Un(this,ec(e.animation),t),options:_o(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_o(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_o(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function bH(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(_H,"")),n=n.replace(/@\*/g,Ru).replace(/@\w+/g,t=>Ru+"-"+t.slice(1)).replace(/:animating/g,km),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ln(t.collectedStyles,t.currentQuerySelector,new Map);const a=Un(this,ec(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:_o(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function PV(){return new w(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ku(e.timings,t.errors,!0);return{type:12,animation:Un(this,ec(e.animation),t),timings:r,options:null}}}class EH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _o(n){return n?(n=Xa(n)).params&&(n.params=function wH(n){return n?Xa(n):null}(n.params)):n={},n}function Fm(n,e,t){return{duration:n,delay:e,easing:t}}function Lm(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Uu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const AH=new RegExp(":enter","g"),RH=new RegExp(":leave","g");function Um(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return(new kH).buildKeyframes(n,e,t,r,i,o,s,a,c,l)}class kH{buildKeyframes(e,t,r,i,o,s,a,c,l,u=[]){l=l||new Uu;const d=new Vm(e,t,l,i,o,u,[]);d.options=c;const h=c.delay?ui(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),Un(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[Lm(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const s="number"==typeof o?o:ui(tc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?ui(r.duration):null,a=null!=r.delay?ui(r.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Un(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vu);const s=ui(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Un(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ui(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Un(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ku(t.params?tc(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ui(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vu);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,l);o&&d.delayNextStep(o),l===t.element&&(c=d.currentTimeline),Un(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const u=t.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;Un(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Vu={};class Vm{constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Hu(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ui(r.duration)),null!=r.delay&&(i.delay=ui(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=tc(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new Vm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Vu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new NH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(AH,"."+this._enterClassName)).replace(RH,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&0==a.length&&s.push(function FV(n){return new w(3014,!1)}()),a}}class Hu{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Hu(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||li),this._currentKeyframe.set(t,li);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function OH(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,li)}else Fi(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=tc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??li),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const l=Fi(a,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?e.add(d):u===li&&t.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});const o=e.size?Nu(e.values()):[],s=t.size?Nu(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return Lm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class NH extends Hu{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,c=Fi(e[0]);c.set("offset",0),o.push(c);const l=Fi(e[0]);l.set("offset",bT(a)),o.push(l);const u=e.length-1;for(let d=1;d<=u;d++){let h=Fi(e[d]);const f=h.get("offset");h.set("offset",bT((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return Lm(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function bT(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Hm{}const xH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class PH extends Hm{normalizePropertyName(e,t){return xm(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(xH.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function TV(n,e){return new w(3005,!1)}())}return s+o}}function wT(n,e,t,r,i,o,s,a,c,l,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}const Bm={};class ET{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function FH(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,u){const d=[],h=this.ast.options&&this.ast.options.params||Bm,p=this.buildStyles(r,a&&a.params||Bm,d),m=c&&c.params||Bm,g=this.buildStyles(i,m,d),y=new Set,b=new Map,C=new Map,M="void"===i,G={params:LH(m,h),delay:this.ast.options?.delay},X=u?[]:Um(e,t,this.ast.animation,o,s,p,g,G,l,d);let Ie=0;if(X.forEach(hn=>{Ie=Math.max(hn.duration+hn.delay,Ie)}),d.length)return wT(t,this._triggerName,r,i,M,p,g,[],[],b,C,Ie,d);X.forEach(hn=>{const Nt=hn.element,Wi=Ln(b,Nt,new Set);hn.preStyleProps.forEach(_r=>Wi.add(_r));const Ci=Ln(C,Nt,new Set);hn.postStyleProps.forEach(_r=>Ci.add(_r)),Nt!==t&&y.add(Nt)});const Ee=Nu(y.values());return wT(t,this._triggerName,r,i,M,p,g,X,Ee,b,C,Ie)}}function LH(n,e){const t=Xa(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class UH{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Xa(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=tc(s,i,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(c,s)})}),r}}class HH{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new UH(i.style,i.options&&i.options.params||{},r))}),ST(this.states,"true","1"),ST(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ET(e,i,this.states))}),this.fallbackTransition=function BH(n,e,t){return new ET(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ST(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const jH=new Uu;class zH{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=Pm(this._driver,t,r,[]);if(r.length)throw function zV(n){return new w(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=nT(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Um(this._driver,t,o,Rm,Au,new Map,new Map,r,jH,i),s.forEach(u=>{const d=Ln(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function $V(){return new w(3300,!1)}()),s=[]),i.length)throw function GV(n){return new w(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,li))})});const l=Pi(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function qV(n){return new w(3301,!1)}();return t}listen(e,t,r,i){const o=Dm(t,"","","");return Sm(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const TT="ng-animate-queued",jm="ng-animate-disabled",WH=[],DT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qn="__ng_removed";class zm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function XH(n){return n??null}(r?e.value:e),r){const o=Xa(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const nc="void",$m=new zm(nc);class QH{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function KV(n,e){return new w(3302,!1)}();if(null==r||0==r.length)throw function WV(n){return new w(3303,!1)}();if(!function e2(n){return"start"==n||"done"==n}(r))throw function YV(n,e){return new w(3400,!1)}();const o=Ln(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Ln(this._engine.statesByElement,e,new Map);return a.has(t)||(Zn(e,Mu),Zn(e,Mu+"-"+t),a.set(t,$m)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function QV(n){return new w(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new Gm(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Zn(e,Mu),Zn(e,Mu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new zm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=$m),l.value!==nc&&c.value===l.value){if(!function r2(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const m=[],g=o.matchStyles(c.value,c.params,m),y=o.matchStyles(l.value,l.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{yo(e,g),Or(e,y)})}return}const h=Ln(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:p}),p||(Zn(e,TT),s.onStart(()=>{As(e,TT)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let y=g.indexOf(s);y>=0&&g.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ru,!0);r.forEach(i=>{if(i[Qn])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(e,l,nc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Pi(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,l=r.get(s)||$m,u=new zm(nc),d=new Gm(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Qn];(!o||o===DT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Zn(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=Dm(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,Sm(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ZH{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new QH(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Bu(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Bu(t))return;const o=t[Qn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zn(e,jm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),As(e,jm))}removeNode(e,t,r,i){if(Bu(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Qn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Bu(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Ru,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,km,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pi(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Qn];if(t&&t.setForRemoval){if(e[Qn]=DT,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(jm)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Zn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Pi(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function ZV(n){return new w(3402,!1)}()}_flushAnimations(e,t){const r=new Uu,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(B=>{u.add(B);const q=this.driver.query(B,".ng-animate-queued",!0);for(let Q=0;Q<q.length;Q++)u.add(q[Q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=MT(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((B,q)=>{const Q=Rm+m++;p.set(q,Q),B.forEach(_e=>Zn(_e,Q))});const g=[],y=new Set,b=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const q=this.collectedLeaveElements[B],Q=q[Qn];Q&&Q.setForRemoval&&(g.push(q),y.add(q),Q.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(_e=>y.add(_e)):b.add(q))}const C=new Map,M=MT(h,Array.from(y));M.forEach((B,q)=>{const Q=Au+m++;C.set(q,Q),B.forEach(_e=>Zn(_e,Q))}),e.push(()=>{f.forEach((B,q)=>{const Q=p.get(q);B.forEach(_e=>As(_e,Q))}),M.forEach((B,q)=>{const Q=C.get(q);B.forEach(_e=>As(_e,Q))}),g.forEach(B=>{this.processLeaveNode(B)})});const G=[],X=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(t).forEach(Q=>{const _e=Q.player,Ot=Q.element;if(G.push(_e),this.collectedEnterElements.length){const Xt=Ot[Qn];if(Xt&&Xt.setForMove){if(Xt.previousTriggersValues&&Xt.previousTriggersValues.has(Q.triggerName)){const Lo=Xt.previousTriggersValues.get(Q.triggerName),tr=this.statesByElement.get(Q.element);if(tr&&tr.has(Q.triggerName)){const lh=tr.get(Q.triggerName);lh.value=Lo,tr.set(Q.triggerName,lh)}}return void _e.destroy()}}const $r=!d||!this.driver.containsElement(d,Ot),Bn=C.get(Ot),Yi=p.get(Ot),it=this._buildInstruction(Q,r,Yi,Bn,$r);if(it.errors&&it.errors.length)return void X.push(it);if($r)return _e.onStart(()=>yo(Ot,it.fromStyles)),_e.onDestroy(()=>Or(Ot,it.toStyles)),void i.push(_e);if(Q.isFallbackTransition)return _e.onStart(()=>yo(Ot,it.fromStyles)),_e.onDestroy(()=>Or(Ot,it.toStyles)),void i.push(_e);const BM=[];it.timelines.forEach(Xt=>{Xt.stretchStartingKeyframe=!0,this.disabledNodes.has(Xt.element)||BM.push(Xt)}),it.timelines=BM,r.append(Ot,it.timelines),s.push({instruction:it,player:_e,element:Ot}),it.queriedElements.forEach(Xt=>Ln(a,Xt,[]).push(_e)),it.preStyleProps.forEach((Xt,Lo)=>{if(Xt.size){let tr=c.get(Lo);tr||c.set(Lo,tr=new Set),Xt.forEach((lh,Gv)=>tr.add(Gv))}}),it.postStyleProps.forEach((Xt,Lo)=>{let tr=l.get(Lo);tr||l.set(Lo,tr=new Set),Xt.forEach((lh,Gv)=>tr.add(Gv))})});if(X.length){const B=[];X.forEach(q=>{B.push(function JV(n,e){return new w(3505,!1)}())}),G.forEach(q=>q.destroy()),this.reportError(B)}const Ie=new Map,Ee=new Map;s.forEach(B=>{const q=B.element;r.has(q)&&(Ee.set(q,q),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,Ie))}),i.forEach(B=>{const q=B.element;this._getPreviousPlayers(q,!1,B.namespaceId,B.triggerName,null).forEach(_e=>{Ln(Ie,q,[]).push(_e),_e.destroy()})});const hn=g.filter(B=>kT(B,c,l)),Nt=new Map;AT(Nt,this.driver,b,l,li).forEach(B=>{kT(B,c,l)&&hn.push(B)});const Ci=new Map;f.forEach((B,q)=>{AT(Ci,this.driver,new Set(B),c,"!")}),hn.forEach(B=>{const q=Nt.get(B),Q=Ci.get(B);Nt.set(B,new Map([...Array.from(q?.entries()??[]),...Array.from(Q?.entries()??[])]))});const _r=[],Js=[],Xs={};s.forEach(B=>{const{element:q,player:Q,instruction:_e}=B;if(r.has(q)){if(u.has(q))return Q.onDestroy(()=>Or(q,_e.toStyles)),Q.disabled=!0,Q.overrideTotalTime(_e.totalTime),void i.push(Q);let Ot=Xs;if(Ee.size>1){let Bn=q;const Yi=[];for(;Bn=Bn.parentNode;){const it=Ee.get(Bn);if(it){Ot=it;break}Yi.push(Bn)}Yi.forEach(it=>Ee.set(it,Ot))}const $r=this._buildAnimation(Q.namespaceId,_e,Ie,o,Ci,Nt);if(Q.setRealPlayer($r),Ot===Xs)_r.push(Q);else{const Bn=this.playersByElement.get(Ot);Bn&&Bn.length&&(Q.parentPlayer=Pi(Bn)),i.push(Q)}}else yo(q,_e.fromStyles),Q.onDestroy(()=>Or(q,_e.toStyles)),Js.push(Q),u.has(q)&&i.push(Q)}),Js.forEach(B=>{const q=o.get(B.element);if(q&&q.length){const Q=Pi(q);B.setRealPlayer(Q)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<g.length;B++){const q=g[B],Q=q[Qn];if(As(q,Au),Q&&Q.hasAnimation)continue;let _e=[];if(a.size){let $r=a.get(q);$r&&$r.length&&_e.push(...$r);let Bn=this.driver.query(q,km,!0);for(let Yi=0;Yi<Bn.length;Yi++){let it=a.get(Bn[Yi]);it&&it.length&&_e.push(...it)}}const Ot=_e.filter($r=>!$r.destroyed);Ot.length?t2(this,q,Ot):this.processLeaveNode(q)}return g.length=0,_r.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const q=this.players.indexOf(B);this.players.splice(q,1)}),B.play()}),_r}elementContainsData(e,t){let r=!1;const i=t[Qn];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==nc;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,u=l!==o,d=Ln(r,l,[]);this._getPreviousPlayers(l,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}yo(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,c=t.element,l=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Qn];if(g&&g.removedBeforeQueried)return new Ja(p.duration,p.delay);const y=m!==c,b=function n2(n){const e=[];return RT(n,e),e}((r.get(m)||WH).map(Ie=>Ie.getRealPlayer())).filter(Ie=>!!Ie.element&&Ie.element===m),C=o.get(m),M=s.get(m),G=nT(0,this._normalizer,0,p.keyframes,C,M),X=this._buildPlayer(p,G,b);if(p.subTimeline&&i&&d.add(m),y){const Ie=new Gm(e,a,m);Ie.setRealPlayer(X),l.push(Ie)}return X});l.forEach(p=>{Ln(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function JH(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Zn(p,dT));const f=Pi(h);return f.onDestroy(()=>{u.forEach(p=>As(p,dT)),Or(c,t.toStyles)}),d.forEach(p=>{Ln(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ja(e.duration,e.delay)}}class Gm{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ja,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Sm(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ln(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Bu(n){return n&&1===n.nodeType}function IT(n,e){const t=n.style.display;return n.style.display=e??"none",t}function AT(n,e,t,r,i){const o=[];t.forEach(c=>o.push(IT(c)));const s=[];r.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const h=e.computeStyle(l,d,i);u.set(d,h),(!h||0==h.length)&&(l[Qn]=YH,s.push(l))}),n.set(l,u)});let a=0;return t.forEach(c=>IT(c,o[a++])),s}function MT(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:i.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Zn(n,e){n.classList?.add(e)}function As(n,e){n.classList?.remove(e)}function t2(n,e,t){Pi(t).onDone(()=>n.processLeaveNode(e))}function RT(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof eT?RT(r.players,e):e.push(r)}}function kT(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class ju{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new ZH(e,t,r),this._timelineEngine=new zH(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],u=Pm(this._driver,o,c,[]);if(c.length)throw function BV(n,e){return new w(3404,!1)}();a=function VH(n,e,t){return new HH(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=rT(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=rT(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let s2=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Or(this._element,this._initialStyles),this._endStyles&&(Or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),Or(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qm(n){let e=null;return n.forEach((t,r)=>{(function a2(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class NT{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:vT(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class c2{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return aT(e,t)}getParentElement(e){return Am(e)}query(e,t,r){return cT(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(f=>f instanceof NT);(function dH(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>l.set(m,p))});let d=function aH(n){return n.length?n[0]instanceof Map?n:n.map(e=>hT(e)):[]}(t).map(f=>Fi(f));d=function hH(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,vT(n,a)))}}return e}(e,d,l);const h=function o2(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qm(e[0]),e.length>1&&(r=qm(e[e.length-1]))):e instanceof Map&&(t=qm(e)),t||r?new s2(n,t,r):null}(e,d);return new NT(e,d,c,h)}}let l2=(()=>{class n extends QS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:rr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ZS(t):t;return OT(this._renderer,null,r,"register",[i]),new u2(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E(Sa),E(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class u2 extends class _V{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new d2(this._id,e,t||{},this._renderer)}}class d2{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return OT(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function OT(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const xT="@.disabled";let h2=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new PT("",o,this.engine),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(s,a,t,u.name,u)};return r.data.animation.forEach(c),new f2(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E(Sa),E(ju),E(Re))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class PT{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==xT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class f2 extends PT{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xT?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function p2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function m2(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}const FT=[{provide:QS,useClass:l2},{provide:Hm,useFactory:function v2(){return new PH}},{provide:ju,useClass:(()=>{class n extends ju{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E(ke),E(Mm),E(Hm),E($a))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})()},{provide:Sa,useFactory:function y2(n,e,t){return new h2(n,e,t)},deps:[Iu,ju,Re]}],Km=[{provide:Mm,useFactory:()=>new c2},{provide:fo,useValue:"BrowserAnimations"},...FT],LT=[{provide:Mm,useClass:lT},{provide:fo,useValue:"NoopAnimations"},...FT];let _2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?LT:Km}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({providers:Km,imports:[GS]}),n})();const{isArray:C2}=Array,{getPrototypeOf:b2,prototype:w2,keys:E2}=Object;const{isArray:T2}=Array;let kD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({}),n})(),TB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[kD]}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[TB]}),n})();function U(...n){return Ce(n,na(n))}function xr(n,e){return Pe(e)?xt(n,e,1):xt(n,1)}function Ft(n,e){return ot((t,r)=>{let i=0;t.subscribe(Xe(r,o=>n.call(e,o,i++)&&r.next(o)))})}class YD{}class QD{}class di{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof di?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new di;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof di?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class AB{encodeKey(e){return ZD(e)}encodeValue(e){return ZD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RB=/%(\d[a-f0-9])/gi,kB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZD(n){return encodeURIComponent(n).replace(RB,(e,t)=>kB[t]??e)}function Xu(n){return`${n}`}class Hi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new AB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Xu):[Xu(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Hi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Xu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Xu(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class NB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XD(n){return typeof Blob<"u"&&n instanceof Blob}function eI(n){return typeof FormData<"u"&&n instanceof FormData}class ac{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function OB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new di),this.context||(this.context=new NB),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Hi,this.urlWithParams=t}serializeBody(){return null===this.body?null:JD(this.body)||XD(this.body)||eI(this.body)||function xB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eI(this.body)?null:XD(this.body)?this.body.type||null:JD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new ac(t,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var mt=(()=>((mt=mt||{})[mt.Sent=0]="Sent",mt[mt.UploadProgress=1]="UploadProgress",mt[mt.ResponseHeader=2]="ResponseHeader",mt[mt.DownloadProgress=3]="DownloadProgress",mt[mt.Response=4]="Response",mt[mt.User=5]="User",mt))();class pg{constructor(e,t=200,r="OK"){this.headers=e.headers||new di,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class mg extends pg{constructor(e={}){super(e),this.type=mt.ResponseHeader}clone(e={}){return new mg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ed extends pg{constructor(e={}){super(e),this.type=mt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ed({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tI extends pg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function gg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vg=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ac)o=t;else{let c,l;c=i.headers instanceof di?i.headers:new di(i.headers),i.params&&(l=i.params instanceof Hi?i.params:new Hi({fromObject:i.params})),o=new ac(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=U(o).pipe(xr(c=>this.handler.handle(c)));if(t instanceof ac||"events"===i.observe)return s;const a=s.pipe(Ft(c=>c instanceof ed));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Z(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Z(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Z(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Hi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,gg(i,r))}post(t,r,i={}){return this.request("POST",t,gg(i,r))}put(t,r,i={}){return this.request("PUT",t,gg(i,r))}}return n.\u0275fac=function(t){return new(t||n)(E(YD))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class nI{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rI=new k("HTTP_INTERCEPTORS");let PB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const FB=/^\)\]\}',?\n/;let iI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ze(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const o=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const f=i.statusText||"OK",p=new di(i.getAllResponseHeaders()),m=function LB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new mg({headers:p,status:i.status,statusText:f,url:m}),s},c=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),y=null;204!==p&&(y=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=y?200:0);let b=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof y){const C=y;y=y.replace(FB,"");try{y=""!==y?JSON.parse(y):null}catch(M){y=C,b&&(b=!1,y={error:M,text:y})}}b?(r.next(new ed({body:y,headers:f,status:p,statusText:m,url:g||void 0})),r.complete()):r.error(new tI({error:y,headers:f,status:p,statusText:m,url:g||void 0}))},l=f=>{const{url:p}=a(),m=new tI({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(m)};let u=!1;const d=f=>{u||(r.next(a()),u=!0);let p={type:mt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:mt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",h)),i.send(o),r.next({type:mt.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(E(DS))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const yg=new k("XSRF_COOKIE_NAME"),_g=new k("XSRF_HEADER_NAME");class oI{}let UB=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vS(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(E(ke),E(su),E(yg))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Cg=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(E(oI),E(_g))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),VB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(rI,[]);this.chain=r.reduceRight((i,o)=>new nI(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(E(QD),E(gn))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),HB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Cg,useClass:PB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:yg,useValue:t.cookieName}:[],t.headerName?{provide:_g,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({providers:[Cg,{provide:rI,useExisting:Cg,multi:!0},{provide:oI,useClass:UB},{provide:yg,useValue:"XSRF-TOKEN"},{provide:_g,useValue:"X-XSRF-TOKEN"}]}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({providers:[vg,{provide:YD,useClass:VB},iI,{provide:QD,useExisting:iI}],imports:[HB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var bg=function(n,e){return(bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function Lt(n,e){function t(){this.constructor=n}bg(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var j=function(){return j=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},j.apply(this,arguments)};function T(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function D(n,e){var r,i,o,s,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){t=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(6===l[0]&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(u){l=[6,u],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function zB(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var i,s,r=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function wg(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(zB(arguments[e]));return n}var gt=(()=>{return(n=gt||(gt={})).AcquireTokenByCode="acquireTokenByCode",n.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",n.AcquireTokenSilent="acquireTokenSilent",n.AcquireTokenSilentAsync="acquireTokenSilentAsync",n.AcquireTokenPopup="acquireTokenPopup",n.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",n.CryptoOptsSignJwt="cryptoOptsSignJwt",n.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",n.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",n.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",n.SsoSilent="ssoSilent",n.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",n.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",n.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",n.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",n.BrokerHandhshake="brokerHandshake",n.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",n.AcquireTokenByBroker="acquireTokenByBroker",n.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",n.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",n.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",gt;var n})(),wo=(()=>{return(n=wo||(wo={}))[n.NotStarted=0]="NotStarted",n[n.InProgress=1]="InProgress",n[n.Completed=2]="Completed",wo;var n})(),Eg=function(n,e){return(Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(n,e)};function Cn(n,e){function t(){this.constructor=n}Eg(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var ut=function(){return ut=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ut.apply(this,arguments)};function ee(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function te(n,e){var r,i,o,s,t={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(u){return function c(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(!(o=(o=t.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){t=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(6===l[0]&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(u){l=[6,u],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function td(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var r=Array(n),i=0;for(e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var v={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240},cc=[v.OPENID_SCOPE,v.PROFILE_SCOPE,v.OFFLINE_ACCESS_SCOPE],sI=td(cc,[v.EMAIL_SCOPE]),Jn=(()=>{return(n=Jn||(Jn={})).CONTENT_TYPE="Content-Type",n.RETRY_AFTER="Retry-After",n.CCS_HEADER="X-AnchorMailbox",n.WWWAuthenticate="WWW-Authenticate",n.AuthenticationInfo="Authentication-Info",n.X_MS_REQUEST_ID="x-ms-request-id",Jn;var n})(),vt=(()=>{return(n=vt||(vt={})).ID_TOKEN="idtoken",n.CLIENT_INFO="client.info",n.ADAL_ID_TOKEN="adal.idtoken",n.ERROR="error",n.ERROR_DESC="error.description",n.ACTIVE_ACCOUNT="active-account",n.ACTIVE_ACCOUNT_FILTERS="active-account-filters",vt;var n})(),lc=(()=>{return(n=lc||(lc={})).COMMON="common",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",lc;var n})(),re=(()=>{return(n=re||(re={})).CLIENT_ID="client_id",n.REDIRECT_URI="redirect_uri",n.RESPONSE_TYPE="response_type",n.RESPONSE_MODE="response_mode",n.GRANT_TYPE="grant_type",n.CLAIMS="claims",n.SCOPE="scope",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ACCESS_TOKEN="access_token",n.ID_TOKEN="id_token",n.REFRESH_TOKEN="refresh_token",n.EXPIRES_IN="expires_in",n.STATE="state",n.NONCE="nonce",n.PROMPT="prompt",n.SESSION_STATE="session_state",n.CLIENT_INFO="client_info",n.CODE="code",n.CODE_CHALLENGE="code_challenge",n.CODE_CHALLENGE_METHOD="code_challenge_method",n.CODE_VERIFIER="code_verifier",n.CLIENT_REQUEST_ID="client-request-id",n.X_CLIENT_SKU="x-client-SKU",n.X_CLIENT_VER="x-client-VER",n.X_CLIENT_OS="x-client-OS",n.X_CLIENT_CPU="x-client-CPU",n.X_CLIENT_CURR_TELEM="x-client-current-telemetry",n.X_CLIENT_LAST_TELEM="x-client-last-telemetry",n.X_MS_LIB_CAPABILITY="x-ms-lib-capability",n.X_APP_NAME="x-app-name",n.X_APP_VER="x-app-ver",n.POST_LOGOUT_URI="post_logout_redirect_uri",n.ID_TOKEN_HINT="id_token_hint",n.DEVICE_CODE="device_code",n.CLIENT_SECRET="client_secret",n.CLIENT_ASSERTION="client_assertion",n.CLIENT_ASSERTION_TYPE="client_assertion_type",n.TOKEN_TYPE="token_type",n.REQ_CNF="req_cnf",n.OBO_ASSERTION="assertion",n.REQUESTED_TOKEN_USE="requested_token_use",n.ON_BEHALF_OF="on_behalf_of",n.FOCI="foci",n.CCS_HEADER="X-AnchorMailbox",n.RETURN_SPA_CODE="return_spa_code",n.NATIVE_BROKER="nativebroker",n.LOGOUT_HINT="logout_hint",re;var n})(),Eo=(()=>{return(n=Eo||(Eo={})).ACCESS_TOKEN="access_token",n.XMS_CC="xms_cc",Eo;var n})(),Ut={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},Rs=(()=>{return(n=Rs||(Rs={})).ACCOUNT="account",n.SID="sid",n.LOGIN_HINT="login_hint",n.ID_TOKEN="id_token",n.DOMAIN_HINT="domain_hint",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",n.ACCOUNT_ID="accountIdentifier",n.HOMEACCOUNT_ID="homeAccountIdentifier",Rs;var n})(),aI={PLAIN:"plain",S256:"S256"},uc=(()=>{return(n=uc||(uc={})).QUERY="query",n.FRAGMENT="fragment",n.FORM_POST="form_post",uc;var n})(),dc=(()=>{return(n=dc||(dc={})).IMPLICIT_GRANT="implicit",n.AUTHORIZATION_CODE_GRANT="authorization_code",n.CLIENT_CREDENTIALS_GRANT="client_credentials",n.RESOURCE_OWNER_PASSWORD_GRANT="password",n.REFRESH_TOKEN_GRANT="refresh_token",n.DEVICE_CODE_GRANT="device_code",n.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",dc;var n})(),Pr=(()=>{return(n=Pr||(Pr={})).MSSTS_ACCOUNT_TYPE="MSSTS",n.ADFS_ACCOUNT_TYPE="ADFS",n.MSAV1_ACCOUNT_TYPE="MSA",n.GENERIC_ACCOUNT_TYPE="Generic",Pr;var n})(),bn=(()=>{return(n=bn||(bn={})).CACHE_KEY_SEPARATOR="-",n.CLIENT_INFO_SEPARATOR=".",bn;var n})(),de=(()=>{return(n=de||(de={})).ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",n.REFRESH_TOKEN="RefreshToken",de;var n})(),Bi=(()=>{return(n=Bi||(Bi={})).ACCOUNT="Account",n.CREDENTIAL="Credential",n.ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.REFRESH_TOKEN="RefreshToken",n.APP_METADATA="AppMetadata",n.TEMPORARY="TempCache",n.TELEMETRY="Telemetry",n.UNDEFINED="Undefined",n.THROTTLING="Throttling",Bi;var n})(),Fr=(()=>{return(n=Fr||(Fr={}))[n.ADFS=1001]="ADFS",n[n.MSA=1002]="MSA",n[n.MSSTS=1003]="MSSTS",n[n.GENERIC=1004]="GENERIC",n[n.ACCESS_TOKEN=2001]="ACCESS_TOKEN",n[n.REFRESH_TOKEN=2002]="REFRESH_TOKEN",n[n.ID_TOKEN=2003]="ID_TOKEN",n[n.APP_METADATA=3001]="APP_METADATA",n[n.UNDEFINED=9999]="UNDEFINED",Fr;var n})(),Sg="appmetadata",Vn=(()=>{return(n=Vn||(Vn={})).CONFIG="config",n.CACHE="cache",n.NETWORK="network",n.HARDCODED_VALUES="hardcoded_values",Vn;var n})(),Vt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ne=(()=>{return(n=Ne||(Ne={})).BEARER="Bearer",n.POP="pop",n.SSH="ssh-cert",Ne;var n})(),pc=(()=>{return(n=pc||(pc={})).username="username",n.password="password",pc;var n})(),So=(()=>{return(n=So||(So={}))[n.httpSuccess=200]="httpSuccess",n[n.httpBadRequest=400]="httpBadRequest",So;var n})(),hi=(()=>{return(n=hi||(hi={})).FAILED_AUTO_DETECTION="1",n.INTERNAL_CACHE="2",n.ENVIRONMENT_VARIABLE="3",n.IMDS="4",hi;var n})(),ji=(()=>{return(n=ji||(ji={})).CONFIGURED_MATCHES_DETECTED="1",n.CONFIGURED_NO_AUTO_DETECTION="2",n.CONFIGURED_NOT_DETECTED="3",n.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",n.AUTO_DETECTION_REQUESTED_FAILED="5",ji;var n})(),zi=(()=>{return(n=zi||(zi={})).NO_CACHE_HIT="0",n.FORCE_REFRESH="1",n.NO_CACHED_ACCESS_TOKEN="2",n.CACHED_ACCESS_TOKEN_EXPIRED="3",n.REFRESH_CACHED_ACCESS_TOKEN="4",zi;var n})(),rd=(()=>{return(n=rd||(rd={})).Jwt="JWT",n.Jwk="JWK",rd;var n})(),id_unexpectedError_code="unexpected_error",id_unexpectedError_desc="Unexpected error in authentication.",id_postRequestFailed_code="post_request_failed",id_postRequestFailed_desc="Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.",z=function(n){function e(t,r,i){var o=this;return o=n.call(this,r?t+": "+r:t)||this,Object.setPrototypeOf(o,e.prototype),o.errorCode=t||v.EMPTY_STRING,o.errorMessage=r||v.EMPTY_STRING,o.subError=i||v.EMPTY_STRING,o.name="AuthError",o}return Cn(e,n),e.prototype.setCorrelationId=function(t){this.correlationId=t},e.createUnexpectedError=function(t){return new e(id_unexpectedError_code,id_unexpectedError_desc+": "+t)},e.createPostRequestFailed=function(t){return new e(id_postRequestFailed_code,id_postRequestFailed_desc+": "+t)},e}(Error),To=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.name="ServerError",Object.setPrototypeOf(o,e.prototype),o}return Cn(e,n),e}(z),lI=["interaction_required","consent_required","login_required"],GB=["message_only","additional_action","basic_action","user_password_expired","consent_required"],mc_noTokensFoundError_code="no_tokens_found",mc_noTokensFoundError_desc="No refresh token found in the cache. Please sign-in.",mc_native_account_unavailable_code="native_account_unavailable",mc_native_account_unavailable_desc="The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",mr=function(n){function e(t,r,i){var o=n.call(this,t,r,i)||this;return o.name="InteractionRequiredAuthError",Object.setPrototypeOf(o,e.prototype),o}return Cn(e,n),e.isInteractionRequiredError=function(t,r,i){var o=!!t&&lI.indexOf(t)>-1,s=!!i&&GB.indexOf(i)>-1,a=!!r&&lI.some(function(c){return r.indexOf(c)>-1});return o||a||s},e.createNoTokensFoundError=function(){return new e(mc_noTokensFoundError_code,mc_noTokensFoundError_desc)},e.createNativeAccountUnavailableError=function(){return new e(mc_native_account_unavailable_code,mc_native_account_unavailable_desc)},e}(z),gc_CHANNEL_ID="53ee284d-920a-4b59-9d30-a60315b26836",Lr=(()=>{return(n=Lr||(Lr={})).HandshakeRequest="Handshake",n.HandshakeResponse="HandshakeResponse",n.GetToken="GetToken",n.Response="Response",Lr;var n})(),Rt=(()=>{return(n=Rt||(Rt={})).LocalStorage="localStorage",n.SessionStorage="sessionStorage",n.MemoryStorage="memoryStorage",Rt;var n})(),vr=(()=>{return(n=vr||(vr={})).GET="GET",n.POST="POST",vr;var n})(),we=(()=>{return(n=we||(we={})).AUTHORITY="authority",n.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",n.SESSION_STATE="session.state",n.REQUEST_STATE="request.state",n.NONCE_IDTOKEN="nonce.id_token",n.ORIGIN_URI="request.origin",n.RENEW_STATUS="token.renew.status",n.URL_HASH="urlHash",n.REQUEST_PARAMS="request.params",n.SCOPES="scopes",n.INTERACTION_STATUS_KEY="interaction.status",n.CCS_CREDENTIAL="ccs.credential",n.CORRELATION_ID="request.correlationId",n.NATIVE_REQUEST="request.native",we;var n})(),Do=(()=>{return(n=Do||(Do={})).WRAPPER_SKU="wrapper.sku",n.WRAPPER_VER="wrapper.version",Do;var n})(),He=(()=>{return(n=He||(He={}))[n.acquireTokenRedirect=861]="acquireTokenRedirect",n[n.acquireTokenPopup=862]="acquireTokenPopup",n[n.ssoSilent=863]="ssoSilent",n[n.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",n[n.handleRedirectPromise=865]="handleRedirectPromise",n[n.acquireTokenByCode=866]="acquireTokenByCode",n[n.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",n[n.logout=961]="logout",n[n.logoutPopup=962]="logoutPopup",He;var n})(),x=(()=>{return(n=x||(x={})).Redirect="redirect",n.Popup="popup",n.Silent="silent",n.None="none",x;var n})(),yt=(()=>{return(n=yt||(yt={})).Startup="startup",n.Login="login",n.Logout="logout",n.AcquireToken="acquireToken",n.SsoSilent="ssoSilent",n.HandleRedirect="handleRedirect",n.None="none",yt;var n})(),uI={scopes:cc},ks="jwk",od=(()=>{return(n=od||(od={})).React="@azure/msal-react",n.Angular="@azure/msal-angular",od;var n})(),Tg="msal.db",un=(()=>{return(n=un||(un={}))[n.Default=0]="Default",n[n.AccessToken=1]="AccessToken",n[n.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",n[n.RefreshToken=3]="RefreshToken",n[n.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",n[n.Skip=5]="Skip",un;var n})(),sd_missingKidError_code="missing_kid_error",sd_missingKidError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",sd_missingAlgError_code="missing_alg_error",sd_missingAlgError_desc="The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.",dI=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.name="JoseHeaderError",Object.setPrototypeOf(i,e.prototype),i}return Cn(e,n),e.createMissingKidError=function(){return new e(sd_missingKidError_code,sd_missingKidError_desc)},e.createMissingAlgError=function(){return new e(sd_missingAlgError_code,sd_missingAlgError_desc)},e}(z),WB=function(){function n(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}return n.getShrHeaderString=function(e){if(!e.kid)throw dI.createMissingKidError();if(!e.alg)throw dI.createMissingAlgError();var t=new n({typ:e.typ||rd.Jwt,kid:e.kid,alg:e.alg});return JSON.stringify(t)},n}(),Jt=function(){function n(){}return n.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},n}(),hI=function(){function n(e){this.cryptoObj=e}return n.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,Jt.decimalToHex(e[0])+Jt.decimalToHex(e[1])+Jt.decimalToHex(e[2])+Jt.decimalToHex(e[3])+"-"+Jt.decimalToHex(e[4])+Jt.decimalToHex(e[5])+"-"+Jt.decimalToHex(e[6])+Jt.decimalToHex(e[7])+"-"+Jt.decimalToHex(e[8])+Jt.decimalToHex(e[9])+"-"+Jt.decimalToHex(e[10])+Jt.decimalToHex(e[11])+Jt.decimalToHex(e[12])+Jt.decimalToHex(e[13])+Jt.decimalToHex(e[14])+Jt.decimalToHex(e[15])}catch{for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",i=0,o=v.EMPTY_STRING,s=0;s<36;s++)"-"!==t[s]&&"4"!==t[s]&&(i=16*Math.random()|0),"x"===t[s]?o+=r[i]:"y"===t[s]?(i&=3,o+=r[i|=8]):o+=t[s];return o}},n.prototype.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},n}(),fi=function(){function n(){}return n.stringToUtf8Arr=function(e){for(var t,r=0,i=e.length,o=0;o<i;o++)r+=(t=e.charCodeAt(o))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var s=new Uint8Array(r),a=0,c=0;a<r;c++)(t=e.charCodeAt(c))<128?s[a++]=t:t<2048?(s[a++]=192+(t>>>6),s[a++]=128+(63&t)):t<65536?(s[a++]=224+(t>>>12),s[a++]=128+(t>>>6&63),s[a++]=128+(63&t)):t<2097152?(s[a++]=240+(t>>>18),s[a++]=128+(t>>>12&63),s[a++]=128+(t>>>6&63),s[a++]=128+(63&t)):t<67108864?(s[a++]=248+(t>>>24),s[a++]=128+(t>>>18&63),s[a++]=128+(t>>>12&63),s[a++]=128+(t>>>6&63),s[a++]=128+(63&t)):(s[a++]=252+(t>>>30),s[a++]=128+(t>>>24&63),s[a++]=128+(t>>>18&63),s[a++]=128+(t>>>12&63),s[a++]=128+(t>>>6&63),s[a++]=128+(63&t));return s},n.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return t},n.utf8ArrToString=function(e){for(var t=v.EMPTY_STRING,r=void 0,i=e.length,o=0;o<i;o++)r=e[o],t+=String.fromCharCode(r>251&&r<254&&o+5<i?1073741824*(r-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>247&&r<252&&o+4<i?(r-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>239&&r<248&&o+3<i?(r-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>223&&r<240&&o+2<i?(r-224<<12)+(e[++o]-128<<6)+e[++o]-128:r>191&&r<224&&o+1<i?(r-192<<6)+e[++o]-128:r);return t},n.getSortedObjectString=function(e){return JSON.stringify(e,Object.keys(e).sort())},n}(),fI=function(){function n(){}return n.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,v.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},n.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,v.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},n.prototype.encode=function(e){var t=fi.stringToUtf8Arr(e);return this.base64EncArr(t)},n.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,r=v.EMPTY_STRING,i=void 0,o=e.length,s=0,a=0;a<o;a++)s|=e[a]<<(16>>>(i=a%3)&24),(2===i||e.length-a==1)&&(r+=String.fromCharCode(this.uint6ToB64(s>>>18&63),this.uint6ToB64(s>>>12&63),this.uint6ToB64(s>>>6&63),this.uint6ToB64(63&s)),s=0);return 0===t?r:r.substring(0,r.length-t)+(1===t?"=":"==")},n.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},n}(),YB=function(){function n(){}return n.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(t);return fi.utf8ArrToString(r)},n.prototype.base64DecToArr=function(e,t){for(var r=e.replace(/[^A-Za-z0-9\+\/]/g,v.EMPTY_STRING),i=r.length,o=t?Math.ceil((3*i+1>>>2)/t)*t:3*i+1>>>2,s=new Uint8Array(o),a=void 0,c=void 0,l=0,u=0,d=0;d<i;d++)if(c=3&d,l|=this.b64ToUint6(r.charCodeAt(d))<<18-6*c,3===c||i-d==1){for(a=0;a<3&&u<o;a++,u++)s[u]=l>>>(16>>>a&24)&255;l=0}return s},n.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},n}(),A_clientInfoDecodingError_code="client_info_decoding_error",A_clientInfoDecodingError_desc="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",A_clientInfoEmptyError_code="client_info_empty_error",A_clientInfoEmptyError_desc="The client info was empty. Please review the trace to determine the root cause.",A_tokenParsingError_code="token_parsing_error",A_tokenParsingError_desc="Token cannot be parsed. Please review stack trace to determine root cause.",A_nullOrEmptyToken_code="null_or_empty_token",A_nullOrEmptyToken_desc="The token is null or empty. Please review the trace to determine the root cause.",A_endpointResolutionError_code="endpoints_resolution_error",A_endpointResolutionError_desc="Error: could not resolve endpoints. Please check network and try again.",A_networkError_code="network_error",A_networkError_desc="Network request failed. Please check network trace to determine root cause.",A_unableToGetOpenidConfigError_code="openid_config_error",A_unableToGetOpenidConfigError_desc="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",A_hashNotDeserialized_code="hash_not_deserialized",A_hashNotDeserialized_desc="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",A_invalidStateError_code="invalid_state",A_invalidStateError_desc="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",A_stateMismatchError_code="state_mismatch",A_stateMismatchError_desc="State mismatch error. Please check your network. Continued requests may cause cache overflow.",A_stateNotFoundError_code="state_not_found",A_stateNotFoundError_desc="State not found",A_nonceMismatchError_code="nonce_mismatch",A_nonceMismatchError_desc="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",A_nonceNotFoundError_code="nonce_not_found",A_nonceNotFoundError_desc="nonce not found",A_authTimeNotFoundError_code="auth_time_not_found",A_authTimeNotFoundError_desc="Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",A_maxAgeTranspiredError_code="max_age_transpired",A_maxAgeTranspiredError_desc="Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",A_multipleMatchingTokens_code="multiple_matching_tokens",A_multipleMatchingTokens_desc="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",A_multipleMatchingAccounts_code="multiple_matching_accounts",A_multipleMatchingAccounts_desc="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",A_multipleMatchingAppMetadata_code="multiple_matching_appMetadata",A_multipleMatchingAppMetadata_desc="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",A_tokenRequestCannotBeMade_code="request_cannot_be_made",A_tokenRequestCannotBeMade_desc="Token request cannot be made without authorization code or refresh token.",A_appendEmptyScopeError_code="cannot_append_empty_scope",A_appendEmptyScopeError_desc="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",A_removeEmptyScopeError_code="cannot_remove_empty_scope",A_removeEmptyScopeError_desc="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",A_appendScopeSetError_code="cannot_append_scopeset",A_appendScopeSetError_desc="Cannot append ScopeSet due to error.",A_emptyInputScopeSetError_code="empty_input_scopeset",A_emptyInputScopeSetError_desc="Empty input ScopeSet cannot be processed.",A_DeviceCodePollingCancelled_code="device_code_polling_cancelled",A_DeviceCodePollingCancelled_desc="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",A_DeviceCodeExpired_code="device_code_expired",A_DeviceCodeExpired_desc="Device code is expired.",A_DeviceCodeUnknownError_code="device_code_unknown_error",A_DeviceCodeUnknownError_desc="Device code stopped polling for unknown reasons.",A_NoAccountInSilentRequest_code="no_account_in_silent_request",A_NoAccountInSilentRequest_desc="Please pass an account object, silent flow is not supported without account information",A_invalidCacheRecord_code="invalid_cache_record",A_invalidCacheRecord_desc="Cache record object was null or undefined.",A_invalidCacheEnvironment_code="invalid_cache_environment",A_invalidCacheEnvironment_desc="Invalid environment when attempting to create cache entry",A_noAccountFound_code="no_account_found",A_noAccountFound_desc="No account found in cache for given key.",A_CachePluginError_code="no cache plugin set on CacheManager",A_CachePluginError_desc="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",A_noCryptoObj_code="no_crypto_object",A_noCryptoObj_desc="No crypto object detected. This is required for the following operation: ",A_invalidCacheType_code="invalid_cache_type",A_invalidCacheType_desc="Invalid cache type",A_unexpectedAccountType_code="unexpected_account_type",A_unexpectedAccountType_desc="Unexpected account type.",A_unexpectedCredentialType_code="unexpected_credential_type",A_unexpectedCredentialType_desc="Unexpected credential type.",A_invalidAssertion_code="invalid_assertion",A_invalidAssertion_desc="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",A_invalidClientCredential_code="invalid_client_credential",A_invalidClientCredential_desc="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",A_tokenRefreshRequired_code="token_refresh_required",A_tokenRefreshRequired_desc="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",A_userTimeoutReached_code="user_timeout_reached",A_userTimeoutReached_desc="User defined timeout for device code polling reached",A_tokenClaimsRequired_code="token_claims_cnf_required_for_signedjwt",A_tokenClaimsRequired_desc="Cannot generate a POP jwt if the token_claims are not populated",A_noAuthorizationCodeFromServer_code="authorization_code_missing_from_server_response",A_noAuthorizationCodeFromServer_desc="Server response does not contain an authorization code to proceed",A_bindingKeyNotRemovedError_code="binding_key_not_removed",A_bindingKeyNotRemovedError_desc="Could not remove the credential's binding key from storage.",A_logoutNotSupported_code="end_session_endpoint_not_supported",A_logoutNotSupported_desc="Provided authority does not support logout.",A_keyIdMissing_code="key_id_missing",A_keyIdMissing_desc="A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",L=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,e.prototype),i}return Cn(e,n),e.createClientInfoDecodingError=function(t){return new e(A_clientInfoDecodingError_code,A_clientInfoDecodingError_desc+" Failed with error: "+t)},e.createClientInfoEmptyError=function(){return new e(A_clientInfoEmptyError_code,""+A_clientInfoEmptyError_desc)},e.createTokenParsingError=function(t){return new e(A_tokenParsingError_code,A_tokenParsingError_desc+" Failed with error: "+t)},e.createTokenNullOrEmptyError=function(t){return new e(A_nullOrEmptyToken_code,A_nullOrEmptyToken_desc+" Raw Token Value: "+t)},e.createEndpointDiscoveryIncompleteError=function(t){return new e(A_endpointResolutionError_code,A_endpointResolutionError_desc+" Detail: "+t)},e.createNetworkError=function(t,r){return new e(A_networkError_code,A_networkError_desc+" | Fetch client threw: "+r+" | Attempted to reach: "+t.split("?")[0])},e.createUnableToGetOpenidConfigError=function(t){return new e(A_unableToGetOpenidConfigError_code,A_unableToGetOpenidConfigError_desc+" Attempted to retrieve endpoints from: "+t)},e.createHashNotDeserializedError=function(t){return new e(A_hashNotDeserialized_code,A_hashNotDeserialized_desc+" Given Object: "+t)},e.createInvalidStateError=function(t,r){return new e(A_invalidStateError_code,A_invalidStateError_desc+" Invalid State: "+t+", Root Err: "+r)},e.createStateMismatchError=function(){return new e(A_stateMismatchError_code,A_stateMismatchError_desc)},e.createStateNotFoundError=function(t){return new e(A_stateNotFoundError_code,A_stateNotFoundError_desc+":  "+t)},e.createNonceMismatchError=function(){return new e(A_nonceMismatchError_code,A_nonceMismatchError_desc)},e.createAuthTimeNotFoundError=function(){return new e(A_authTimeNotFoundError_code,A_authTimeNotFoundError_desc)},e.createMaxAgeTranspiredError=function(){return new e(A_maxAgeTranspiredError_code,A_maxAgeTranspiredError_desc)},e.createNonceNotFoundError=function(t){return new e(A_nonceNotFoundError_code,A_nonceNotFoundError_desc+":  "+t)},e.createMultipleMatchingTokensInCacheError=function(){return new e(A_multipleMatchingTokens_code,A_multipleMatchingTokens_desc+".")},e.createMultipleMatchingAccountsInCacheError=function(){return new e(A_multipleMatchingAccounts_code,A_multipleMatchingAccounts_desc)},e.createMultipleMatchingAppMetadataInCacheError=function(){return new e(A_multipleMatchingAppMetadata_code,A_multipleMatchingAppMetadata_desc)},e.createTokenRequestCannotBeMadeError=function(){return new e(A_tokenRequestCannotBeMade_code,A_tokenRequestCannotBeMade_desc)},e.createAppendEmptyScopeToSetError=function(t){return new e(A_appendEmptyScopeError_code,A_appendEmptyScopeError_desc+" Given Scope: "+t)},e.createRemoveEmptyScopeFromSetError=function(t){return new e(A_removeEmptyScopeError_code,A_removeEmptyScopeError_desc+" Given Scope: "+t)},e.createAppendScopeSetError=function(t){return new e(A_appendScopeSetError_code,A_appendScopeSetError_desc+" Detail Error: "+t)},e.createEmptyInputScopeSetError=function(){return new e(A_emptyInputScopeSetError_code,""+A_emptyInputScopeSetError_desc)},e.createDeviceCodeCancelledError=function(){return new e(A_DeviceCodePollingCancelled_code,""+A_DeviceCodePollingCancelled_desc)},e.createDeviceCodeExpiredError=function(){return new e(A_DeviceCodeExpired_code,""+A_DeviceCodeExpired_desc)},e.createDeviceCodeUnknownError=function(){return new e(A_DeviceCodeUnknownError_code,""+A_DeviceCodeUnknownError_desc)},e.createNoAccountInSilentRequestError=function(){return new e(A_NoAccountInSilentRequest_code,""+A_NoAccountInSilentRequest_desc)},e.createNullOrUndefinedCacheRecord=function(){return new e(A_invalidCacheRecord_code,A_invalidCacheRecord_desc)},e.createInvalidCacheEnvironmentError=function(){return new e(A_invalidCacheEnvironment_code,A_invalidCacheEnvironment_desc)},e.createNoAccountFoundError=function(){return new e(A_noAccountFound_code,A_noAccountFound_desc)},e.createCachePluginError=function(){return new e(A_CachePluginError_code,""+A_CachePluginError_desc)},e.createNoCryptoObjectError=function(t){return new e(A_noCryptoObj_code,""+A_noCryptoObj_desc+t)},e.createInvalidCacheTypeError=function(){return new e(A_invalidCacheType_code,""+A_invalidCacheType_desc)},e.createUnexpectedAccountTypeError=function(){return new e(A_unexpectedAccountType_code,""+A_unexpectedAccountType_desc)},e.createUnexpectedCredentialTypeError=function(){return new e(A_unexpectedCredentialType_code,""+A_unexpectedCredentialType_desc)},e.createInvalidAssertionError=function(){return new e(A_invalidAssertion_code,""+A_invalidAssertion_desc)},e.createInvalidCredentialError=function(){return new e(A_invalidClientCredential_code,""+A_invalidClientCredential_desc)},e.createRefreshRequiredError=function(){return new e(A_tokenRefreshRequired_code,A_tokenRefreshRequired_desc)},e.createUserTimeoutReachedError=function(){return new e(A_userTimeoutReached_code,A_userTimeoutReached_desc)},e.createTokenClaimsRequiredError=function(){return new e(A_tokenClaimsRequired_code,A_tokenClaimsRequired_desc)},e.createNoAuthCodeInServerResponseError=function(){return new e(A_noAuthorizationCodeFromServer_code,A_noAuthorizationCodeFromServer_desc)},e.createBindingKeyNotRemovedError=function(){return new e(A_bindingKeyNotRemovedError_code,A_bindingKeyNotRemovedError_desc)},e.createLogoutNotSupportedError=function(){return new e(A_logoutNotSupported_code,A_logoutNotSupported_desc)},e.createKeyIdMissingError=function(){return new e(A_keyIdMissing_code,A_keyIdMissing_desc)},e}(z),O=function(){function n(){}return n.decodeAuthToken=function(e){if(n.isEmpty(e))throw L.createTokenNullOrEmptyError(e);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!r||r.length<4)throw L.createTokenParsingError("Given token is malformed: "+JSON.stringify(e));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},n.isEmpty=function(e){return typeof e>"u"||!e||0===e.length},n.isEmptyObj=function(e){if(e&&!n.isEmpty(e))try{var t=JSON.parse(e);return 0===Object.keys(t).length}catch{}return!0},n.startsWith=function(e,t){return 0===e.indexOf(t)},n.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},n.queryStringToObject=function(e){var t={},r=e.split("&"),i=function(o){return decodeURIComponent(o.replace(/\+/g," "))};return r.forEach(function(o){if(o.trim()){var s=o.split(/=(.+)/g,2),a=s[0],c=s[1];a&&c&&(t[i(a)]=i(c))}}),t},n.trimArrayEntries=function(e){return e.map(function(t){return t.trim()})},n.removeEmptyStringsFromArray=function(e){return e.filter(function(t){return!n.isEmpty(t)})},n.jsonParseHelper=function(e){try{return JSON.parse(e)}catch{return null}},n.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},n}(),I_pkceNotGenerated_code="pkce_not_created",I_pkceNotGenerated_desc="The PKCE code challenge and verifier could not be generated.",I_cryptoDoesNotExist_code="crypto_nonexistent",I_cryptoDoesNotExist_desc="The crypto object or function is not available.",I_httpMethodNotImplementedError_code="http_method_not_implemented",I_httpMethodNotImplementedError_desc="The HTTP method given has not been implemented in this library.",I_emptyNavigateUriError_code="empty_navigate_uri",I_emptyNavigateUriError_desc="Navigation URI is empty. Please check stack trace for more info.",I_hashEmptyError_code="hash_empty_error",I_hashEmptyError_desc="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors.",I_hashDoesNotContainStateError_code="no_state_in_hash",I_hashDoesNotContainStateError_desc="Hash does not contain state. Please verify that the request originated from msal.",I_hashDoesNotContainKnownPropertiesError_code="hash_does_not_contain_known_properties",I_hashDoesNotContainKnownPropertiesError_desc="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors.",I_unableToParseStateError_code="unable_to_parse_state",I_unableToParseStateError_desc="Unable to parse state. Please verify that the request originated from msal.",I_stateInteractionTypeMismatchError_code="state_interaction_type_mismatch",I_stateInteractionTypeMismatchError_desc="Hash contains state but the interaction type does not match the caller.",I_interactionInProgress_code="interaction_in_progress",I_interactionInProgress_desc="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",I_popupWindowError_code="popup_window_error",I_popupWindowError_desc="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",I_emptyWindowError_code="empty_window_error",I_emptyWindowError_desc="window.open returned null or undefined window object.",I_userCancelledError_code="user_cancelled",I_userCancelledError_desc="User cancelled the flow.",I_monitorPopupTimeoutError_code="monitor_window_timeout",I_monitorPopupTimeoutError_desc="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",I_monitorIframeTimeoutError_code="monitor_window_timeout",I_monitorIframeTimeoutError_desc="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",I_redirectInIframeError_code="redirect_in_iframe",I_redirectInIframeError_desc="Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",I_blockTokenRequestsInHiddenIframeError_code="block_iframe_reload",I_blockTokenRequestsInHiddenIframeError_desc="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",I_blockAcquireTokenInPopupsError_code="block_nested_popups",I_blockAcquireTokenInPopupsError_desc="Request was blocked inside a popup because MSAL detected it was running in a popup.",I_iframeClosedPrematurelyError_code="iframe_closed_prematurely",I_iframeClosedPrematurelyError_desc="The iframe being monitored was closed prematurely.",I_silentLogoutUnsupportedError_code="silent_logout_unsupported",I_silentLogoutUnsupportedError_desc="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",I_noAccountError_code="no_account_error",I_noAccountError_desc="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",I_silentPromptValueError_code="silent_prompt_value_error",I_silentPromptValueError_desc="The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",I_noTokenRequestCacheError_code="no_token_request_cache_error",I_noTokenRequestCacheError_desc="No token request found in cache.",I_unableToParseTokenRequestCacheError_code="unable_to_parse_token_request_cache_error",I_unableToParseTokenRequestCacheError_desc="The cached token request could not be parsed.",I_noCachedAuthorityError_code="no_cached_authority_error",I_noCachedAuthorityError_desc="No cached authority found.",I_authRequestNotSet_code="auth_request_not_set_error",I_authRequestNotSet_desc="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",I_invalidCacheType_code="invalid_cache_type",I_invalidCacheType_desc="Invalid cache type",I_notInBrowserEnvironment_code="non_browser_environment",I_notInBrowserEnvironment_desc="Login and token requests are not supported in non-browser environments.",I_databaseNotOpen_code="database_not_open",I_databaseNotOpen_desc="Database is not open!",I_noNetworkConnectivity_code="no_network_connectivity",I_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",I_postRequestFailed_code="post_request_failed",I_postRequestFailed_desc="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",I_getRequestFailed_code="get_request_failed",I_getRequestFailed_desc="Network request failed. Please check the network trace to determine root cause.",I_failedToParseNetworkResponse_code="failed_to_parse_response",I_failedToParseNetworkResponse_desc="Failed to parse network response. Check network trace.",I_unableToLoadTokenError_code="unable_to_load_token",I_unableToLoadTokenError_desc="Error loading token to cache.",I_signingKeyNotFoundInStorage_code="crypto_key_not_found",I_signingKeyNotFoundInStorage_desc="Cryptographic Key or Keypair not found in browser storage.",I_authCodeRequired_code="auth_code_required",I_authCodeRequired_desc="An authorization code must be provided (as the `code` property on the request) to this flow.",I_authCodeOrNativeAccountRequired_code="auth_code_or_nativeAccountId_required",I_authCodeOrNativeAccountRequired_desc="An authorization code or nativeAccountId must be provided to this flow.",I_databaseUnavailable_code="database_unavailable",I_databaseUnavailable_desc="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",I_unableToAcquireTokenFromNativePlatform_code="unable_to_acquire_token_from_native_platform",I_unableToAcquireTokenFromNativePlatform_desc="Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors.",I_nativeHandshakeTimeout_code="native_handshake_timeout",I_nativeHandshakeTimeout_desc="Timed out while attempting to establish connection to browser extension",I_nativeExtensionNotInstalled_code="native_extension_not_installed",I_nativeExtensionNotInstalled_desc="Native extension is not installed. If you think this is a mistake call the initialize function.",I_nativeConnectionNotEstablished_code="native_connection_not_established",I_nativeConnectionNotEstablished_desc="Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors.",I_nativeBrokerCalledBeforeInitialize_code="native_broker_called_before_initialize",I_nativeBrokerCalledBeforeInitialize_desc="You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors.",I_nativePromptNotSupported_code="native_prompt_not_supported",I_nativePromptNotSupported_desc="The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",N=function(n){function e(t,r){var i=n.call(this,t,r)||this;return Object.setPrototypeOf(i,e.prototype),i.name="BrowserAuthError",i}return Lt(e,n),e.createPkceNotGeneratedError=function(t){return new e(I_pkceNotGenerated_code,I_pkceNotGenerated_desc+" Detail:"+t)},e.createCryptoNotAvailableError=function(t){return new e(I_cryptoDoesNotExist_code,I_cryptoDoesNotExist_desc+" Detail:"+t)},e.createHttpMethodNotImplementedError=function(t){return new e(I_httpMethodNotImplementedError_code,I_httpMethodNotImplementedError_desc+" Given Method: "+t)},e.createEmptyNavigationUriError=function(){return new e(I_emptyNavigateUriError_code,I_emptyNavigateUriError_desc)},e.createEmptyHashError=function(t){return new e(I_hashEmptyError_code,I_hashEmptyError_desc+" Given Url: "+t)},e.createHashDoesNotContainStateError=function(){return new e(I_hashDoesNotContainStateError_code,I_hashDoesNotContainStateError_desc)},e.createHashDoesNotContainKnownPropertiesError=function(){return new e(I_hashDoesNotContainKnownPropertiesError_code,I_hashDoesNotContainKnownPropertiesError_desc)},e.createUnableToParseStateError=function(){return new e(I_unableToParseStateError_code,I_unableToParseStateError_desc)},e.createStateInteractionTypeMismatchError=function(){return new e(I_stateInteractionTypeMismatchError_code,I_stateInteractionTypeMismatchError_desc)},e.createInteractionInProgressError=function(){return new e(I_interactionInProgress_code,I_interactionInProgress_desc)},e.createPopupWindowError=function(t){var r=I_popupWindowError_desc;return r=O.isEmpty(t)?r:r+" Details: "+t,new e(I_popupWindowError_code,r)},e.createEmptyWindowCreatedError=function(){return new e(I_emptyWindowError_code,I_emptyWindowError_desc)},e.createUserCancelledError=function(){return new e(I_userCancelledError_code,I_userCancelledError_desc)},e.createMonitorPopupTimeoutError=function(){return new e(I_monitorPopupTimeoutError_code,I_monitorPopupTimeoutError_desc)},e.createMonitorIframeTimeoutError=function(){return new e(I_monitorIframeTimeoutError_code,I_monitorIframeTimeoutError_desc)},e.createRedirectInIframeError=function(t){return new e(I_redirectInIframeError_code,I_redirectInIframeError_desc+" (window.parent !== window) => "+t)},e.createBlockReloadInHiddenIframeError=function(){return new e(I_blockTokenRequestsInHiddenIframeError_code,I_blockTokenRequestsInHiddenIframeError_desc)},e.createBlockAcquireTokenInPopupsError=function(){return new e(I_blockAcquireTokenInPopupsError_code,I_blockAcquireTokenInPopupsError_desc)},e.createIframeClosedPrematurelyError=function(){return new e(I_iframeClosedPrematurelyError_code,I_iframeClosedPrematurelyError_desc)},e.createSilentLogoutUnsupportedError=function(){return new e(I_silentLogoutUnsupportedError_code,I_silentLogoutUnsupportedError_desc)},e.createNoAccountError=function(){return new e(I_noAccountError_code,I_noAccountError_desc)},e.createSilentPromptValueError=function(t){return new e(I_silentPromptValueError_code,I_silentPromptValueError_desc+" Given value: "+t)},e.createUnableToParseTokenRequestCacheError=function(){return new e(I_unableToParseTokenRequestCacheError_code,I_unableToParseTokenRequestCacheError_desc)},e.createNoTokenRequestCacheError=function(){return new e(I_noTokenRequestCacheError_code,I_noTokenRequestCacheError_desc)},e.createAuthRequestNotSetError=function(){return new e(I_authRequestNotSet_code,I_authRequestNotSet_desc)},e.createNoCachedAuthorityError=function(){return new e(I_noCachedAuthorityError_code,I_noCachedAuthorityError_desc)},e.createInvalidCacheTypeError=function(){return new e(I_invalidCacheType_code,""+I_invalidCacheType_desc)},e.createNonBrowserEnvironmentError=function(){return new e(I_notInBrowserEnvironment_code,I_notInBrowserEnvironment_desc)},e.createDatabaseNotOpenError=function(){return new e(I_databaseNotOpen_code,I_databaseNotOpen_desc)},e.createNoNetworkConnectivityError=function(){return new e(I_noNetworkConnectivity_code,I_noNetworkConnectivity_desc)},e.createPostRequestFailedError=function(t,r){return new e(I_postRequestFailed_code,I_postRequestFailed_desc+" | Network client threw: "+t+" | Attempted to reach: "+r.split("?")[0])},e.createGetRequestFailedError=function(t,r){return new e(I_getRequestFailed_code,I_getRequestFailed_desc+" | Network client threw: "+t+" | Attempted to reach: "+r.split("?")[0])},e.createFailedToParseNetworkResponseError=function(t){return new e(I_failedToParseNetworkResponse_code,I_failedToParseNetworkResponse_desc+" | Attempted to reach: "+t.split("?")[0])},e.createUnableToLoadTokenError=function(t){return new e(I_unableToLoadTokenError_code,I_unableToLoadTokenError_desc+" | "+t)},e.createSigningKeyNotFoundInStorageError=function(t){return new e(I_signingKeyNotFoundInStorage_code,I_signingKeyNotFoundInStorage_desc+" | No match found for KeyId: "+t)},e.createAuthCodeRequiredError=function(){return new e(I_authCodeRequired_code,I_authCodeRequired_desc)},e.createAuthCodeOrNativeAccountIdRequiredError=function(){return new e(I_authCodeOrNativeAccountRequired_code,I_authCodeOrNativeAccountRequired_desc)},e.createDatabaseUnavailableError=function(){return new e(I_databaseUnavailable_code,I_databaseUnavailable_desc)},e.createUnableToAcquireTokenFromNativePlatformError=function(){return new e(I_unableToAcquireTokenFromNativePlatform_code,I_unableToAcquireTokenFromNativePlatform_desc)},e.createNativeHandshakeTimeoutError=function(){return new e(I_nativeHandshakeTimeout_code,I_nativeHandshakeTimeout_desc)},e.createNativeExtensionNotInstalledError=function(){return new e(I_nativeExtensionNotInstalled_code,I_nativeExtensionNotInstalled_desc)},e.createNativeConnectionNotEstablishedError=function(){return new e(I_nativeConnectionNotEstablished_code,I_nativeConnectionNotEstablished_desc)},e.createNativeBrokerCalledBeforeInitialize=function(){return new e(I_nativeBrokerCalledBeforeInitialize_code,I_nativeBrokerCalledBeforeInitialize_desc)},e.createNativePromptParameterNotSupportedError=function(){return new e(I_nativePromptNotSupported_code,I_nativePromptNotSupported_desc)},e}(z),ZB=function(){function n(e){this.base64Encode=new fI,this.cryptoObj=e}return n.prototype.generateCodes=function(){return T(this,void 0,void 0,function(){var e,t;return D(this,function(r){switch(r.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=r.sent(),[2,{verifier:e,challenge:t}]}})})},n.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(r){throw N.createPkceNotGeneratedError(r)}},n.prototype.generateCodeChallengeFromVerifier=function(e){return T(this,void 0,void 0,function(){var t,r;return D(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=i.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw r=i.sent(),N.createPkceNotGeneratedError(r);case 3:return[2]}})})},n}(),JB=function(){function n(){}return n.prototype.getRandomValues=function(e){return window.crypto.getRandomValues(e)},n.prototype.generateKey=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.crypto.subtle.generateKey(e,t,r)]})})},n.prototype.exportKey=function(e){return T(this,void 0,void 0,function(){return D(this,function(t){return[2,window.crypto.subtle.exportKey(ks,e)]})})},n.prototype.importKey=function(e,t,r,i){return T(this,void 0,void 0,function(){return D(this,function(o){return[2,window.crypto.subtle.importKey(ks,e,t,r,i)]})})},n.prototype.sign=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.crypto.subtle.sign(e,t,r)]})})},n.prototype.digest=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,window.crypto.subtle.digest(e,t)]})})},n}(),XB=function(){function n(){}return n.prototype.initPrng=function(e){return window.msrCrypto.initPrng(wg(e))},n.prototype.getRandomValues=function(e){return window.msrCrypto.getRandomValues(e)},n.prototype.generateKey=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.msrCrypto.subtle.generateKey(e,t,r)]})})},n.prototype.exportKey=function(e){return T(this,void 0,void 0,function(){return D(this,function(t){return[2,window.msrCrypto.subtle.exportKey(ks,e)]})})},n.prototype.importKey=function(e,t,r,i){return T(this,void 0,void 0,function(){return D(this,function(o){return[2,window.msrCrypto.subtle.importKey(ks,e,t,r,i)]})})},n.prototype.sign=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,window.msrCrypto.subtle.sign(e,t,r)]})})},n.prototype.digest=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,window.msrCrypto.subtle.digest(e,t)]})})},n}(),ej=function(){function n(){}return n.prototype.getRandomValues=function(e){return window.msCrypto.getRandomValues(e)},n.prototype.generateKey=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.generateKey(e,t,r);a.addEventListener("complete",function(c){o(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.exportKey=function(e){return T(this,void 0,void 0,function(){return D(this,function(t){return[2,new Promise(function(r,i){var o=window.msCrypto.subtle.exportKey(ks,e);o.addEventListener("complete",function(s){var c=fi.utf8ArrToString(new Uint8Array(s.target.result)).replace(/\r/g,v.EMPTY_STRING).replace(/\n/g,v.EMPTY_STRING).replace(/\t/g,v.EMPTY_STRING).split(" ").join(v.EMPTY_STRING).replace("\0",v.EMPTY_STRING);try{r(JSON.parse(c))}catch(l){i(l)}}),o.addEventListener("error",function(s){i(s)})})]})})},n.prototype.importKey=function(e,t,r,i){return T(this,void 0,void 0,function(){var o,s;return D(this,function(a){return o=fi.getSortedObjectString(e),s=fi.stringToArrayBuffer(o),[2,new Promise(function(c,l){var u=window.msCrypto.subtle.importKey(ks,s,t,r,i);u.addEventListener("complete",function(d){c(d.target.result)}),u.addEventListener("error",function(d){l(d)})})]})})},n.prototype.sign=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.sign(e,t,r);a.addEventListener("complete",function(c){o(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.digest=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,new Promise(function(i,o){var s=window.msCrypto.subtle.digest(e,t.buffer);s.addEventListener("complete",function(a){i(a.target.result)}),s.addEventListener("error",function(a){o(a)})})]})})},n}(),wn_redirectUriNotSet_code="redirect_uri_empty",wn_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",wn_postLogoutUriNotSet_code="post_logout_uri_empty",wn_postLogoutUriNotSet_desc="A post logout redirect has not been set.",wn_storageNotSupportedError_code="storage_not_supported",wn_storageNotSupportedError_desc="Given storage configuration option was not supported.",wn_noRedirectCallbacksSet_code="no_redirect_callbacks",wn_noRedirectCallbacksSet_desc="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",wn_stubPcaInstanceCalled_code="stubbed_public_client_application_called",wn_stubPcaInstanceCalled_desc="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",wn_inMemRedirectUnavailable_code="in_mem_redirect_unavailable",wn_inMemRedirectUnavailable_desc="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",wn_entropyNotProvided_code="entropy_not_provided",wn_entropyNotProvided_desc="The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option.",vc=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.name="BrowserConfigurationAuthError",Object.setPrototypeOf(i,e.prototype),i}return Lt(e,n),e.createRedirectUriEmptyError=function(){return new e(wn_redirectUriNotSet_code,wn_redirectUriNotSet_desc)},e.createPostLogoutRedirectUriEmptyError=function(){return new e(wn_postLogoutUriNotSet_code,wn_postLogoutUriNotSet_desc)},e.createStorageNotSupportedError=function(t){return new e(wn_storageNotSupportedError_code,wn_storageNotSupportedError_desc+" Given Location: "+t)},e.createRedirectCallbacksNotSetError=function(){return new e(wn_noRedirectCallbacksSet_code,wn_noRedirectCallbacksSet_desc)},e.createStubPcaInstanceCalledError=function(){return new e(wn_stubPcaInstanceCalled_code,wn_stubPcaInstanceCalled_desc)},e.createInMemoryRedirectUnavailableError=function(){return new e(wn_inMemRedirectUnavailable_code,wn_inMemRedirectUnavailable_desc)},e.createEntropyNotProvided=function(){return new e(wn_entropyNotProvided_code,wn_entropyNotProvided_desc)},e}(z),pI="SHA-256",rj=new Uint8Array([1,0,1]),mI=function(){function n(e,t){var r,i;if(this.logger=e,this.cryptoOptions=t,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new JB;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new ej;else{if(!this.hasMsrCrypto()||!(null===(r=this.cryptoOptions)||void 0===r?void 0:r.useMsrCrypto))throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),N.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new XB}if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),null===(i=this.cryptoOptions)||void 0===i||!i.entropy)throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),vc.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:pI,modulusLength:2048,publicExponent:rj}}return n.prototype.hasIECrypto=function(){return"msCrypto"in window},n.prototype.hasBrowserCrypto=function(){return"crypto"in window},n.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},n.prototype.sha256Digest=function(e){return T(this,void 0,void 0,function(){var t;return D(this,function(r){return t=fi.stringToUtf8Arr(e),[2,this.subtleCrypto.digest({name:pI},t)]})})},n.prototype.getRandomValues=function(e){return this.subtleCrypto.getRandomValues(e)},n.prototype.generateKeyPair=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,e,t)]})})},n.prototype.exportJwk=function(e){return T(this,void 0,void 0,function(){return D(this,function(t){return[2,this.subtleCrypto.exportKey(e)]})})},n.prototype.importJwk=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){return[2,this.subtleCrypto.importKey(e,this.keygenAlgorithmOptions,t,r)]})})},n.prototype.sign=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,e,t)]})})},n}(),ij=function(){function n(){this.dbName=Tg,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return n.prototype.open=function(){return T(this,void 0,void 0,function(){var e=this;return D(this,function(t){return[2,new Promise(function(r,i){var o=window.indexedDB.open(e.dbName,e.version);o.addEventListener("upgradeneeded",function(s){s.target.result.createObjectStore(e.tableName)}),o.addEventListener("success",function(s){e.db=s.target.result,e.dbOpen=!0,r()}),o.addEventListener("error",function(){return i(N.createDatabaseUnavailableError())})})]})})},n.prototype.closeConnection=function(){var e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)},n.prototype.validateDbIsOpen=function(){return T(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}})})},n.prototype.getItem=function(e){return T(this,void 0,void 0,function(){var t=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!t.db)return o(N.createDatabaseNotOpenError());var c=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);c.addEventListener("success",function(l){var u=l;t.closeConnection(),i(u.target.result)}),c.addEventListener("error",function(l){t.closeConnection(),o(l)})})]}})})},n.prototype.setItem=function(e,t){return T(this,void 0,void 0,function(){var r=this;return D(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(o,s){if(!r.db)return s(N.createDatabaseNotOpenError());var l=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);l.addEventListener("success",function(){r.closeConnection(),o()}),l.addEventListener("error",function(u){r.closeConnection(),s(u)})})]}})})},n.prototype.removeItem=function(e){return T(this,void 0,void 0,function(){var t=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!t.db)return o(N.createDatabaseNotOpenError());var c=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);c.addEventListener("success",function(){t.closeConnection(),i()}),c.addEventListener("error",function(l){t.closeConnection(),o(l)})})]}})})},n.prototype.getKeys=function(){return T(this,void 0,void 0,function(){var e=this;return D(this,function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise(function(r,i){if(!e.db)return i(N.createDatabaseNotOpenError());var a=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();a.addEventListener("success",function(c){var l=c;e.closeConnection(),r(l.target.result)}),a.addEventListener("error",function(c){e.closeConnection(),i(c)})})]}})})},n.prototype.containsKey=function(e){return T(this,void 0,void 0,function(){var t=this;return D(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!t.db)return o(N.createDatabaseNotOpenError());var c=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);c.addEventListener("success",function(l){var u=l;t.closeConnection(),i(1===u.target.result)}),c.addEventListener("error",function(l){t.closeConnection(),o(l)})})]}})})},n.prototype.deleteDatabase=function(){return T(this,void 0,void 0,function(){return D(this,function(e){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(t,r){var i=window.indexedDB.deleteDatabase(Tg);i.addEventListener("success",function(){return t(!0)}),i.addEventListener("blocked",function(){return t(!0)}),i.addEventListener("error",function(){return r(!1)})})]})})},n}(),Dg=function(){function n(){this.cache=new Map}return n.prototype.getItem=function(e){return this.cache.get(e)||null},n.prototype.setItem=function(e,t){this.cache.set(e,t)},n.prototype.removeItem=function(e){this.cache.delete(e)},n.prototype.getKeys=function(){var e=[];return this.cache.forEach(function(t,r){e.push(r)}),e},n.prototype.containsKey=function(e){return this.cache.has(e)},n.prototype.clear=function(){this.cache.clear()},n}(),gI=function(){function n(e,t){this.inMemoryCache=new Dg,this.indexedDBCache=new ij,this.logger=e,this.storeName=t}return n.prototype.handleDatabaseAccessError=function(e){if(!(e instanceof N&&e.errorCode===I_databaseUnavailable_code))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},n.prototype.getItem=function(e){return T(this,void 0,void 0,function(){var t,r;return D(this,function(i){switch(i.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}})})},n.prototype.setItem=function(e,t){return T(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:this.inMemoryCache.setItem(e,t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}})})},n.prototype.removeItem=function(e){return T(this,void 0,void 0,function(){var t;return D(this,function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}})})},n.prototype.getKeys=function(){return T(this,void 0,void 0,function(){var e,t;return D(this,function(r){switch(r.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}})})},n.prototype.containsKey=function(e){return T(this,void 0,void 0,function(){var t,r;return D(this,function(i){switch(i.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}})})},n.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},n.prototype.clearPersistent=function(){return T(this,void 0,void 0,function(){var e,t;return D(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return(e=r.sent())&&this.logger.verbose("Persistent keystore deleted"),[2,e];case 2:return t=r.sent(),this.handleDatabaseAccessError(t),[2,!1];case 3:return[2]}})})},n}(),yc=(()=>{return(n=yc||(yc={})).asymmetricKeys="asymmetricKeys",n.symmetricKeys="symmetricKeys",yc;var n})(),oj=function(){function n(e){this.logger=e,this.asymmetricKeys=new gI(this.logger,yc.asymmetricKeys),this.symmetricKeys=new gI(this.logger,yc.symmetricKeys)}return n.prototype.clear=function(){return T(this,void 0,void 0,function(){var e;return D(this,function(t){switch(t.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return t.sent(),[2,!0];case 3:return(e=t.sent())instanceof Error?this.logger.error("Clearing keystore failed with error: "+e.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},n}(),sj=function(){function n(e,t,r){this.logger=e,this.browserCrypto=new mI(this.logger,r),this.b64Encode=new fI,this.b64Decode=new YB,this.guidGenerator=new hI(this.browserCrypto),this.pkceGenerator=new ZB(this.browserCrypto),this.cache=new oj(this.logger),this.performanceClient=t}return n.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},n.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},n.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},n.prototype.generatePkceCodes=function(){return T(this,void 0,void 0,function(){return D(this,function(e){return[2,this.pkceGenerator.generateCodes()]})})},n.prototype.getPublicKeyThumbprint=function(e){var t;return T(this,void 0,void 0,function(){var r,i,o,a,c,l,u;return D(this,function(d){switch(d.label){case 0:return r=null===(t=this.performanceClient)||void 0===t?void 0:t.startMeasurement(gt.CryptoOptsGetPublicKeyThumbprint,e.correlationId),[4,this.browserCrypto.generateKeyPair(n.EXTRACTABLE,n.POP_KEY_USAGES)];case 1:return i=d.sent(),[4,this.browserCrypto.exportJwk(i.publicKey)];case 2:return o=d.sent(),a=fi.getSortedObjectString({e:o.e,kty:o.kty,n:o.n}),[4,this.hashString(a)];case 3:return c=d.sent(),[4,this.browserCrypto.exportJwk(i.privateKey)];case 4:return l=d.sent(),[4,this.browserCrypto.importJwk(l,!1,["sign"])];case 5:return u=d.sent(),[4,this.cache.asymmetricKeys.setItem(c,{privateKey:u,publicKey:i.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri})];case 6:return d.sent(),r&&r.endMeasurement({success:!0}),[2,c]}})})},n.prototype.removeTokenBindingKey=function(e){return T(this,void 0,void 0,function(){return D(this,function(r){switch(r.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return r.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!r.sent()]}})})},n.prototype.clearKeystore=function(){return T(this,void 0,void 0,function(){return D(this,function(e){switch(e.label){case 0:return[4,this.cache.clear()];case 1:return[2,e.sent()]}})})},n.prototype.signJwt=function(e,t,r){var i;return T(this,void 0,void 0,function(){var o,s,a,c,l,u,d,h,f,p,m,g,y;return D(this,function(b){switch(b.label){case 0:return o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(gt.CryptoOptsSignJwt,r),[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(!(s=b.sent()))throw N.createSigningKeyNotFoundInStorageError(t);return[4,this.browserCrypto.exportJwk(s.publicKey)];case 2:return a=b.sent(),c=fi.getSortedObjectString(a),l=this.b64Encode.urlEncode(JSON.stringify({kid:t})),u=WB.getShrHeaderString({kid:l,alg:a.alg}),d=this.b64Encode.urlEncode(u),e.cnf={jwk:JSON.parse(c)},h=this.b64Encode.urlEncode(JSON.stringify(e)),p=fi.stringToArrayBuffer(f=d+"."+h),[4,this.browserCrypto.sign(s.privateKey,p)];case 3:return m=b.sent(),g=this.b64Encode.urlEncodeArr(new Uint8Array(m)),y=f+"."+g,o&&o.endMeasurement({success:!0}),[2,y]}})})},n.prototype.hashString=function(e){return T(this,void 0,void 0,function(){var t,r;return D(this,function(i){switch(i.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=i.sent(),r=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(r)]}})})},n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n}(),Tt=(()=>{return(n=Tt||(Tt={}))[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace",Tt;var n})(),vI=function(){function n(e,t,r){this.level=Tt.Info,this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level="number"==typeof e.logLevel?e.logLevel:Tt.Info,this.correlationId=e.correlationId||v.EMPTY_STRING,this.packageName=t||v.EMPTY_STRING,this.packageVersion=r||v.EMPTY_STRING}return n.prototype.clone=function(e,t,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)},n.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var i,r=(new Date).toUTCString();i=O.isEmpty(t.correlationId)?O.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+t.correlationId+"]",this.executeCallback(t.logLevel,i+" : "+this.packageName+"@"+this.packageVersion+" : "+Tt[t.logLevel]+" - "+e,t.containsPii||!1)}},n.prototype.executeCallback=function(e,t,r){this.localCallback&&this.localCallback(e,t,r)},n.prototype.error=function(e,t){this.logMessage(e,{logLevel:Tt.Error,containsPii:!1,correlationId:t||v.EMPTY_STRING})},n.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:Tt.Error,containsPii:!0,correlationId:t||v.EMPTY_STRING})},n.prototype.warning=function(e,t){this.logMessage(e,{logLevel:Tt.Warning,containsPii:!1,correlationId:t||v.EMPTY_STRING})},n.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:Tt.Warning,containsPii:!0,correlationId:t||v.EMPTY_STRING})},n.prototype.info=function(e,t){this.logMessage(e,{logLevel:Tt.Info,containsPii:!1,correlationId:t||v.EMPTY_STRING})},n.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:Tt.Info,containsPii:!0,correlationId:t||v.EMPTY_STRING})},n.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:Tt.Verbose,containsPii:!1,correlationId:t||v.EMPTY_STRING})},n.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:Tt.Verbose,containsPii:!0,correlationId:t||v.EMPTY_STRING})},n.prototype.trace=function(e,t){this.logMessage(e,{logLevel:Tt.Trace,containsPii:!1,correlationId:t||v.EMPTY_STRING})},n.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:Tt.Trace,containsPii:!0,correlationId:t||v.EMPTY_STRING})},n.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},n}(),yI=function(){function n(e,t,r,i,o,s){this.authority=t,this.libraryName=i,this.libraryVersion=o,this.applicationTelemetry=s,this.clientId=e,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.measurementsById=new Map}return n.prototype.startMeasurement=function(e,t){var i,o,r=this,s=t||this.generateId();t||this.logger.info("PerformanceClient: No correlation id provided for "+e+", generating",s),this.logger.trace("PerformanceClient: Performance measurement started for "+e,s);var a=this.startPerformanceMeasuremeant(e,s);a.startMeasurement();var c={eventId:this.generateId(),status:wo.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,appName:null===(i=this.applicationTelemetry)||void 0===i?void 0:i.appName,appVersion:null===(o=this.applicationTelemetry)||void 0===o?void 0:o.appVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:s};return this.cacheEventByCorrelationId(c),this.cacheMeasurement(c,a),{endMeasurement:function(l){var u=r.endMeasurement(ut(ut({},c),l));return u&&r.cacheEventByCorrelationId(u),u},flushMeasurement:function(){return r.flushMeasurements(c.name,c.correlationId)},discardMeasurement:function(){return r.discardMeasurements(c.correlationId)},measurement:a,event:c}},n.prototype.endMeasurement=function(e){var t=this.measurementsById.get(e.eventId);if(t){this.measurementsById.delete(e.eventId),t.endMeasurement();var r=t.flushMeasurement();if(null!==r)return this.logger.trace("PerformanceClient: Performance measurement ended for "+e.name+": "+r+" ms",e.correlationId),ut(ut({durationMs:Math.round(r)},e),{status:wo.Completed});this.logger.trace("PerformanceClient: Performance measurement not taken",e.correlationId)}else this.logger.trace("PerformanceClient: Measurement not found for "+e.eventId,e.correlationId);return null},n.prototype.cacheEventByCorrelationId=function(e){var t=this.eventsByCorrelationId.get(e.correlationId);t?(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" added/updated",e.correlationId),t.set(e.eventId,e)):(this.logger.trace("PerformanceClient: Performance measurement for "+e.name+" started",e.correlationId),this.eventsByCorrelationId.set(e.correlationId,(new Map).set(e.eventId,e)))},n.prototype.cacheMeasurement=function(e,t){this.measurementsById.set(e.eventId,t)},n.prototype.flushMeasurements=function(e,t){var r=this;this.logger.trace("PerformanceClient: Performance measurements flushed for "+e,t);var i=this.eventsByCorrelationId.get(t);if(i){this.discardMeasurements(t);var o=[];i.forEach(function(u){if(u.name!==e&&u.status!==wo.Completed){r.logger.trace("PerformanceClient: Incomplete submeasurement "+u.name+" found for "+e,t);var d=r.endMeasurement(u);d&&o.push(d)}o.push(u)});var s=o.sort(function(u,d){return u.startTimeMs-d.startTimeMs}),a=s.filter(function(u){return u.name===e&&u.status===wo.Completed});if(a.length>0){a.length>1&&this.logger.verbose("PerformanceClient: Multiple distinct top-level performance events found, using the first",t);var c=a[0];this.logger.verbose("PerformanceClient: Measurement found for "+e,t);var l=s.reduce(function(u,d){if(d.name!==e){r.logger.trace("PerformanceClient: Complete submeasurement found for "+d.name,t);var h=d.name+"DurationMs";u[h]?r.logger.verbose("PerformanceClient: Submeasurement for "+e+" already exists for "+d.name+", ignoring",t):u[h]=d.durationMs,d.accessTokenSize&&(u.accessTokenSize=d.accessTokenSize),d.idTokenSize&&(u.idTokenSize=d.idTokenSize),d.refreshTokenSize&&(u.refreshTokenSize=d.refreshTokenSize)}return u},c);this.emitEvents([l],l.correlationId)}else this.logger.verbose("PerformanceClient: No completed top-level measurements found for "+e,t)}else this.logger.verbose("PerformanceClient: No measurements found",t)},n.prototype.discardMeasurements=function(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e)},n.prototype.addPerformanceCallback=function(e){var t=this.generateId();return this.callbacks.set(t,e),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+t),t},n.prototype.removePerformanceCallback=function(e){var t=this.callbacks.delete(e);return this.logger.verbose(t?"PerformanceClient: Performance callback "+e+" removed.":"PerformanceClient: Performance callback "+e+" not removed."),t},n.prototype.emitEvents=function(e,t){var r=this;this.logger.verbose("PerformanceClient: Emitting performance events",t),this.callbacks.forEach(function(i,o){r.logger.trace("PerformanceClient: Emitting event to callback "+o,t),i.apply(null,[e])})},n}(),aj=function(){function n(){}return n.prototype.startMeasurement=function(){},n.prototype.endMeasurement=function(){},n.prototype.flushMeasurement=function(){return null},n}(),cj=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Cn(e,n),e.prototype.generateId=function(){return"callback-id"},e.prototype.startPerformanceMeasuremeant=function(){return new aj},e}(yI),ad={createNewGuid:function(){throw z.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw z.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw z.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}};function cd(n,e){if(O.isEmpty(n))throw L.createClientInfoEmptyError();try{var t=e.base64Decode(n);return JSON.parse(t)}catch(r){throw L.createClientInfoDecodingError(r.message)}}function Ns(n){if(O.isEmpty(n))throw L.createClientInfoDecodingError("Home account ID was empty.");var e=n.split(bn.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?v.EMPTY_STRING:e[1]}}var Hn=(()=>{return(n=Hn||(Hn={}))[n.Default=0]="Default",n[n.Adfs=1]="Adfs",n[n.Dsts=2]="Dsts",Hn;var n})(),Ht=function(){function n(){}return n.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(bn.CACHE_KEY_SEPARATOR).toLowerCase()},n.prototype.generateAccountKey=function(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},n.prototype.generateType=function(){switch(this.authorityType){case Pr.ADFS_ACCOUNT_TYPE:return Fr.ADFS;case Pr.MSAV1_ACCOUNT_TYPE:return Fr.MSA;case Pr.MSSTS_ACCOUNT_TYPE:return Fr.MSSTS;case Pr.GENERIC_ACCOUNT_TYPE:return Fr.GENERIC;default:throw L.createUnexpectedAccountTypeError()}},n.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},n.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||v.EMPTY_STRING,e.tenantId||v.EMPTY_STRING].join(bn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAccount=function(e,t,r,i,o,s,a,c){var l,u,d,h,f,p,m=new n;m.authorityType=Pr.MSSTS_ACCOUNT_TYPE,m.clientInfo=e,m.homeAccountId=t,m.nativeAccountId=c;var g=a||i&&i.getPreferredCache();if(!g)throw L.createInvalidCacheEnvironmentError();if(m.environment=g,m.realm=(null===(l=r?.claims)||void 0===l?void 0:l.tid)||v.EMPTY_STRING,r){m.idTokenClaims=r.claims,m.localAccountId=(null===(u=r?.claims)||void 0===u?void 0:u.oid)||(null===(d=r?.claims)||void 0===d?void 0:d.sub)||v.EMPTY_STRING;var y=null===(h=r?.claims)||void 0===h?void 0:h.preferred_username,b=null!==(f=r?.claims)&&void 0!==f&&f.emails?r.claims.emails[0]:null;m.username=y||b||v.EMPTY_STRING,m.name=null===(p=r?.claims)||void 0===p?void 0:p.name}return m.cloudGraphHostName=o,m.msGraphHost=s,m},n.createGenericAccount=function(e,t,r,i,o,s){var a,c,l,u,d=new n;d.authorityType=r&&r.authorityType===Hn.Adfs?Pr.ADFS_ACCOUNT_TYPE:Pr.GENERIC_ACCOUNT_TYPE,d.homeAccountId=e,d.realm=v.EMPTY_STRING;var h=s||r&&r.getPreferredCache();if(!h)throw L.createInvalidCacheEnvironmentError();return t&&(d.localAccountId=(null===(a=t?.claims)||void 0===a?void 0:a.oid)||(null===(c=t?.claims)||void 0===c?void 0:c.sub)||v.EMPTY_STRING,d.username=(null===(l=t?.claims)||void 0===l?void 0:l.upn)||v.EMPTY_STRING,d.name=(null===(u=t?.claims)||void 0===u?void 0:u.name)||v.EMPTY_STRING,d.idTokenClaims=t?.claims),d.environment=h,d.cloudGraphHostName=i,d.msGraphHost=o,d},n.generateHomeAccountId=function(e,t,r,i,o){var s,a=null!==(s=o?.claims)&&void 0!==s&&s.sub?o.claims.sub:v.EMPTY_STRING;if(t===Hn.Adfs||t===Hn.Dsts)return a;if(e)try{var c=cd(e,i);if(!O.isEmpty(c.uid)&&!O.isEmpty(c.utid))return""+c.uid+bn.CLIENT_INFO_SEPARATOR+c.utid}catch{}return r.verbose("No client info in response"),a},n.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},n.accountInfoIsEqual=function(e,t,r){if(!e||!t)return!1;var i=!0;if(r){var o=e.idTokenClaims||{},s=t.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&i},n}(),_c=function(){function n(){}return n.prototype.generateAccountId=function(){return n.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},n.prototype.generateCredentialId=function(){return n.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},n.prototype.generateTarget=function(){return n.generateTargetForCacheKey(this.target)},n.prototype.generateCredentialKey=function(){return n.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},n.prototype.generateType=function(){switch(this.credentialType){case de.ID_TOKEN:return Fr.ID_TOKEN;case de.ACCESS_TOKEN:case de.ACCESS_TOKEN_WITH_AUTH_SCHEME:return Fr.ACCESS_TOKEN;case de.REFRESH_TOKEN:return Fr.REFRESH_TOKEN;default:throw L.createUnexpectedCredentialTypeError()}},n.getCredentialType=function(e){return-1!==e.indexOf(de.ACCESS_TOKEN.toLowerCase())?-1!==e.indexOf(de.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?de.ACCESS_TOKEN_WITH_AUTH_SCHEME:de.ACCESS_TOKEN:-1!==e.indexOf(de.ID_TOKEN.toLowerCase())?de.ID_TOKEN:-1!==e.indexOf(de.REFRESH_TOKEN.toLowerCase())?de.REFRESH_TOKEN:v.NOT_DEFINED},n.generateCredentialCacheKey=function(e,t,r,i,o,s,a,c,l){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(r,i,o,a),this.generateTargetForCacheKey(s),this.generateClaimsHashForCacheKey(l),this.generateSchemeForCacheKey(c)].join(bn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateAccountIdForCacheKey=function(e,t){return[e,t].join(bn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateCredentialIdForCacheKey=function(e,t,r,i){return[e,e===de.REFRESH_TOKEN&&i||t,r||v.EMPTY_STRING].join(bn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateTargetForCacheKey=function(e){return(e||v.EMPTY_STRING).toLowerCase()},n.generateClaimsHashForCacheKey=function(e){return(e||v.EMPTY_STRING).toLowerCase()},n.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==Ne.BEARER.toLowerCase()?e.toLowerCase():v.EMPTY_STRING},n}(),se_redirectUriNotSet_code="redirect_uri_empty",se_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",se_postLogoutUriNotSet_code="post_logout_uri_empty",se_postLogoutUriNotSet_desc="A post logout redirect has not been set.",se_claimsRequestParsingError_code="claims_request_parsing_error",se_claimsRequestParsingError_desc="Could not parse the given claims request object.",se_authorityUriInsecure_code="authority_uri_insecure",se_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",se_urlParseError_code="url_parse_error",se_urlParseError_desc="URL could not be parsed into appropriate segments.",se_urlEmptyError_code="empty_url_error",se_urlEmptyError_desc="URL was empty or null.",se_emptyScopesError_code="empty_input_scopes_error",se_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",se_clientIdSingleScopeError_code="clientid_input_scopes_error",se_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",se_invalidPrompt_code="invalid_prompt_value",se_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",se_invalidClaimsRequest_code="invalid_claims",se_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",se_tokenRequestEmptyError_code="token_request_empty",se_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",se_logoutRequestEmptyError_code="logout_request_empty",se_logoutRequestEmptyError_desc="The logout request was null or undefined.",se_invalidCodeChallengeMethod_code="invalid_code_challenge_method",se_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',se_invalidCodeChallengeParams_code="pkce_params_missing",se_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",se_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",se_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",se_invalidAuthorityMetadata_code="invalid_authority_metadata",se_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",se_untrustedAuthority_code="untrusted_authority",se_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",se_invalidAzureCloudInstance_code="invalid_azure_cloud_instance",se_invalidAzureCloudInstance_desc="Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values",se_missingSshJwk_code="missing_ssh_jwk",se_missingSshJwk_desc="Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",se_missingSshKid_code="missing_ssh_kid",se_missingSshKid_desc="Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",se_missingNonceAuthenticationHeader_code="missing_nonce_authentication_header",se_missingNonceAuthenticationHeader_desc="Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",se_invalidAuthenticationHeader_code="invalid_authentication_header",se_invalidAuthenticationHeader_desc="Invalid authentication header provided",Ye=function(n){function e(t,r){var i=n.call(this,t,r)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,e.prototype),i}return Cn(e,n),e.createRedirectUriEmptyError=function(){return new e(se_redirectUriNotSet_code,se_redirectUriNotSet_desc)},e.createPostLogoutRedirectUriEmptyError=function(){return new e(se_postLogoutUriNotSet_code,se_postLogoutUriNotSet_desc)},e.createClaimsRequestParsingError=function(t){return new e(se_claimsRequestParsingError_code,se_claimsRequestParsingError_desc+" Given value: "+t)},e.createInsecureAuthorityUriError=function(t){return new e(se_authorityUriInsecure_code,se_authorityUriInsecure_desc+" Given URI: "+t)},e.createUrlParseError=function(t){return new e(se_urlParseError_code,se_urlParseError_desc+" Given Error: "+t)},e.createUrlEmptyError=function(){return new e(se_urlEmptyError_code,se_urlEmptyError_desc)},e.createEmptyScopesArrayError=function(){return new e(se_emptyScopesError_code,""+se_emptyScopesError_desc)},e.createClientIdSingleScopeError=function(t){return new e(se_clientIdSingleScopeError_code,se_clientIdSingleScopeError_desc+" Given Scopes: "+t)},e.createInvalidPromptError=function(t){return new e(se_invalidPrompt_code,se_invalidPrompt_desc+" Given value: "+t)},e.createInvalidClaimsRequestError=function(){return new e(se_invalidClaimsRequest_code,se_invalidClaimsRequest_desc)},e.createEmptyLogoutRequestError=function(){return new e(se_logoutRequestEmptyError_code,se_logoutRequestEmptyError_desc)},e.createEmptyTokenRequestError=function(){return new e(se_tokenRequestEmptyError_code,se_tokenRequestEmptyError_desc)},e.createInvalidCodeChallengeMethodError=function(){return new e(se_invalidCodeChallengeMethod_code,se_invalidCodeChallengeMethod_desc)},e.createInvalidCodeChallengeParamsError=function(){return new e(se_invalidCodeChallengeParams_code,se_invalidCodeChallengeParams_desc)},e.createInvalidCloudDiscoveryMetadataError=function(){return new e(se_invalidCloudDiscoveryMetadata_code,se_invalidCloudDiscoveryMetadata_desc)},e.createInvalidAuthorityMetadataError=function(){return new e(se_invalidAuthorityMetadata_code,se_invalidAuthorityMetadata_desc)},e.createUntrustedAuthorityError=function(){return new e(se_untrustedAuthority_code,se_untrustedAuthority_desc)},e.createInvalidAzureCloudInstanceError=function(){return new e(se_invalidAzureCloudInstance_code,se_invalidAzureCloudInstance_desc)},e.createMissingSshJwkError=function(){return new e(se_missingSshJwk_code,se_missingSshJwk_desc)},e.createMissingSshKidError=function(){return new e(se_missingSshKid_code,se_missingSshKid_desc)},e.createMissingNonceAuthenticationHeadersError=function(){return new e(se_missingNonceAuthenticationHeader_code,se_missingNonceAuthenticationHeader_desc)},e.createInvalidAuthenticationHeaderError=function(t,r){return new e(se_invalidAuthenticationHeader_code,se_invalidAuthenticationHeader_desc+". Invalid header: "+t+". Details: "+r)},e}(L),dn=function(){function n(e){var t=this,r=e?O.trimArrayEntries(td(e)):[],i=r?O.removeEmptyStringsFromArray(r):[];this.validateInputScopes(i),this.scopes=new Set,i.forEach(function(o){return t.scopes.add(o)})}return n.fromString=function(e){return new n((e||v.EMPTY_STRING).split(" "))},n.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw Ye.createEmptyScopesArrayError()},n.prototype.containsScope=function(e){var r=new n(this.printScopesLowerCase().split(" "));return!O.isEmpty(e)&&r.scopes.has(e.toLowerCase())},n.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(function(r){return t.containsScope(r)})},n.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return sI.forEach(function(r){e.containsScope(r)&&(t+=1)}),this.scopes.size===t},n.prototype.appendScope=function(e){O.isEmpty(e)||this.scopes.add(e.trim())},n.prototype.appendScopes=function(e){var t=this;try{e.forEach(function(r){return t.appendScope(r)})}catch(r){throw L.createAppendScopeSetError(r)}},n.prototype.removeScope=function(e){if(O.isEmpty(e))throw L.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},n.prototype.removeOIDCScopes=function(){var e=this;sI.forEach(function(t){e.scopes.delete(t)})},n.prototype.unionScopeSets=function(e){if(!e)throw L.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach(function(r){return t.add(r.toLowerCase())}),this.scopes.forEach(function(r){return t.add(r.toLowerCase())}),t},n.prototype.intersectingScopeSets=function(e){if(!e)throw L.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return t.size<i+r},n.prototype.getScopeCount=function(){return this.scopes.size},n.prototype.asArray=function(){var e=[];return this.scopes.forEach(function(t){return e.push(t)}),e},n.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):v.EMPTY_STRING},n.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},n}(),Ur=function(){function n(e,t){if(O.isEmpty(e))throw L.createTokenNullOrEmptyError(e);this.rawToken=e,this.claims=n.extractTokenClaims(e,t)}return n.extractTokenClaims=function(e,t){var r=O.decodeAuthToken(e);try{var o=t.base64Decode(r.JWSPayload);return JSON.parse(o)}catch(s){throw L.createTokenParsingError(s)}},n.checkMaxAge=function(e,t){if(0===t||Date.now()-3e5>e+t)throw L.createMaxAgeTranspiredError()},n}(),yr=function(){function n(e,t){this.clientId=e,this.cryptoImpl=t}return n.prototype.getAllAccounts=function(){var e=this,t=this.getAccountsFilteredBy(),r=Object.keys(t).map(function(s){return t[s]});return r.length<1?[]:r.map(function(s){var c=n.toObject(new Ht,s).getAccountInfo(),l=e.readIdTokenFromCache(e.clientId,c);return l&&!c.idTokenClaims&&(c.idToken=l.secret,c.idTokenClaims=new Ur(l.secret,e.cryptoImpl).claims),c})},n.prototype.saveCacheRecord=function(e){return ee(this,void 0,void 0,function(){return te(this,function(t){switch(t.label){case 0:if(!e)throw L.createNullOrUndefinedCacheRecord();return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}})})},n.prototype.saveAccessToken=function(e){return ee(this,void 0,void 0,function(){var t,r,i,o,s=this;return te(this,function(a){switch(a.label){case 0:return t=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash}),r=dn.fromString(e.target),(i=Object.keys(t.accessTokens).map(function(c){return t.accessTokens[c]}))?(o=[],i.forEach(function(c){dn.fromString(c.target).intersectingScopeSets(r)&&o.push(s.removeCredential(c))}),[4,Promise.all(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return this.setAccessTokenCredential(e),[2]}})})},n.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:v.EMPTY_STRING,e?e.environment:v.EMPTY_STRING,e?e.realm:v.EMPTY_STRING,e?e.nativeAccountId:v.EMPTY_STRING)},n.prototype.getAccountsFilteredByInternal=function(e,t,r,i){var o=this,s=this.getKeys(),a={};return s.forEach(function(c){var l=o.getAccount(c);!l||e&&!o.matchHomeAccountId(l,e)||t&&!o.matchEnvironment(l,t)||r&&!o.matchRealm(l,r)||i&&!o.matchNativeAccountId(l,i)||(a[c]=l)}),a},n.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.userAssertionHash,e.tokenType,e.keyId,e.requestedClaimsHash)},n.prototype.getCredentialsFilteredByInternal=function(e,t,r,i,o,s,a,c,l,u,d){var h=this,f=this.getKeys(),p={idTokens:{},accessTokens:{},refreshTokens:{}};return f.forEach(function(m){var g=_c.getCredentialType(m);if(g!==v.NOT_DEFINED){var y=h.getSpecificCredential(m,g);if(y&&(!c||h.matchUserAssertionHash(y,c))&&("string"!=typeof e||h.matchHomeAccountId(y,e))&&(!t||h.matchEnvironment(y,t))&&(!s||h.matchRealm(y,s))&&(!r||h.matchCredentialType(y,r))&&(!i||h.matchClientId(y,i))&&(!o||h.matchFamilyId(y,o))&&(!a||h.matchTarget(y,a))&&(!d&&!y.requestedClaimsHash||y.requestedClaimsHash===d)&&(r!==de.ACCESS_TOKEN_WITH_AUTH_SCHEME||!(l&&!h.matchTokenType(y,l)||l===Ne.SSH&&u&&!h.matchKeyId(y,u)))){var b=h.updateCredentialCacheKey(m,y);switch(g){case de.ID_TOKEN:p.idTokens[b]=y;break;case de.ACCESS_TOKEN:case de.ACCESS_TOKEN_WITH_AUTH_SCHEME:p.accessTokens[b]=y;break;case de.REFRESH_TOKEN:p.refreshTokens[b]=y}}}}),p},n.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},n.prototype.getAppMetadataFilteredByInternal=function(e,t){var r=this,i=this.getKeys(),o={};return i.forEach(function(s){if(r.isAppMetadata(s)){var a=r.getAppMetadata(s);!a||e&&!r.matchEnvironment(a,e)||t&&!r.matchClientId(a,t)||(o[s]=a)}}),o},n.prototype.getAuthorityMetadataByAlias=function(e){var t=this,r=this.getAuthorityMetadataKeys(),i=null;return r.forEach(function(o){if(t.isAuthorityMetadata(o)&&-1!==o.indexOf(t.clientId)){var s=t.getAuthorityMetadata(o);!s||-1!==s.aliases.indexOf(e)&&(i=s)}}),i},n.prototype.removeAllAccounts=function(){return ee(this,void 0,void 0,function(){var e,t,r=this;return te(this,function(i){switch(i.label){case 0:return e=this.getKeys(),t=[],e.forEach(function(o){!r.getAccount(o)||t.push(r.removeAccount(o))}),[4,Promise.all(t)];case 1:return i.sent(),[2,!0]}})})},n.prototype.removeAccount=function(e){return ee(this,void 0,void 0,function(){var t;return te(this,function(r){switch(r.label){case 0:if(!(t=this.getAccount(e)))throw L.createNoAccountFoundError();return[4,this.removeAccountContext(t)];case 1:return[2,r.sent()&&this.removeItem(e,Bi.ACCOUNT)]}})})},n.prototype.removeAccountContext=function(e){return ee(this,void 0,void 0,function(){var t,r,i,o=this;return te(this,function(s){switch(s.label){case 0:return t=this.getKeys(),r=e.generateAccountId(),i=[],t.forEach(function(a){var c=_c.getCredentialType(a);if(c!==v.NOT_DEFINED){var l=o.getSpecificCredential(a,c);l&&r===l.generateAccountId()&&i.push(o.removeCredential(l))}}),[4,Promise.all(i)];case 1:return s.sent(),[2,!0]}})})},n.prototype.removeCredential=function(e){return ee(this,void 0,void 0,function(){var t,i;return te(this,function(o){switch(o.label){case 0:if(t=e.generateCredentialKey(),e.credentialType.toLowerCase()!==de.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(e.tokenType!==Ne.POP)return[3,4];if(!(i=e.keyId))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(i)];case 2:return o.sent(),[3,4];case 3:throw o.sent(),L.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(t,Bi.CREDENTIAL)]}})})},n.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach(function(r){e.isAppMetadata(r)&&e.removeItem(r,Bi.APP_METADATA)}),!0},n.prototype.readCacheRecord=function(e,t,r,i){var o=this.readAccountFromCache(e),s=this.readIdTokenFromCache(t,e),a=this.readAccessTokenFromCache(t,e,r),c=this.readRefreshTokenFromCache(t,e,!1),l=this.readAppMetadataFromCache(i,t);return o&&s&&(o.idTokenClaims=new Ur(s.secret,this.cryptoImpl).claims),{account:o,idToken:s,accessToken:a,refreshToken:c,appMetadata:l}},n.prototype.readAccountFromCache=function(e){var t=Ht.generateAccountCacheKey(e);return this.getAccount(t)},n.prototype.readAccountFromCacheWithNativeAccountId=function(e){var r=this.getAccountsFilteredBy({nativeAccountId:e}),i=Object.keys(r).map(function(o){return r[o]});if(i.length<1)return null;if(i.length>1)throw L.createMultipleMatchingAccountsInCacheError();return r[0]},n.prototype.readIdTokenFromCache=function(e,t){var i=this.getCredentialsFilteredBy({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:de.ID_TOKEN,clientId:e,realm:t.tenantId}),o=Object.keys(i.idTokens).map(function(a){return i.idTokens[a]}),s=o.length;if(s<1)return null;if(s>1)throw L.createMultipleMatchingTokensInCacheError();return o[0]},n.prototype.readAccessTokenFromCache=function(e,t,r){var i=new dn(r.scopes||[]),o=r.authenticationScheme||Ne.BEARER,s=o&&o.toLowerCase()!==Ne.BEARER.toLowerCase()?de.ACCESS_TOKEN_WITH_AUTH_SCHEME:de.ACCESS_TOKEN,a={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:s,clientId:e,realm:t.tenantId,target:i.printScopesLowerCase(),tokenType:o,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},c=this.getCredentialsFilteredBy(a),l=Object.keys(c.accessTokens).map(function(d){return c.accessTokens[d]}),u=l.length;if(u<1)return null;if(u>1)throw L.createMultipleMatchingTokensInCacheError();return l[0]},n.prototype.readRefreshTokenFromCache=function(e,t,r){var s=this.getCredentialsFilteredBy({homeAccountId:t.homeAccountId,environment:t.environment,credentialType:de.REFRESH_TOKEN,clientId:e,familyId:r?"1":void 0}),a=Object.keys(s.refreshTokens).map(function(l){return s.refreshTokens[l]});return a.length<1?null:a[0]},n.prototype.readAppMetadataFromCache=function(e,t){var i=this.getAppMetadataFilteredBy({environment:e,clientId:t}),o=Object.keys(i).map(function(a){return i[a]}),s=o.length;if(s<1)return null;if(s>1)throw L.createMultipleMatchingAppMetadataInCacheError();return o[0]},n.prototype.isAppMetadataFOCI=function(e,t){var r=this.readAppMetadataFromCache(e,t);return!(!r||"1"!==r.familyId)},n.prototype.matchHomeAccountId=function(e,t){return"string"==typeof e.homeAccountId&&t===e.homeAccountId},n.prototype.matchUserAssertionHash=function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)},n.prototype.matchEnvironment=function(e,t){var r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)},n.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},n.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},n.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},n.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},n.prototype.matchNativeAccountId=function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)},n.prototype.matchTarget=function(e,t){if(e.credentialType!==de.ACCESS_TOKEN&&e.credentialType!==de.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;var i=dn.fromString(e.target),o=dn.fromString(t);return o.containsOnlyOIDCScopes()?o.removeScope(v.OFFLINE_ACCESS_SCOPE):o.removeOIDCScopes(),i.containsScopeSet(o)},n.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},n.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},n.prototype.isAppMetadata=function(e){return-1!==e.indexOf(Sg)},n.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf("authority-metadata")},n.prototype.generateAuthorityMetadataCacheKey=function(e){return"authority-metadata-"+this.clientId+"-"+e},n.prototype.getSpecificCredential=function(e,t){switch(t){case de.ID_TOKEN:return this.getIdTokenCredential(e);case de.ACCESS_TOKEN:case de.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(e);case de.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},n.toObject=function(e,t){for(var r in t)e[r]=t[r];return e},n}(),lj=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Cn(e,n),e.prototype.setAccount=function(){throw z.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},e.prototype.getAccount=function(){throw z.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},e.prototype.setIdTokenCredential=function(){throw z.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getIdTokenCredential=function(){throw z.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setAccessTokenCredential=function(){throw z.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getAccessTokenCredential=function(){throw z.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setRefreshTokenCredential=function(){throw z.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.getRefreshTokenCredential=function(){throw z.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},e.prototype.setAppMetadata=function(){throw z.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAppMetadata=function(){throw z.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.setServerTelemetry=function(){throw z.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},e.prototype.getServerTelemetry=function(){throw z.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},e.prototype.setAuthorityMetadata=function(){throw z.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAuthorityMetadata=function(){throw z.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},e.prototype.getAuthorityMetadataKeys=function(){throw z.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},e.prototype.setThrottlingCache=function(){throw z.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},e.prototype.getThrottlingCache=function(){throw z.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},e.prototype.removeItem=function(){throw z.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},e.prototype.containsKey=function(){throw z.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},e.prototype.getKeys=function(){throw z.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},e.prototype.clear=function(){return ee(this,void 0,void 0,function(){return te(this,function(r){throw z.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},e.prototype.updateCredentialCacheKey=function(){throw z.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},e}(yr),Cc=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Cn(e,n),e.createIdTokenEntity=function(t,r,i,o,s){var a=new e;return a.credentialType=de.ID_TOKEN,a.homeAccountId=t,a.environment=r,a.clientId=o,a.secret=i,a.realm=s,a},e.isIdTokenEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")&&t.credentialType===de.ID_TOKEN},e}(_c),Xn=function(){function n(){}return n.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},n.isTokenExpired=function(e,t){var r=Number(e)||0;return n.nowSeconds()+t>r},n.wasClockTurnedBack=function(e){return Number(e)>n.nowSeconds()},n.delay=function(e,t){return new Promise(function(r){return setTimeout(function(){return r(t)},e)})},n}(),bc=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Cn(e,n),e.createAccessTokenEntity=function(t,r,i,o,s,a,c,l,u,d,h,f,p,m,g){var y,b,C=new e;C.homeAccountId=t,C.credentialType=de.ACCESS_TOKEN,C.secret=i;var M=Xn.nowSeconds();if(C.cachedAt=M.toString(),C.expiresOn=c.toString(),C.extendedExpiresOn=l.toString(),d&&(C.refreshOn=d.toString()),C.environment=r,C.clientId=o,C.realm=s,C.target=a,C.userAssertionHash=f,C.tokenType=O.isEmpty(h)?Ne.BEARER:h,m&&(C.requestedClaims=m,C.requestedClaimsHash=g),(null===(y=C.tokenType)||void 0===y?void 0:y.toLowerCase())!==Ne.BEARER.toLowerCase())switch(C.credentialType=de.ACCESS_TOKEN_WITH_AUTH_SCHEME,C.tokenType){case Ne.POP:var G=Ur.extractTokenClaims(i,u);if(null===(b=G?.cnf)||void 0===b||!b.kid)throw L.createTokenClaimsRequiredError();C.keyId=G.cnf.kid;break;case Ne.SSH:C.keyId=p}return C},e.isAccessTokenEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")&&t.hasOwnProperty("target")&&(t.credentialType===de.ACCESS_TOKEN||t.credentialType===de.ACCESS_TOKEN_WITH_AUTH_SCHEME)},e}(_c),ld=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Cn(e,n),e.createRefreshTokenEntity=function(t,r,i,o,s,a){var c=new e;return c.clientId=o,c.credentialType=de.REFRESH_TOKEN,c.environment=r,c.homeAccountId=t,c.secret=i,c.userAssertionHash=a,s&&(c.familyId=s),c},e.isRefreshTokenEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")&&t.credentialType===de.REFRESH_TOKEN},e}(_c),Ig=function(){function n(){}return n.prototype.generateAppMetadataKey=function(){return n.generateAppMetadataCacheKey(this.environment,this.clientId)},n.generateAppMetadataCacheKey=function(e,t){return[Sg,e,t].join(bn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAppMetadataEntity=function(e,t,r){var i=new n;return i.clientId=e,i.environment=t,r&&(i.familyId=r),i},n.isAppMetadataEntity=function(e,t){return!!t&&0===e.indexOf(Sg)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")},n}(),ud=function(){function n(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return n.isServerTelemetryEntity=function(e,t){var r=0===e.indexOf(Vt.CACHE_KEY),i=!0;return t&&(i=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&i},n}(),Ag=function(){function n(){this.expiresAt=Xn.nowSeconds()+86400}return n.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},n.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t,this.jwks_uri=e.jwks_uri},n.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},n.prototype.resetExpiresAt=function(){this.expiresAt=Xn.nowSeconds()+86400},n.prototype.isExpired=function(){return this.expiresAt<=Xn.nowSeconds()},n.isAuthorityMetadataEntity=function(e,t){return!!t&&0===e.indexOf("authority-metadata")&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")},n}(),_I=function(){function n(){}return n.isThrottlingEntity=function(e,t){var r=!1;e&&(r=0===e.indexOf("throttling"));var i=!0;return t&&(i=t.hasOwnProperty("throttleTime")),r&&i},n}(),pi=function(){function n(){}return n.setRequestState=function(e,t,r){var i=n.generateLibraryState(e,r);return O.isEmpty(t)?i:""+i+v.RESOURCE_DELIM+t},n.generateLibraryState=function(e,t){if(!e)throw L.createNoCryptoObjectError("generateLibraryState");var r={id:e.createNewGuid()};t&&(r.meta=t);var i=JSON.stringify(r);return e.base64Encode(i)},n.parseRequestState=function(e,t){if(!e)throw L.createNoCryptoObjectError("parseRequestState");if(O.isEmpty(t))throw L.createInvalidStateError(t,"Null, undefined or empty state");try{var r=t.split(v.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(v.RESOURCE_DELIM):v.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:O.isEmpty(o)?v.EMPTY_STRING:o,libraryState:a}}catch(c){throw L.createInvalidStateError(t,c)}},n}(),En=(()=>{return(n=En||(En={})).HOME_ACCOUNT_ID="home_account_id",n.UPN="UPN",En;var n})(),CI=function(){function n(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return n.prototype.validateWindowStorage=function(e){if(e!==Rt.LocalStorage&&e!==Rt.SessionStorage)throw vc.createStorageNotSupportedError(e);if(!window[e])throw vc.createStorageNotSupportedError(e)},n.prototype.getItem=function(e){return this.windowStorage.getItem(e)},n.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},n.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},n.prototype.getKeys=function(){return Object.keys(this.windowStorage)},n.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},n}(),ye=function(){function n(e){if(this._urlString=e,O.isEmpty(this._urlString))throw Ye.createUrlEmptyError();O.isEmpty(this.getHash())&&(this._urlString=n.canonicalizeUri(e))}return Object.defineProperty(n.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),n.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return O.endsWith(t,"?")?t=t.slice(0,-1):O.endsWith(t,"?/")&&(t=t.slice(0,-2)),O.endsWith(t,"/")||(t+="/"),t}return e},n.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(t){throw Ye.createUrlParseError(t)}if(!e.HostNameAndPort||!e.PathSegments)throw Ye.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw Ye.createInsecureAuthorityUriError(this.urlString)},n.appendQueryString=function(e,t){return O.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},n.removeHashFromUrl=function(e){return n.canonicalizeUri(e.split("#")[0])},n.prototype.replaceTenantPath=function(e){var t=this.getUrlComponents(),r=t.PathSegments;return e&&0!==r.length&&(r[0]===lc.COMMON||r[0]===lc.ORGANIZATIONS)&&(r[0]=e),n.constructAuthorityUriFromObject(t)},n.prototype.getHash=function(){return n.parseHash(this.urlString)},n.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Ye.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},i=r.AbsolutePath.split("/");return i=i.filter(function(o){return o&&o.length>0}),r.PathSegments=i,!O.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},n.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Ye.createUrlParseError("Given url string: "+e);return r[2]},n.getAbsoluteUrl=function(e,t){if(e[0]===v.FORWARD_SLASH){var i=new n(t).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e},n.parseHash=function(e){var t=e.indexOf("#"),r=e.indexOf("#/");return r>-1?e.substring(r+2):t>-1?e.substring(t+1):v.EMPTY_STRING},n.parseQueryString=function(e){var t=e.indexOf("?"),r=e.indexOf("/?");return r>-1?e.substring(r+2):t>-1?e.substring(t+1):v.EMPTY_STRING},n.constructAuthorityUriFromObject=function(e){return new n(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))},n.getDeserializedHash=function(e){if(O.isEmpty(e))return{};var t=n.parseHash(e),r=O.queryStringToObject(O.isEmpty(t)?e:t);if(!r)throw L.createHashNotDeserializedError(JSON.stringify(r));return r},n.getDeserializedQueryString=function(e){if(O.isEmpty(e))return{};var t=n.parseQueryString(e),r=O.queryStringToObject(O.isEmpty(t)?e:t);if(!r)throw L.createHashNotDeserializedError(JSON.stringify(r));return r},n.hashContainsKnownProperties=function(e){if(O.isEmpty(e)||e.indexOf("=")<0)return!1;var t=n.getDeserializedHash(e);return!!(t.code||t.error_description||t.error||t.state)},n}(),bI=function(){function n(){}return n.extractBrowserRequestState=function(e,t){if(O.isEmpty(t))return null;try{return pi.parseRequestState(e,t).libraryState.meta}catch(i){throw L.createInvalidStateError(t,i)}},n.parseServerResponseFromHash=function(e){if(!e)return{};var t=new ye(e);return ye.getDeserializedHash(t.getHash())},n}(),Mg=function(n){function e(t,r,i,o){var s=n.call(this,t,i)||this;return s.COOKIE_LIFE_MULTIPLIER=864e5,s.cacheConfig=r,s.logger=o,s.internalStorage=new Dg,s.browserStorage=s.setupBrowserStorage(s.cacheConfig.cacheLocation),s.temporaryCacheStorage=s.setupTemporaryCacheStorage(s.cacheConfig.cacheLocation),s.migrateCacheEntries(),s}return Lt(e,n),e.prototype.setupBrowserStorage=function(t){switch(t){case Rt.LocalStorage:case Rt.SessionStorage:try{return new CI(t)}catch(r){this.logger.verbose(r);break}}return this.cacheConfig.cacheLocation=Rt.MemoryStorage,new Dg},e.prototype.setupTemporaryCacheStorage=function(t){switch(t){case Rt.LocalStorage:case Rt.SessionStorage:try{return new CI(Rt.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}default:return this.internalStorage}},e.prototype.migrateCacheEntries=function(){var t=this,i=v.CACHE_PREFIX+"."+vt.CLIENT_INFO,o=v.CACHE_PREFIX+"."+vt.ERROR,s=v.CACHE_PREFIX+"."+vt.ERROR_DESC,d=[this.browserStorage.getItem(v.CACHE_PREFIX+"."+vt.ID_TOKEN),this.browserStorage.getItem(i),this.browserStorage.getItem(o),this.browserStorage.getItem(s)];[vt.ID_TOKEN,vt.CLIENT_INFO,vt.ERROR,vt.ERROR_DESC].forEach(function(f,p){return t.migrateCacheEntry(f,d[p])})},e.prototype.migrateCacheEntry=function(t,r){r&&this.setTemporaryCache(t,r,!0)},e.prototype.validateAndParseJson=function(t){try{var r=JSON.parse(t);return r&&"object"==typeof r?r:null}catch{return null}},e.prototype.getItem=function(t){return this.browserStorage.getItem(t)},e.prototype.setItem=function(t,r){this.browserStorage.setItem(t,r)},e.prototype.getAccount=function(t){var r=this.getItem(t);if(!r)return null;var i=this.validateAndParseJson(r);return i&&Ht.isAccountEntity(i)?yr.toObject(new Ht,i):null},e.prototype.setAccount=function(t){this.logger.trace("BrowserCacheManager.setAccount called");var r=t.generateAccountKey();this.setItem(r,JSON.stringify(t))},e.prototype.getIdTokenCredential=function(t){var r=this.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Cc.isIdTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),yr.toObject(new Cc,i)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},e.prototype.setIdTokenCredential=function(t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var r=t.generateCredentialKey();this.setItem(r,JSON.stringify(t))},e.prototype.getAccessTokenCredential=function(t){var r=this.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&bc.isAccessTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),yr.toObject(new bc,i)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},e.prototype.setAccessTokenCredential=function(t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var r=t.generateCredentialKey();this.setItem(r,JSON.stringify(t))},e.prototype.getRefreshTokenCredential=function(t){var r=this.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&ld.isRefreshTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),yr.toObject(new ld,i)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},e.prototype.setRefreshTokenCredential=function(t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var r=t.generateCredentialKey();this.setItem(r,JSON.stringify(t))},e.prototype.getAppMetadata=function(t){var r=this.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Ig.isAppMetadataEntity(t,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),yr.toObject(new Ig,i)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},e.prototype.setAppMetadata=function(t){this.logger.trace("BrowserCacheManager.setAppMetadata called");var r=t.generateAppMetadataKey();this.setItem(r,JSON.stringify(t))},e.prototype.getServerTelemetry=function(t){var r=this.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&ud.isServerTelemetryEntity(t,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),yr.toObject(new ud,i)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},e.prototype.setServerTelemetry=function(t,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(t,JSON.stringify(r))},e.prototype.getAuthorityMetadata=function(t){var r=this.internalStorage.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Ag.isAuthorityMetadataEntity(t,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),yr.toObject(new Ag,i)):null},e.prototype.getAuthorityMetadataKeys=function(){var t=this;return this.internalStorage.getKeys().filter(function(i){return t.isAuthorityMetadata(i)})},e.prototype.setWrapperMetadata=function(t,r){this.internalStorage.setItem(Do.WRAPPER_SKU,t),this.internalStorage.setItem(Do.WRAPPER_VER,r)},e.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(Do.WRAPPER_SKU)||v.EMPTY_STRING,this.internalStorage.getItem(Do.WRAPPER_VER)||v.EMPTY_STRING]},e.prototype.setAuthorityMetadata=function(t,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(r))},e.prototype.getActiveAccount=function(){var t=this.generateCacheKey(vt.ACTIVE_ACCOUNT_FILTERS),r=this.getItem(t);if(!r){this.logger.trace("No active account filters cache schema found, looking for legacy schema");var i=this.generateCacheKey(vt.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("No active account found"),null;var s=this.getAccountInfoByFilter({localAccountId:o})[0]||null;return s?(this.logger.trace("Legacy active account cache schema found"),this.logger.trace("Adding active account filters cache schema"),this.setActiveAccount(s),s):null}var a=this.validateAndParseJson(r);return a?(this.logger.trace("Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:a.homeAccountId,localAccountId:a.localAccountId})[0]||null):(this.logger.trace("No active account found"),null)},e.prototype.setActiveAccount=function(t){var r=this.generateCacheKey(vt.ACTIVE_ACCOUNT_FILTERS),i=this.generateCacheKey(vt.ACTIVE_ACCOUNT);t?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(r,JSON.stringify({homeAccountId:t.homeAccountId,localAccountId:t.localAccountId})),this.browserStorage.setItem(i,t.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r),this.browserStorage.removeItem(i))},e.prototype.getAccountInfoByFilter=function(t){return this.getAllAccounts().filter(function(i){return!(t.username&&t.username.toLowerCase()!==i.username.toLowerCase()||t.homeAccountId&&t.homeAccountId!==i.homeAccountId||t.localAccountId&&t.localAccountId!==i.localAccountId||t.tenantId&&t.tenantId!==i.tenantId||t.environment&&t.environment!==i.environment)})},e.prototype.getAccountInfoByHints=function(t,r){var i=this.getAllAccounts().filter(function(o){return r?r===(o.idTokenClaims&&o.idTokenClaims.sid):!!t&&t===o.username});if(1===i.length)return i[0];if(i.length>1)throw L.createMultipleMatchingAccountsInCacheError();return null},e.prototype.getThrottlingCache=function(t){var r=this.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&_I.isThrottlingEntity(t,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),yr.toObject(new _I,i)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},e.prototype.setThrottlingCache=function(t,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(t,JSON.stringify(r))},e.prototype.getTemporaryCache=function(t,r){var i=r?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){var o=this.getItemCookie(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}var s=this.temporaryCacheStorage.getItem(i);if(!s){if(this.cacheConfig.cacheLocation===Rt.LocalStorage){var a=this.browserStorage.getItem(i);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s},e.prototype.setTemporaryCache=function(t,r,i){var o=i?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(o,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(o,r))},e.prototype.removeItem=function(t){return this.browserStorage.removeItem(t),this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(t)),!0},e.prototype.containsKey=function(t){return this.browserStorage.containsKey(t)||this.temporaryCacheStorage.containsKey(t)},e.prototype.getKeys=function(){return wg(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},e.prototype.clear=function(){return T(this,void 0,void 0,function(){var t=this;return D(this,function(r){switch(r.label){case 0:return[4,this.removeAllAccounts()];case 1:return r.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(i){(t.browserStorage.containsKey(i)||t.temporaryCacheStorage.containsKey(i))&&(-1!==i.indexOf(v.CACHE_PREFIX)||-1!==i.indexOf(t.clientId))&&t.removeItem(i)}),this.internalStorage.clear(),[2]}})})},e.prototype.setItemCookie=function(t,r,i){var o=encodeURIComponent(t)+"="+encodeURIComponent(r)+";path=/;SameSite=Lax;";i&&(o+="expires="+this.getCookieExpirationTime(i)+";"),this.cacheConfig.secureCookies&&(o+="Secure;"),document.cookie=o},e.prototype.getItemCookie=function(t){for(var r=encodeURIComponent(t)+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(r))return decodeURIComponent(s.substring(r.length,s.length))}return v.EMPTY_STRING},e.prototype.clearMsalCookies=function(){var t=this,r=v.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(o){for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(r)){var s=o.split("=")[0];t.clearItemCookie(s)}})},e.prototype.clearItemCookie=function(t){this.setItemCookie(t,v.EMPTY_STRING,-1)},e.prototype.getCookieExpirationTime=function(t){var r=new Date;return new Date(r.getTime()+t*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},e.prototype.getCache=function(){return this.browserStorage},e.prototype.setCache=function(){},e.prototype.generateCacheKey=function(t){return this.validateAndParseJson(t)?JSON.stringify(t):O.startsWith(t,v.CACHE_PREFIX)||O.startsWith(t,vt.ADAL_ID_TOKEN)?t:v.CACHE_PREFIX+"."+this.clientId+"."+t},e.prototype.generateAuthorityKey=function(t){var r=pi.parseRequestState(this.cryptoImpl,t).libraryState.id;return this.generateCacheKey(we.AUTHORITY+"."+r)},e.prototype.generateNonceKey=function(t){var r=pi.parseRequestState(this.cryptoImpl,t).libraryState.id;return this.generateCacheKey(we.NONCE_IDTOKEN+"."+r)},e.prototype.generateStateKey=function(t){var r=pi.parseRequestState(this.cryptoImpl,t).libraryState.id;return this.generateCacheKey(we.REQUEST_STATE+"."+r)},e.prototype.getCachedAuthority=function(t){var r=this.generateStateKey(t),i=this.getTemporaryCache(r);if(!i)return null;var o=this.generateAuthorityKey(i);return this.getTemporaryCache(o)},e.prototype.updateCacheEntries=function(t,r,i,o,s){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var a=this.generateStateKey(t);this.setTemporaryCache(a,t,!1);var c=this.generateNonceKey(t);this.setTemporaryCache(c,r,!1);var l=this.generateAuthorityKey(t);if(this.setTemporaryCache(l,i,!1),s){var u={credential:s.homeAccountId,type:En.HOME_ACCOUNT_ID};this.setTemporaryCache(we.CCS_CREDENTIAL,JSON.stringify(u),!0)}else O.isEmpty(o)||(u={credential:o,type:En.UPN},this.setTemporaryCache(we.CCS_CREDENTIAL,JSON.stringify(u),!0))},e.prototype.resetRequestCache=function(t){var r=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),O.isEmpty(t)||this.getKeys().forEach(function(i){-1!==i.indexOf(t)&&r.removeItem(i)}),t&&(this.removeItem(this.generateStateKey(t)),this.removeItem(this.generateNonceKey(t)),this.removeItem(this.generateAuthorityKey(t))),this.removeItem(this.generateCacheKey(we.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(we.ORIGIN_URI)),this.removeItem(this.generateCacheKey(we.URL_HASH)),this.removeItem(this.generateCacheKey(we.CORRELATION_ID)),this.removeItem(this.generateCacheKey(we.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(we.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},e.prototype.cleanRequestByState=function(t){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),t){var r=this.generateStateKey(t),i=this.temporaryCacheStorage.getItem(r);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+i),this.resetRequestCache(i||v.EMPTY_STRING)}this.clearMsalCookies()},e.prototype.cleanRequestByInteractionType=function(t){var r=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(i){if(-1!==i.indexOf(we.REQUEST_STATE)){var o=r.temporaryCacheStorage.getItem(i);if(o){var s=bI.extractBrowserRequestState(r.cryptoImpl,o);s&&s.interactionType===t&&(r.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+o),r.resetRequestCache(o))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},e.prototype.cacheCodeRequest=function(t,r){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var i=r.base64Encode(JSON.stringify(t));this.setTemporaryCache(we.REQUEST_PARAMS,i,!0)},e.prototype.getCachedRequest=function(t,r){this.logger.trace("BrowserCacheManager.getCachedRequest called");var i=this.getTemporaryCache(we.REQUEST_PARAMS,!0);if(!i)throw N.createNoTokenRequestCacheError();var o=this.validateAndParseJson(r.base64Decode(i));if(!o)throw N.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(we.REQUEST_PARAMS)),O.isEmpty(o.authority)){var s=this.generateAuthorityKey(t),a=this.getTemporaryCache(s);if(!a)throw N.createNoCachedAuthorityError();o.authority=a}return o},e.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var t=this.getTemporaryCache(we.NATIVE_REQUEST,!0);return t?this.validateAndParseJson(t)||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null):(this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null)},e.prototype.isInteractionInProgress=function(t){var r=this.getInteractionInProgress();return t?r===this.clientId:!!r},e.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(v.CACHE_PREFIX+"."+we.INTERACTION_STATUS_KEY,!1)},e.prototype.setInteractionInProgress=function(t){var r=v.CACHE_PREFIX+"."+we.INTERACTION_STATUS_KEY;if(t){if(this.getInteractionInProgress())throw N.createInteractionInProgressError();this.setTemporaryCache(r,this.clientId,!1)}else!t&&this.getInteractionInProgress()===this.clientId&&this.removeItem(r)},e.prototype.getLegacyLoginHint=function(){var t=this.getTemporaryCache(vt.ADAL_ID_TOKEN);t&&(this.browserStorage.removeItem(vt.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var r=this.getTemporaryCache(vt.ID_TOKEN,!0);r&&(this.removeItem(this.generateCacheKey(vt.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var i=r||t;if(i){var o=new Ur(i,this.cryptoImpl);if(o.claims&&o.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),o.claims.preferred_username;if(o.claims&&o.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),o.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},e.prototype.updateCredentialCacheKey=function(t,r){var i=r.generateCredentialKey();if(t!==i){var o=this.getItem(t);if(o)return this.removeItem(t),this.setItem(i,o),this.logger.verbose("Updated an outdated "+r.credentialType+" cache key"),i;this.logger.error("Attempted to update an outdated "+r.credentialType+" cache key but no item matching the outdated key was found in storage")}return t},e}(yr),wc=(()=>{return(n=wc||(wc={})).AAD="AAD",n.OIDC="OIDC",wc;var n})(),Os=(()=>{return(n=Os||(Os={}))[n.None=0]="None",n.AzurePublic="https://login.microsoftonline.com",n.AzurePpe="https://login.windows-ppe.net",n.AzureChina="https://login.chinacloudapi.cn",n.AzureGermany="https://login.microsoftonline.de",n.AzureUsGovernment="https://login.microsoftonline.us",Os;var n})(),EI={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:v.EMPTY_STRING},fj={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Tt.Info,correlationId:v.EMPTY_STRING},pj={sendGetRequestAsync:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return ee(this,void 0,void 0,function(){return te(this,function(e){throw z.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},mj={sku:v.SKU,version:"7.6.0",cpu:v.EMPTY_STRING,os:v.EMPTY_STRING},gj={clientSecret:v.EMPTY_STRING,clientAssertion:void 0},vj={azureCloudInstance:Os.None,tenant:""+v.DEFAULT_COMMON_TENANT},yj={application:{appName:"",appVersion:""}};function Cj(n){return ut({clientCapabilities:[],azureCloudOptions:vj,skipAuthorityMetadataCache:!1},n)}var bj={sendGetRequestAsync:function(){return Promise.reject(z.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(z.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},wj=function(){function n(){}return n.prototype.sendGetRequestAsync=function(e,t){return T(this,void 0,void 0,function(){var r,i,o;return D(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,fetch(e,{method:vr.GET,headers:this.getFetchHeaders(t)})];case 1:return r=s.sent(),[3,3];case 2:throw i=s.sent(),window.navigator.onLine?N.createGetRequestFailedError(i,e):N.createNoNetworkConnectivityError();case 3:return s.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=s.sent(),o.status=r.status,o)];case 5:throw s.sent(),N.createFailedToParseNetworkResponseError(e);case 6:return[2]}})})},n.prototype.sendPostRequestAsync=function(e,t){return T(this,void 0,void 0,function(){var r,i,o,s;return D(this,function(a){switch(a.label){case 0:r=t&&t.body||v.EMPTY_STRING,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(e,{method:vr.POST,headers:this.getFetchHeaders(t),body:r})];case 2:return i=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?N.createPostRequestFailedError(o,e):N.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),s={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 5:return[2,(s.body=a.sent(),s.status=i.status,s)];case 6:throw a.sent(),N.createFailedToParseNetworkResponseError(e);case 7:return[2]}})})},n.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var r=e.headers;return Object.keys(r).forEach(function(i){t.append(i,r[i])}),t},n.prototype.getHeaderDict=function(e){var t={};return e.forEach(function(r,i){t[i]=r}),t},n}(),Ej=function(){function n(){}return n.prototype.sendGetRequestAsync=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.sendRequestAsync(e,vr.GET,t)]})})},n.prototype.sendPostRequestAsync=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.sendRequestAsync(e,vr.POST,t)]})})},n.prototype.sendRequestAsync=function(e,t,r){var i=this;return new Promise(function(o,s){var a=new XMLHttpRequest;if(a.open(t,e,!0),i.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&s(t===vr.POST?N.createPostRequestFailedError("Failed with status "+a.status,e):N.createGetRequestFailedError("Failed with status "+a.status,e));try{var c=JSON.parse(a.responseText),l={headers:i.getHeaderDict(a),body:c,status:a.status};o(l)}catch{s(N.createFailedToParseNetworkResponseError(e))}},a.onerror=function(){window.navigator.onLine?s(t===vr.POST?N.createPostRequestFailedError("Failed with status "+a.status,e):N.createGetRequestFailedError("Failed with status "+a.status,e)):s(N.createNoNetworkConnectivityError())},t===vr.POST&&r&&r.body)a.send(r.body);else{if(t!==vr.GET)throw N.createHttpMethodNotImplementedError(t);a.send()}})},n.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var r=t.headers;Object.keys(r).forEach(function(i){e.setRequestHeader(i,r[i])})}},n.prototype.getHeaderDict=function(e){var r=e.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};return r.forEach(function(o){var s=o.split(": "),a=s.shift(),c=s.join(": ");a&&c&&(i[a]=c)}),i},n}(),Qe=function(){function n(){}return n.clearHash=function(e){e.location.hash=v.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,v.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},n.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):v.EMPTY_STRING},n.isInIframe=function(){return window.parent!==window},n.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},n.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},n.getHomepage=function(){var t=new ye(window.location.href).getUrlComponents();return t.Protocol+"//"+t.HostNameAndPort+"/"},n.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new wj:new Ej},n.blockReloadInHiddenIframes=function(){if(ye.hashContainsKnownProperties(window.location.hash)&&n.isInIframe())throw N.createBlockReloadInHiddenIframeError()},n.blockRedirectInIframe=function(e,t){var r=n.isInIframe();if(e===x.Redirect&&r&&!t)throw N.createRedirectInIframeError(r)},n.blockAcquireTokenInPopups=function(){if(n.isInPopup())throw N.createBlockAcquireTokenInPopupsError()},n.blockNonBrowserEnvironment=function(e){if(!e)throw N.createNonBrowserEnvironmentError()},n.blockNativeBrokerCalledBeforeInitialized=function(e,t){if(e&&!t)throw N.createNativeBrokerCalledBeforeInitialize()},n.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/"),i=e.indexOf("Edge/");return t>0||r>0||i>0},n}(),Sj=function(){function n(){}return n.prototype.navigateInternal=function(e,t){return n.defaultNavigateWindow(e,t)},n.prototype.navigateExternal=function(e,t){return n.defaultNavigateWindow(e,t)},n.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise(function(r){setTimeout(function(){r(!0)},t.timeout)})},n}(),kg="@azure/msal-browser",Ec="2.30.0",V=(()=>{return(n=V||(V={})).INITIALIZE_START="msal:initializeStart",n.INITIALIZE_END="msal:initializeEnd",n.ACCOUNT_ADDED="msal:accountAdded",n.ACCOUNT_REMOVED="msal:accountRemoved",n.LOGIN_START="msal:loginStart",n.LOGIN_SUCCESS="msal:loginSuccess",n.LOGIN_FAILURE="msal:loginFailure",n.ACQUIRE_TOKEN_START="msal:acquireTokenStart",n.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",n.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",n.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",n.SSO_SILENT_START="msal:ssoSilentStart",n.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",n.SSO_SILENT_FAILURE="msal:ssoSilentFailure",n.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",n.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",n.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",n.HANDLE_REDIRECT_START="msal:handleRedirectStart",n.HANDLE_REDIRECT_END="msal:handleRedirectEnd",n.POPUP_OPENED="msal:popupOpened",n.LOGOUT_START="msal:logoutStart",n.LOGOUT_SUCCESS="msal:logoutSuccess",n.LOGOUT_FAILURE="msal:logoutFailure",n.LOGOUT_END="msal:logoutEnd",V;var n})(),Mj=function(){function n(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return n.prototype.addEventCallback=function(e){if(typeof window<"u"){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},n.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},n.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},n.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},n.prototype.emitEvent=function(e,t,r,i){var o=this;if(typeof window<"u"){var s={eventType:e,interactionType:t||null,payload:r||null,error:i||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach(function(a,c){o.logger.verbose("Emitting event to callback "+c+": "+e),a.apply(null,[s])})}},n.prototype.handleAccountCacheChange=function(e){try{var t=e.newValue||e.oldValue;if(!t)return;var r=JSON.parse(t);if("object"!=typeof r||!Ht.isAccountEntity(r))return;var o=yr.toObject(new Ht,r).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(V.ACCOUNT_ADDED,void 0,o)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(V.ACCOUNT_REMOVED,void 0,o))}catch{return}},n}(),dd=function(){function n(){}return n.generateThrottlingStorageKey=function(e){return"throttling."+JSON.stringify(e)},n.preProcess=function(e,t){var r,i=n.generateThrottlingStorageKey(t),o=e.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now())return void e.removeItem(i,Bi.THROTTLING);throw new To((null===(r=o.errorCodes)||void 0===r?void 0:r.join(" "))||v.EMPTY_STRING,o.errorMessage,o.subError)}},n.postProcess=function(e,t,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){var i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[Jn.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(n.generateThrottlingStorageKey(t),i)}},n.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},n.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(Jn.RETRY_AFTER)&&(e.status<200||e.status>=300)},n.calculateThrottleTime=function(e){var t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||60),r+3600))},n.removeThrottle=function(e,t,r,i){var s=this.generateThrottlingStorageKey({clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid});return e.removeItem(s,Bi.THROTTLING)},n}(),Rj=function(){function n(e,t){this.networkClient=e,this.cacheManager=t}return n.prototype.sendPostRequest=function(e,t,r){return ee(this,void 0,void 0,function(){var i,o;return te(this,function(s){switch(s.label){case 0:dd.preProcess(this.cacheManager,e),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,r)];case 2:return i=s.sent(),[3,4];case 3:throw(o=s.sent())instanceof z?o:L.createNetworkError(t,o);case 4:return dd.postProcess(this.cacheManager,e,i),[2,i]}})})},n}(),Ng=function(){function n(e,t){this.config=function _j(n){var e=n.authOptions,t=n.systemOptions,r=n.loggerOptions,i=n.storageInterface,o=n.networkInterface,s=n.cryptoInterface,a=n.clientCredentials,c=n.libraryInfo,l=n.telemetry,u=n.serverTelemetryManager,d=n.persistencePlugin,h=n.serializableCache,f=ut(ut({},fj),r);return{authOptions:Cj(e),systemOptions:ut(ut({},EI),t),loggerOptions:f,storageInterface:i||new lj(e.clientId,ad),networkInterface:o||pj,cryptoInterface:s||ad,clientCredentials:a||gj,libraryInfo:ut(ut({},mj),c),telemetry:ut(ut({},yj),l),serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}(e),this.logger=new vI(this.config.loggerOptions,"@azure/msal-common","7.6.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new Rj(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}return n.prototype.createTokenRequestHeaders=function(e){var t={};if(t[Jn.CONTENT_TYPE]=v.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case En.HOME_ACCOUNT_ID:try{var r=Ns(e.credential);t[Jn.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case En.UPN:t[Jn.CCS_HEADER]="UPN: "+e.credential}return t},n.prototype.executePostToTokenEndpoint=function(e,t,r,i){return ee(this,void 0,void 0,function(){var o;return te(this,function(s){switch(s.label){case 0:return[4,this.networkManager.sendPostRequest(i,e,{body:t,headers:r,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return o=s.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}})})},n.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw L.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},n}(),Io=function(){function n(){}return n.validateRedirectUri=function(e){if(O.isEmpty(e))throw Ye.createRedirectUriEmptyError()},n.validatePrompt=function(e){var t=[];for(var r in Ut)t.push(Ut[r]);if(t.indexOf(e)<0)throw Ye.createInvalidPromptError(e)},n.validateClaims=function(e){try{JSON.parse(e)}catch{throw Ye.createInvalidClaimsRequestError()}},n.validateCodeChallengeParams=function(e,t){if(O.isEmpty(e)||O.isEmpty(t))throw Ye.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},n.validateCodeChallengeMethod=function(e){if([aI.PLAIN,aI.S256].indexOf(e)<0)throw Ye.createInvalidCodeChallengeMethodError()},n.sanitizeEQParams=function(e,t){return e?(t.forEach(function(r,i){e[i]&&delete e[i]}),e):{}},n}(),xs=function(){function n(){this.parameters=new Map}return n.prototype.addResponseTypeCode=function(){this.parameters.set(re.RESPONSE_TYPE,encodeURIComponent(v.CODE_RESPONSE_TYPE))},n.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(re.RESPONSE_TYPE,encodeURIComponent(v.TOKEN_RESPONSE_TYPE+" "+v.ID_TOKEN_RESPONSE_TYPE))},n.prototype.addResponseMode=function(e){this.parameters.set(re.RESPONSE_MODE,encodeURIComponent(e||uc.QUERY))},n.prototype.addNativeBroker=function(){this.parameters.set(re.NATIVE_BROKER,encodeURIComponent("1"))},n.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var r=t?td(e||[],cc):e||[],i=new dn(r);this.parameters.set(re.SCOPE,encodeURIComponent(i.printScopes()))},n.prototype.addClientId=function(e){this.parameters.set(re.CLIENT_ID,encodeURIComponent(e))},n.prototype.addRedirectUri=function(e){Io.validateRedirectUri(e),this.parameters.set(re.REDIRECT_URI,encodeURIComponent(e))},n.prototype.addPostLogoutRedirectUri=function(e){Io.validateRedirectUri(e),this.parameters.set(re.POST_LOGOUT_URI,encodeURIComponent(e))},n.prototype.addIdTokenHint=function(e){this.parameters.set(re.ID_TOKEN_HINT,encodeURIComponent(e))},n.prototype.addDomainHint=function(e){this.parameters.set(Rs.DOMAIN_HINT,encodeURIComponent(e))},n.prototype.addLoginHint=function(e){this.parameters.set(Rs.LOGIN_HINT,encodeURIComponent(e))},n.prototype.addCcsUpn=function(e){this.parameters.set(Jn.CCS_HEADER,encodeURIComponent("UPN:"+e))},n.prototype.addCcsOid=function(e){this.parameters.set(Jn.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},n.prototype.addSid=function(e){this.parameters.set(Rs.SID,encodeURIComponent(e))},n.prototype.addClaims=function(e,t){var r=this.addClientCapabilitiesToClaims(e,t);Io.validateClaims(r),this.parameters.set(re.CLAIMS,encodeURIComponent(r))},n.prototype.addCorrelationId=function(e){this.parameters.set(re.CLIENT_REQUEST_ID,encodeURIComponent(e))},n.prototype.addLibraryInfo=function(e){this.parameters.set(re.X_CLIENT_SKU,e.sku),this.parameters.set(re.X_CLIENT_VER,e.version),e.os&&this.parameters.set(re.X_CLIENT_OS,e.os),e.cpu&&this.parameters.set(re.X_CLIENT_CPU,e.cpu)},n.prototype.addApplicationTelemetry=function(e){e?.appName&&this.parameters.set(re.X_APP_NAME,e.appName),e?.appVersion&&this.parameters.set(re.X_APP_VER,e.appVersion)},n.prototype.addPrompt=function(e){Io.validatePrompt(e),this.parameters.set(""+re.PROMPT,encodeURIComponent(e))},n.prototype.addState=function(e){O.isEmpty(e)||this.parameters.set(re.STATE,encodeURIComponent(e))},n.prototype.addNonce=function(e){this.parameters.set(re.NONCE,encodeURIComponent(e))},n.prototype.addCodeChallengeParams=function(e,t){if(Io.validateCodeChallengeParams(e,t),!e||!t)throw Ye.createInvalidCodeChallengeParamsError();this.parameters.set(re.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(re.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},n.prototype.addAuthorizationCode=function(e){this.parameters.set(re.CODE,encodeURIComponent(e))},n.prototype.addDeviceCode=function(e){this.parameters.set(re.DEVICE_CODE,encodeURIComponent(e))},n.prototype.addRefreshToken=function(e){this.parameters.set(re.REFRESH_TOKEN,encodeURIComponent(e))},n.prototype.addCodeVerifier=function(e){this.parameters.set(re.CODE_VERIFIER,encodeURIComponent(e))},n.prototype.addClientSecret=function(e){this.parameters.set(re.CLIENT_SECRET,encodeURIComponent(e))},n.prototype.addClientAssertion=function(e){O.isEmpty(e)||this.parameters.set(re.CLIENT_ASSERTION,encodeURIComponent(e))},n.prototype.addClientAssertionType=function(e){O.isEmpty(e)||this.parameters.set(re.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},n.prototype.addOboAssertion=function(e){this.parameters.set(re.OBO_ASSERTION,encodeURIComponent(e))},n.prototype.addRequestTokenUse=function(e){this.parameters.set(re.REQUESTED_TOKEN_USE,encodeURIComponent(e))},n.prototype.addGrantType=function(e){this.parameters.set(re.GRANT_TYPE,encodeURIComponent(e))},n.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},n.prototype.addExtraQueryParameters=function(e){var t=this;Io.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach(function(r){t.parameters.set(r,e[r])})},n.prototype.addClientCapabilitiesToClaims=function(e,t){var r;if(e)try{r=JSON.parse(e)}catch{throw Ye.createInvalidClaimsRequestError()}else r={};return t&&t.length>0&&(r.hasOwnProperty(Eo.ACCESS_TOKEN)||(r[Eo.ACCESS_TOKEN]={}),r[Eo.ACCESS_TOKEN][Eo.XMS_CC]={values:t}),JSON.stringify(r)},n.prototype.addUsername=function(e){this.parameters.set(pc.username,encodeURIComponent(e))},n.prototype.addPassword=function(e){this.parameters.set(pc.password,encodeURIComponent(e))},n.prototype.addPopToken=function(e){O.isEmpty(e)||(this.parameters.set(re.TOKEN_TYPE,Ne.POP),this.parameters.set(re.REQ_CNF,encodeURIComponent(e)))},n.prototype.addSshJwk=function(e){O.isEmpty(e)||(this.parameters.set(re.TOKEN_TYPE,Ne.SSH),this.parameters.set(re.REQ_CNF,encodeURIComponent(e)))},n.prototype.addServerTelemetry=function(e){this.parameters.set(re.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(re.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},n.prototype.addThrottling=function(){this.parameters.set(re.X_MS_LIB_CAPABILITY,"retry-after, h429")},n.prototype.addLogoutHint=function(e){this.parameters.set(re.LOGOUT_HINT,encodeURIComponent(e))},n.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach(function(t,r){e.push(r+"="+t)}),e.join("&")},n}(),hd=function n(e,t,r,i,o){this.account=e||null,this.idToken=t||null,this.accessToken=r||null,this.refreshToken=i||null,this.appMetadata=o||null},fd=(()=>{return(n=fd||(fd={})).SW="sw",n.UHW="uhw",fd;var n})(),Ps=function(){function n(e){this.cryptoUtils=e}return n.prototype.generateCnf=function(e){return ee(this,void 0,void 0,function(){var t,r,i;return te(this,function(o){switch(o.label){case 0:return[4,this.generateKid(e)];case 1:return t=o.sent(),r=this.cryptoUtils.base64Encode(JSON.stringify(t)),i={kid:t.kid,reqCnfString:r},[4,this.cryptoUtils.hashString(r)];case 2:return[2,(i.reqCnfHash=o.sent(),i)]}})})},n.prototype.generateKid=function(e){return ee(this,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:r.sent(),xms_ksl:fd.SW}]}})})},n.prototype.signPopToken=function(e,t,r){return ee(this,void 0,void 0,function(){return te(this,function(i){return[2,this.signPayload(e,t,r)]})})},n.prototype.signPayload=function(e,t,r,i){return ee(this,void 0,void 0,function(){var o,s,a,c,l,u;return te(this,function(d){switch(d.label){case 0:return o=r.resourceRequestMethod,a=r.shrClaims,c=r.shrNonce,l=(s=r.resourceRequestUri)?new ye(s):void 0,u=l?.getUrlComponents(),[4,this.cryptoUtils.signJwt(ut({at:e,ts:Xn.nowSeconds(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0},i),t,r.correlationId)];case 1:return[2,d.sent()]}})})},n}(),kj=function(){function n(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(n.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),n}(),pd=function(){function n(e,t,r,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s}return n.prototype.validateServerAuthorizationCodeResponse=function(e,t,r){if(!e.state||!t)throw L.createStateNotFoundError(e.state?"Cached State":"Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw L.createStateMismatchError();if(e.error||e.error_description||e.suberror)throw mr.isInteractionRequiredError(e.error,e.error_description,e.suberror)?new mr(e.error||v.EMPTY_STRING,e.error_description,e.suberror):new To(e.error||v.EMPTY_STRING,e.error_description,e.suberror);e.client_info&&cd(e.client_info,r)},n.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(mr.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new mr(e.error,e.error_description,e.suberror);throw new To(e.error,e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id,e.suberror)}},n.prototype.handleServerTokenResponse=function(e,t,r,i,o,s,a,c,l){return ee(this,void 0,void 0,function(){var u,d,h,f,p,m;return te(this,function(y){switch(y.label){case 0:if(e.id_token){if(u=new Ur(e.id_token||v.EMPTY_STRING,this.cryptoObj),o&&!O.isEmpty(o.nonce)&&u.claims.nonce!==o.nonce)throw L.createNonceMismatchError();if(i.maxAge||0===i.maxAge){if(!(d=u.claims.auth_time))throw L.createAuthTimeNotFoundError();Ur.checkMaxAge(d,i.maxAge)}}this.homeAccountIdentifier=Ht.generateHomeAccountId(e.client_info||v.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),!!o&&!!o.state&&(h=pi.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0,f=this.generateCacheRecord(e,t,r,i,u,s,o),y.label=1;case 1:return y.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new kj(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(p)]):[3,3];case 2:y.sent(),y.label=3;case 3:return a&&!c&&f.account&&(m=f.account.generateAccountKey(),!this.cacheStorage.getAccount(m))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,n.generateAuthenticationResult(this.cryptoObj,t,f,!1,i,u,h,void 0,l)]):[4,this.cacheStorage.saveCacheRecord(f)];case 4:return y.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&p?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(p)]):[3,7];case 6:y.sent(),y.label=7;case 7:return[7];case 8:return[2,n.generateAuthenticationResult(this.cryptoObj,t,f,!1,i,u,h,e.spa_code,l)]}})})},n.prototype.generateCacheRecord=function(e,t,r,i,o,s,a){var l,u,c=t.getPreferredCache();if(O.isEmpty(c))throw L.createInvalidCacheEnvironmentError();!O.isEmpty(e.id_token)&&o&&(l=Cc.createIdTokenEntity(this.homeAccountIdentifier,c,e.id_token||v.EMPTY_STRING,this.clientId,o.claims.tid||v.EMPTY_STRING),u=this.generateAccountEntity(e,o,t,a));var d=null;if(!O.isEmpty(e.access_token)){var h=e.scope?dn.fromString(e.scope):new dn(i.scopes||[]),f=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,p=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,m=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=r+f,y=g+p,b=m&&m>0?r+m:void 0;d=bc.createAccessTokenEntity(this.homeAccountIdentifier,c,e.access_token||v.EMPTY_STRING,this.clientId,o?o.claims.tid||v.EMPTY_STRING:t.tenant,h.printScopes(),g,y,this.cryptoObj,b,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}var C=null;O.isEmpty(e.refresh_token)||(C=ld.createRefreshTokenEntity(this.homeAccountIdentifier,c,e.refresh_token||v.EMPTY_STRING,this.clientId,e.foci,s));var M=null;return O.isEmpty(e.foci)||(M=Ig.createAppMetadataEntity(this.clientId,c,e.foci)),new hd(u,l,d,C,M)},n.prototype.generateAccountEntity=function(e,t,r,i){var s=i?i.cloud_graph_host_name:v.EMPTY_STRING,a=i?i.msgraph_host:v.EMPTY_STRING;if(r.authorityType===Hn.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),Ht.createGenericAccount(this.homeAccountIdentifier,t,r,s,a);if(O.isEmpty(e.client_info)&&"AAD"===r.protocolMode)throw L.createClientInfoEmptyError();return e.client_info?Ht.createAccount(e.client_info,this.homeAccountIdentifier,t,r,s,a):Ht.createGenericAccount(this.homeAccountIdentifier,t,r,s,a)},n.generateAuthenticationResult=function(e,t,r,i,o,s,a,c,l){var u,d,h;return ee(this,void 0,void 0,function(){var f,p,m,g,y,b,C,M,G;return te(this,function(Ee){switch(Ee.label){case 0:if(f=v.EMPTY_STRING,p=[],m=null,y=v.EMPTY_STRING,!r.accessToken)return[3,4];if(r.accessToken.tokenType!==Ne.POP)return[3,2];if(b=new Ps(e),M=(C=r.accessToken).secret,!(G=C.keyId))throw L.createKeyIdMissingError();return[4,b.signPopToken(M,G,o)];case 1:return f=Ee.sent(),[3,3];case 2:f=r.accessToken.secret,Ee.label=3;case 3:p=dn.fromString(r.accessToken.target).asArray(),m=new Date(1e3*Number(r.accessToken.expiresOn)),g=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),Ee.label=4;case 4:return r.appMetadata&&(y="1"===r.appMetadata.familyId?"1":v.EMPTY_STRING),[2,{authority:t.canonicalAuthority,uniqueId:s?.claims.oid||s?.claims.sub||v.EMPTY_STRING,tenantId:s?.claims.tid||v.EMPTY_STRING,scopes:p,account:r.account?r.account.getAccountInfo():null,idToken:s?s.rawToken:v.EMPTY_STRING,idTokenClaims:s?s.claims:{},accessToken:f,fromCache:i,expiresOn:m,correlationId:o.correlationId,requestId:l||v.EMPTY_STRING,extExpiresOn:g,familyId:y,tokenType:(null===(u=r.accessToken)||void 0===u?void 0:u.tokenType)||v.EMPTY_STRING,state:a?a.userRequestState:v.EMPTY_STRING,cloudGraphHostName:(null===(d=r.account)||void 0===d?void 0:d.cloudGraphHostName)||v.EMPTY_STRING,msGraphHost:(null===(h=r.account)||void 0===h?void 0:h.msGraphHost)||v.EMPTY_STRING,code:c,fromNativeBroker:!1}]}})})},n}(),SI=function(n){function e(t){var r=n.call(this,t)||this;return r.includeRedirectUri=!0,r}return Cn(e,n),e.prototype.getAuthCodeUrl=function(t){return ee(this,void 0,void 0,function(){var r;return te(this,function(i){switch(i.label){case 0:return[4,this.createAuthCodeUrlQueryString(t)];case 1:return r=i.sent(),[2,ye.appendQueryString(this.authority.authorizationEndpoint,r)]}})})},e.prototype.acquireToken=function(t,r){var i;return ee(this,void 0,void 0,function(){var o,s,a,c;return te(this,function(l){switch(l.label){case 0:if(this.logger.info("in acquireToken call"),!t||O.isEmpty(t.code))throw L.createTokenRequestCannotBeMadeError();return o=Xn.nowSeconds(),[4,this.executeTokenRequest(this.authority,t)];case 1:return s=l.sent(),a=null===(i=s.headers)||void 0===i?void 0:i[Jn.X_MS_REQUEST_ID],(c=new pd(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(s.body),[4,c.handleServerTokenResponse(s.body,this.authority,o,t,r,void 0,void 0,void 0,a)];case 2:return[2,l.sent()]}})})},e.prototype.handleFragmentResponse=function(t,r){var i=new pd(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),o=new ye(t),s=ye.getDeserializedHash(o.getHash());if(i.validateServerAuthorizationCodeResponse(s,r,this.cryptoUtils),!s.code)throw L.createNoAuthCodeInServerResponseError();return ut(ut({},s),{code:s.code})},e.prototype.getLogoutUri=function(t){if(!t)throw Ye.createEmptyLogoutRequestError();var r=this.createLogoutUrlQueryString(t);return ye.appendQueryString(this.authority.endSessionEndpoint,r)},e.prototype.executeTokenRequest=function(t,r){return ee(this,void 0,void 0,function(){var i,o,s,a,c,l,u;return te(this,function(d){switch(d.label){case 0:return i={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},[4,this.createTokenRequestBody(r)];case 1:if(o=d.sent(),s=this.createTokenQueryParameters(r),a=void 0,r.clientInfo)try{c=cd(r.clientInfo,this.cryptoUtils),a={credential:""+c.uid+bn.CLIENT_INFO_SEPARATOR+c.utid,type:En.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}return l=this.createTokenRequestHeaders(a||r.ccsCredential),u=O.isEmpty(s)?t.tokenEndpoint:t.tokenEndpoint+"?"+s,[2,this.executePostToTokenEndpoint(u,o,l,i)]}})})},e.prototype.createTokenQueryParameters=function(t){var r=new xs;return t.tokenQueryParameters&&r.addExtraQueryParameters(t.tokenQueryParameters),r.createQueryString()},e.prototype.createTokenRequestBody=function(t){return ee(this,void 0,void 0,function(){var r,i,s,a,c,l,u;return te(this,function(d){switch(d.label){case 0:return(r=new xs).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(t.redirectUri):Io.validateRedirectUri(t.redirectUri),r.addScopes(t.scopes),r.addAuthorizationCode(t.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),t.codeVerifier&&r.addCodeVerifier(t.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(r.addClientAssertion((i=this.config.clientCredentials.clientAssertion).assertion),r.addClientAssertionType(i.assertionType)),r.addGrantType(dc.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),t.authenticationScheme!==Ne.POP?[3,2]:[4,new Ps(this.cryptoUtils).generateCnf(t)];case 1:return s=d.sent(),r.addPopToken(s.reqCnfString),[3,3];case 2:if(t.authenticationScheme===Ne.SSH){if(!t.sshJwk)throw Ye.createMissingSshJwkError();r.addSshJwk(t.sshJwk)}d.label=3;case 3:if(a=t.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(a),(!O.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),c=void 0,t.clientInfo)try{l=cd(t.clientInfo,this.cryptoUtils),c={credential:""+l.uid+bn.CLIENT_INFO_SEPARATOR+l.utid,type:En.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}else c=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&c)switch(c.type){case En.HOME_ACCOUNT_ID:try{l=Ns(c.credential),r.addCcsOid(l)}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case En.UPN:r.addCcsUpn(c.credential)}return t.tokenBodyParameters&&r.addExtraQueryParameters(t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[re.RETURN_SPA_CODE])&&r.addExtraQueryParameters(((u={})[re.RETURN_SPA_CODE]="1",u)),[2,r.createQueryString()]}})})},e.prototype.createAuthCodeUrlQueryString=function(t){return ee(this,void 0,void 0,function(){var r,i,o,s,a,c,u;return te(this,function(d){switch(d.label){case 0:if((r=new xs).addClientId(this.config.authOptions.clientId),i=td(t.scopes||[],t.extraScopesToConsent||[]),r.addScopes(i),r.addRedirectUri(t.redirectUri),o=t.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(o),r.addResponseMode(t.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),t.codeChallenge&&t.codeChallengeMethod&&r.addCodeChallengeParams(t.codeChallenge,t.codeChallengeMethod),t.prompt&&r.addPrompt(t.prompt),t.domainHint&&r.addDomainHint(t.domainHint),t.prompt!==Ut.SELECT_ACCOUNT)if(t.sid&&t.prompt===Ut.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(t.sid);else if(t.account){if(s=this.extractAccountSid(t.account),a=this.extractLoginHint(t.account)){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(a);try{c=Ns(t.account.homeAccountId),r.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&t.prompt===Ut.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(s);try{c=Ns(t.account.homeAccountId),r.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint);else if(t.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(t.account.username);try{c=Ns(t.account.homeAccountId),r.addCcsOid(c)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(t.loginHint),r.addCcsUpn(t.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&r.addNonce(t.nonce),t.state&&r.addState(t.state),(!O.isEmpty(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),t.extraQueryParameters&&r.addExtraQueryParameters(t.extraQueryParameters),t.nativeBroker?(r.addNativeBroker(),t.authenticationScheme!==Ne.POP?[3,2]:[4,new Ps(this.cryptoUtils).generateCnf(t)]):[3,2];case 1:u=d.sent(),r.addPopToken(u.reqCnfHash),d.label=2;case 2:return[2,r.createQueryString()]}})})},e.prototype.createLogoutUrlQueryString=function(t){var r=new xs;return t.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(t.postLogoutRedirectUri),t.correlationId&&r.addCorrelationId(t.correlationId),t.idTokenHint&&r.addIdTokenHint(t.idTokenHint),t.state&&r.addState(t.state),t.logoutHint&&r.addLogoutHint(t.logoutHint),t.extraQueryParameters&&r.addExtraQueryParameters(t.extraQueryParameters),r.createQueryString()},e.prototype.extractAccountSid=function(t){var r;return(null===(r=t.idTokenClaims)||void 0===r?void 0:r.sid)||null},e.prototype.extractLoginHint=function(t){var r;return(null===(r=t.idTokenClaims)||void 0===r?void 0:r.login_hint)||null},e}(Ng);function Nj(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")&&n.hasOwnProperty("jwks_uri")}var DI={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},II={"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},xj=function(){function n(e){this.networkInterface=e}return n.prototype.detectRegion=function(e,t,r){return ee(this,void 0,void 0,function(){var i,o,s,a,c;return te(this,function(l){switch(l.label){case 0:if(i=e)return[3,8];o=n.IMDS_OPTIONS,r&&(o.proxyUrl=r),l.label=1;case 1:return l.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(v.IMDS_VERSION,o)];case 2:return(s=l.sent()).status===So.httpSuccess&&(i=s.body,t.region_source=hi.IMDS),s.status!==So.httpBadRequest?[3,5]:[4,this.getCurrentVersion(o)];case 3:return(a=l.sent())?[4,this.getRegionFromIMDS(a,o)]:(t.region_source=hi.FAILED_AUTO_DETECTION,[2,null]);case 4:(c=l.sent()).status===So.httpSuccess&&(i=c.body,t.region_source=hi.IMDS),l.label=5;case 5:return[3,7];case 6:return l.sent(),t.region_source=hi.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:t.region_source=hi.ENVIRONMENT_VARIABLE,l.label=9;case 9:return i||(t.region_source=hi.FAILED_AUTO_DETECTION),[2,i||null]}})})},n.prototype.getRegionFromIMDS=function(e,t){return ee(this,void 0,void 0,function(){return te(this,function(r){return[2,this.networkInterface.sendGetRequestAsync(v.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,v.IMDS_TIMEOUT)]})})},n.prototype.getCurrentVersion=function(e){return ee(this,void 0,void 0,function(){var t;return te(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(v.IMDS_ENDPOINT+"?format=json",e)];case 1:return(t=r.sent()).status===So.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?[2,t.body["newest-versions"][0]]:[2,null];case 2:return r.sent(),[2,null];case 3:return[2]}})})},n.IMDS_OPTIONS={headers:{Metadata:"true"}},n}(),md=function(){function n(e,t,r,i,o){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=i,this.regionDiscovery=new xj(t),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=o||v.EMPTY_STRING}return Object.defineProperty(n.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;if(e.length)switch(e[0].toLowerCase()){case v.ADFS:return Hn.Adfs;case v.DSTS:return Hn.Dsts}return Hn.Default},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new ye(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw L.createLogoutNotSupportedError();var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(e)}throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),n.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},n.prototype.replacePath=function(e){var t=e,i=new ye(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(s,a){var c=i[a];s!==c&&(t=t.replace("/"+c+"/","/"+s+"/"))}),t},Object.defineProperty(n.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===Hn.Adfs||this.authorityType===Hn.Dsts||this.protocolMode===wc.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),n.prototype.discoveryComplete=function(){return!!this.metadata},n.prototype.resolveEndpointsAsync=function(){return ee(this,void 0,void 0,function(){var e,t,r,i;return te(this,function(o){switch(o.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new Ag).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return t=o.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return r=o.sent(),t!==Vn.CACHE&&r!==Vn.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e,[2]}})})},n.prototype.updateEndpointMetadata=function(e){var t,r;return ee(this,void 0,void 0,function(){var i,o;return te(this,function(s){switch(s.label){case 0:return(i=this.getEndpointMetadataFromConfig())?(e.updateEndpointMetadata(i,!1),[2,Vn.CONFIG]):this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!e.isExpired()?[2,Vn.CACHE]:(o=this.getEndpointMetadataFromHardcodedValues(),[4,this.getEndpointMetadataFromNetwork()]);case 1:return(i=s.sent())?null!==(t=this.authorityOptions.azureRegionConfiguration)&&void 0!==t&&t.azureRegion?[4,this.updateMetadataWithRegionalInformation(i)]:[3,3]:[3,4];case 2:i=s.sent(),s.label=3;case 3:return e.updateEndpointMetadata(i,!0),[2,Vn.NETWORK];case 4:return o&&!this.authorityOptions.skipAuthorityMetadataCache?null!==(r=this.authorityOptions.azureRegionConfiguration)&&void 0!==r&&r.azureRegion?[4,this.updateMetadataWithRegionalInformation(o)]:[3,6]:[3,7];case 5:o=s.sent(),s.label=6;case 6:return e.updateEndpointMetadata(o,!1),[2,Vn.HARDCODED_VALUES];case 7:throw L.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},n.prototype.isAuthoritySameType=function(e){return new ye(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},n.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ye.createInvalidAuthorityMetadataError()}return null},n.prototype.getEndpointMetadataFromNetwork=function(){return ee(this,void 0,void 0,function(){var e,t;return te(this,function(r){switch(r.label){case 0:e={},this.proxyUrl&&(e.proxyUrl=this.proxyUrl),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,e)];case 2:return[2,Nj((t=r.sent()).body)?t.body:null];case 3:return r.sent(),[2,null];case 4:return[2]}})})},n.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in DI?DI[this.canonicalAuthority]:null},n.prototype.updateMetadataWithRegionalInformation=function(e){var t,r,i,o,s;return ee(this,void 0,void 0,function(){var a,c;return te(this,function(l){switch(l.label){case 0:return[4,this.regionDiscovery.detectRegion(null===(t=this.authorityOptions.azureRegionConfiguration)||void 0===t?void 0:t.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)];case 1:return a=l.sent(),c=(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)===v.AZURE_REGION_AUTO_DISCOVER_FLAG?a:null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.azureRegion,this.regionDiscoveryMetadata.region_outcome=(null===(o=this.authorityOptions.azureRegionConfiguration)||void 0===o?void 0:o.azureRegion)===v.AZURE_REGION_AUTO_DISCOVER_FLAG?a?ji.AUTO_DETECTION_REQUESTED_SUCCESSFUL:ji.AUTO_DETECTION_REQUESTED_FAILED:a?(null===(s=this.authorityOptions.azureRegionConfiguration)||void 0===s?void 0:s.azureRegion)===a?ji.CONFIGURED_MATCHES_DETECTED:ji.CONFIGURED_NOT_DETECTED:ji.CONFIGURED_NO_AUTO_DETECTION,c?(this.regionDiscoveryMetadata.region_used=c,[2,n.replaceWithRegionalInformation(e,c)]):[2,e]}})})},n.prototype.updateCloudDiscoveryMetadata=function(e){return ee(this,void 0,void 0,function(){var t,r;return te(this,function(i){switch(i.label){case 0:return(t=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(t,!1),[2,Vn.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,Vn.CACHE]:(r=this.getCloudDiscoveryMetadataFromHarcodedValues(),[4,this.getCloudDiscoveryMetadataFromNetwork()]);case 1:if(t=i.sent())return e.updateCloudDiscoveryMetadata(t,!0),[2,Vn.NETWORK];if(r&&!this.options.skipAuthorityMetadataCache)return e.updateCloudDiscoveryMetadata(r,!1),[2,Vn.HARDCODED_VALUES];throw Ye.createUntrustedAuthorityError()}})})},n.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=n.getCloudDiscoveryMetadataFromNetworkResponse(e.metadata,this.hostnameAndPort);if(t)return t}catch{throw Ye.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},n.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return ee(this,void 0,void 0,function(){var e,t,r,i,o;return te(this,function(s){switch(s.label){case 0:e=""+v.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",t={},this.proxyUrl&&(t.proxyUrl=this.proxyUrl),r=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(e,t)];case 2:return i=s.sent(),o=function Oj(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(i.body)?i.body.metadata:[],0===o.length?[2,null]:(r=n.getCloudDiscoveryMetadataFromNetworkResponse(o,this.hostnameAndPort),[3,4]);case 3:return s.sent(),[2,null];case 4:return r||(r=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,r]}})})},n.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in II?II[this.canonicalAuthority]:null},n.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter(function(r){return ye.getDomainFromUrl(r).toLowerCase()===e.hostnameAndPort}).length>0},n.generateAuthority=function(e,t){var r;return t&&t.azureCloudInstance!==Os.None&&(r=t.azureCloudInstance+"/"+(t.tenant?t.tenant:v.DEFAULT_COMMON_TENANT)+"/"),r||e},n.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},n.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var r=0;r<e.length;r++){var i=e[r];if(i.aliases.indexOf(t)>-1)return i}return null},n.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw L.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},n.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},n.isPublicCloudAuthority=function(e){return v.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},n.buildRegionalAuthorityString=function(e,t,r){var i=new ye(e);i.validateAsUri();var o=i.getUrlComponents(),s=t+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=t+"."+v.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=ye.constructAuthorityUriFromObject(ut(ut({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?a+"?"+r:a},n.replaceWithRegionalInformation=function(e,t){return e.authorization_endpoint=n.buildRegionalAuthorityString(e.authorization_endpoint,t),e.token_endpoint=n.buildRegionalAuthorityString(e.token_endpoint,t,v.REGIONAL_AUTH_NON_MSI_QUERY_STRING),e.end_session_endpoint&&(e.end_session_endpoint=n.buildRegionalAuthorityString(e.end_session_endpoint,t)),e},n}(),gd=function(){function n(){}return n.createDiscoveredInstance=function(e,t,r,i,o){return ee(this,void 0,void 0,function(){var s,a;return te(this,function(c){switch(c.label){case 0:s=n.createInstance(e,t,r,i,o),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,s.resolveEndpointsAsync()];case 2:return c.sent(),[2,s];case 3:throw a=c.sent(),L.createEndpointDiscoveryIncompleteError(a);case 4:return[2]}})})},n.createInstance=function(e,t,r,i,o){if(O.isEmpty(e))throw Ye.createUrlEmptyError();return new md(e,t,r,i,o)},n}(),Pj=function(){function n(e,t){this.cacheOutcome=zi.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||v.EMPTY_STRING,this.wrapperVer=e.wrapperVer||v.EMPTY_STRING,this.telemetryCacheKey=Vt.CACHE_KEY+bn.CACHE_KEY_SEPARATOR+e.clientId}return n.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+Vt.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(Vt.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(Vt.VALUE_SEPARATOR);return[Vt.SCHEMA_VERSION,i,t].join(Vt.CATEGORY_SEPARATOR)},n.prototype.generateLastRequestHeaderValue=function(){var e=this.getLastRequests(),t=n.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(Vt.VALUE_SEPARATOR),i=e.errors.slice(0,t).join(Vt.VALUE_SEPARATOR),o=e.errors.length,a=[o,t<o?Vt.OVERFLOW_TRUE:Vt.OVERFLOW_FALSE].join(Vt.VALUE_SEPARATOR);return[Vt.SCHEMA_VERSION,e.cacheHits,r,i,a].join(Vt.CATEGORY_SEPARATOR)},n.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=Vt.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),O.isEmpty(e.subError)?O.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(Vt.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},n.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},n.prototype.getLastRequests=function(){var e=new ud;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},n.prototype.clearTelemetryCache=function(){var e=this.getLastRequests(),t=n.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var i=new ud;i.failedRequests=e.failedRequests.slice(2*t),i.errors=e.errors.slice(t),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}},n.maxErrorsToSend=function(e){var t,r=0,i=0,o=e.errors.length;for(t=0;t<o;t++){var a=e.failedRequests[2*t+1]||v.EMPTY_STRING,c=e.errors[t]||v.EMPTY_STRING;if(!((i+=(e.failedRequests[2*t]||v.EMPTY_STRING).toString().length+a.toString().length+c.length+3)<Vt.MAX_LAST_HEADER_BYTES))break;r+=1}return r},n.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||v.EMPTY_STRING),e.push(this.regionSource||v.EMPTY_STRING),e.push(this.regionOutcome||v.EMPTY_STRING),e.join(",")},n.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},n.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},n}(),AI=function(){function n(e,t,r,i,o,s,a,c,l){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||this.browserCrypto.createNewGuid(),this.logger=i.clone("msal.js.browser",Ec,this.correlationId),this.performanceClient=a}return n.prototype.clearCacheOnLogout=function(e){return T(this,void 0,void 0,function(){return D(this,function(t){switch(t.label){case 0:if(!e)return[3,5];Ht.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(Ht.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},n.prototype.initializeBaseRequest=function(e){return T(this,void 0,void 0,function(){var t,r,i,o;return D(this,function(s){switch(s.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),t=e.authority||this.config.auth.authority,r=wg(e&&e.scopes||[]),(i=j(j({},e),{correlationId:this.correlationId,authority:t,scopes:r})).authenticationScheme){if(i.authenticationScheme===Ne.SSH){if(!e.sshJwk)throw Ye.createMissingSshJwkError();if(!e.sshKid)throw Ye.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+i.authenticationScheme+'" as configured in Auth request')}else i.authenticationScheme=Ne.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return e.claims&&!O.isEmpty(e.claims)?(o=i,[4,this.browserCrypto.hashString(e.claims)]):[3,2];case 1:o.requestedClaimsHash=s.sent(),s.label=2;case 2:return[2,i]}})})},n.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||Qe.getCurrentUri();return ye.getAbsoluteUrl(t,Qe.getCurrentUri())},n.prototype.initializeServerTelemetryManager=function(e,t){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Pj(r,this.browserStorage)},n.prototype.getDiscoveredAuthority=function(e){return T(this,void 0,void 0,function(){var t;return D(this,function(r){switch(r.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),t={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,gd.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t)]):[3,2];case 1:case 3:return[2,r.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,gd.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t)]}})})},n}(),Fs=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e.prototype.initializeAuthorizationCodeRequest=function(t){return T(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",t.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return r=o.sent(),i=j(j({},t),{redirectUri:t.redirectUri,code:v.EMPTY_STRING,codeVerifier:r.verifier}),t.codeChallenge=r.challenge,t.codeChallengeMethod=v.S256_CODE_CHALLENGE_METHOD,[2,i]}})})},e.prototype.initializeLogoutRequest=function(t){this.logger.verbose("initializeLogoutRequest called",t?.correlationId);var r=j({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},t);if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){var i=this.getLogoutHintFromIdTokenClaims(t.account);i&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=i)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return t&&null===t.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId):t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=ye.getAbsoluteUrl(t.postLogoutRedirectUri,Qe.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=ye.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Qe.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=ye.getAbsoluteUrl(Qe.getCurrentUri(),Qe.getCurrentUri())),r},e.prototype.getLogoutHintFromIdTokenClaims=function(t){var r=t.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},e.prototype.createAuthCodeClient=function(t,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,this.getClientConfiguration(t,r,i)];case 1:return o=s.sent(),[2,new SI(o)]}})})},e.prototype.getClientConfiguration=function(t,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return this.logger.verbose("getClientConfiguration called",this.correlationId),[4,this.getDiscoveredAuthority(r,i)];case 1:return o=s.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:"msal.js.browser",version:Ec,cpu:v.EMPTY_STRING,os:v.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},e.prototype.validateAndExtractStateFromHash=function(t,r,i){if(this.logger.verbose("validateAndExtractStateFromHash called",i),!t.state)throw N.createHashDoesNotContainStateError();var o=bI.extractBrowserRequestState(this.browserCrypto,t.state);if(!o)throw N.createUnableToParseStateError();if(o.interactionType!==r)throw N.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",i),t.state},e.prototype.getDiscoveredAuthority=function(t,r){return T(this,void 0,void 0,function(){var i,o,a;return D(this,function(c){switch(c.label){case 0:return this.logger.verbose("getDiscoveredAuthority called",this.correlationId),i=this.performanceClient.startMeasurement(gt.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=md.generateAuthority(t||this.config.auth.authority,r||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),[4,gd.createDiscoveredInstance(a,this.config.system.networkClient,this.browserStorage,o).then(function(l){return i.endMeasurement({success:!0}),l}).catch(function(l){throw i.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),l})];case 1:return[2,c.sent()]}})})},e.prototype.initializeAuthorizationRequest=function(t,r){return T(this,void 0,void 0,function(){var i,s,a,c,l,u;return D(this,function(d){switch(d.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),i=this.getRedirectUri(t.redirectUri),s=pi.setRequestState(this.browserCrypto,t&&t.state||v.EMPTY_STRING,{interactionType:r}),c=[{}],[4,this.initializeBaseRequest(t)];case 1:return a=j.apply(void 0,[j.apply(void 0,c.concat([d.sent()])),{redirectUri:i,state:s,nonce:t.nonce||this.browserCrypto.createNewGuid(),responseMode:uc.FRAGMENT}]),(l=t.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+l.homeAccountId,this.correlationId),a.account=l),O.isEmpty(a.loginHint)&&!l&&(u=this.browserStorage.getLegacyLoginHint())&&(a.loginHint=u),[2,a]}})})},e}(AI),mi=(()=>{return(n=mi||(mi={})).USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",n.USER_CANCEL="USER_CANCEL",n.NO_NETWORK="NO_NETWORK",n.TRANSIENT_ERROR="TRANSIENT_ERROR",n.PERSISTENT_ERROR="PERSISTENT_ERROR",n.DISABLED="DISABLED",n.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE",mi;var n})(),Sc_extensionError_code="ContentError",Sc_userSwitch_code="user_switch",Sc_userSwitch_desc="User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again.",Sc_tokensNotFoundInCache_code="tokens_not_found_in_internal_memory_cache",Sc_tokensNotFoundInCache_desc="Tokens not cached in MSAL JS internal memory, please make the WAM request",Vr=function(n){function e(t,r,i){var o=n.call(this,t,r)||this;return Object.setPrototypeOf(o,e.prototype),o.name="NativeAuthError",o.ext=i,o}return Lt(e,n),e.prototype.isFatal=function(){return!(!this.ext||!this.ext.status||this.ext.status!==mi.PERSISTENT_ERROR&&this.ext.status!==mi.DISABLED)||this.errorCode===Sc_extensionError_code},e.createError=function(t,r,i){if(i&&i.status)switch(i.status){case mi.ACCOUNT_UNAVAILABLE:return mr.createNativeAccountUnavailableError();case mi.USER_INTERACTION_REQUIRED:return new mr(t,r);case mi.USER_CANCEL:return N.createUserCancelledError();case mi.NO_NETWORK:return N.createNoNetworkConnectivityError()}return new e(t,r,i)},e.createUserSwitchError=function(){return new e(Sc_userSwitch_code,Sc_userSwitch_desc)},e.createTokensNotFoundInCacheError=function(){return new e(Sc_tokensNotFoundInCache_code,Sc_tokensNotFoundInCache_desc)},e}(z),MI=function(n){function e(t,r){return n.call(this,t,r)||this}return Cn(e,n),e.prototype.acquireToken=function(t){var r,i;return ee(this,void 0,void 0,function(){var o,s,a,c,l,u=this;return te(this,function(d){switch(d.label){case 0:return o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(gt.RefreshTokenClientAcquireToken,t.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",t.correlationId),s=Xn.nowSeconds(),[4,this.executeTokenRequest(t,this.authority)];case 1:return a=d.sent(),c=null===(i=a.headers)||void 0===i?void 0:i[Jn.X_MS_REQUEST_ID],(l=new pd(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(a.body),[2,l.handleServerTokenResponse(a.body,this.authority,s,t,void 0,void 0,!0,t.forceCache,c).then(function(h){var f;return o?.endMeasurement({success:!0,refreshTokenSize:(null===(f=a.body.refresh_token)||void 0===f?void 0:f.length)||0}),h}).catch(function(h){throw u.logger.verbose("Error in fetching refresh token",t.correlationId),o?.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1,refreshTokenSize:void 0}),h})]}})})},e.prototype.acquireTokenByRefreshToken=function(t){return ee(this,void 0,void 0,function(){var o;return te(this,function(s){if(!t)throw Ye.createEmptyTokenRequestError();if(!t.account)throw L.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(t.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(t,!0)]}catch(a){if(o=a instanceof To&&"invalid_grant"===a.errorCode&&"client_mismatch"===a.subError,a instanceof mr&&a.errorCode===mc_noTokensFoundError_code||o)return[2,this.acquireTokenWithCachedRefreshToken(t,!1)];throw a}return[2,this.acquireTokenWithCachedRefreshToken(t,!1)]})})},e.prototype.acquireTokenWithCachedRefreshToken=function(t,r){var i;return ee(this,void 0,void 0,function(){var o,s,a;return te(this,function(c){if(o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(gt.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",t.correlationId),!(s=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,t.account,r)))throw o?.discardMeasurement(),mr.createNoTokensFoundError();return o?.endMeasurement({success:!0}),a=ut(ut({},t),{refreshToken:s.secret,authenticationScheme:t.authenticationScheme||Ne.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:En.HOME_ACCOUNT_ID}}),[2,this.acquireToken(a)]})})},e.prototype.executeTokenRequest=function(t,r){var i;return ee(this,void 0,void 0,function(){var o,s,a,c,l,u;return te(this,function(d){switch(d.label){case 0:return o=null===(i=this.performanceClient)||void 0===i?void 0:i.startMeasurement(gt.RefreshTokenClientExecuteTokenRequest,t.correlationId),[4,this.createTokenRequestBody(t)];case 1:return s=d.sent(),a=this.createTokenQueryParameters(t),c=this.createTokenRequestHeaders(t.ccsCredential),l={clientId:this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},u=ye.appendQueryString(r.tokenEndpoint,a),[2,this.executePostToTokenEndpoint(u,s,c,l).then(function(h){return o?.endMeasurement({success:!0}),h}).catch(function(h){throw o?.endMeasurement({success:!1}),h})]}})})},e.prototype.createTokenQueryParameters=function(t){var r=new xs;return t.tokenQueryParameters&&r.addExtraQueryParameters(t.tokenQueryParameters),r.createQueryString()},e.prototype.createTokenRequestBody=function(t){var r;return ee(this,void 0,void 0,function(){var i,o,s,a,l,u;return te(this,function(d){switch(d.label){case 0:return i=t.correlationId,o=null===(r=this.performanceClient)||void 0===r?void 0:r.startMeasurement(gt.BaseClientCreateTokenRequestHeaders,i),(s=new xs).addClientId(this.config.authOptions.clientId),s.addScopes(t.scopes),s.addGrantType(dc.REFRESH_TOKEN_GRANT),s.addClientInfo(),s.addLibraryInfo(this.config.libraryInfo),s.addApplicationTelemetry(this.config.telemetry.application),s.addThrottling(),this.serverTelemetryManager&&s.addServerTelemetry(this.serverTelemetryManager),s.addCorrelationId(i),s.addRefreshToken(t.refreshToken),this.config.clientCredentials.clientSecret&&s.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(s.addClientAssertion((a=this.config.clientCredentials.clientAssertion).assertion),s.addClientAssertionType(a.assertionType)),t.authenticationScheme!==Ne.POP?[3,2]:[4,new Ps(this.cryptoUtils).generateCnf(t)];case 1:return l=d.sent(),s.addPopToken(l.reqCnfString),[3,3];case 2:if(t.authenticationScheme===Ne.SSH){if(!t.sshJwk)throw o?.endMeasurement({success:!1}),Ye.createMissingSshJwkError();s.addSshJwk(t.sshJwk)}d.label=3;case 3:if((!O.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&s.addClaims(t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case En.HOME_ACCOUNT_ID:try{u=Ns(t.ccsCredential.credential),s.addCcsOid(u)}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case En.UPN:s.addCcsUpn(t.ccsCredential.credential)}return o?.endMeasurement({success:!0}),[2,s.createQueryString()]}})})},e}(Ng),Fj=function(n){function e(t,r){return n.call(this,t,r)||this}return Cn(e,n),e.prototype.acquireToken=function(t){return ee(this,void 0,void 0,function(){var r;return te(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.acquireCachedToken(t)];case 1:return[2,o.sent()];case 2:if((r=o.sent())instanceof L&&r.errorCode===A_tokenRefreshRequired_code)return[2,new MI(this.config,this.performanceClient).acquireTokenByRefreshToken(t)];throw r;case 3:return[2]}})})},e.prototype.acquireCachedToken=function(t){var r,i,o,s;return ee(this,void 0,void 0,function(){var a,c;return te(this,function(l){switch(l.label){case 0:if(!t)throw Ye.createEmptyTokenRequestError();if(t.forceRefresh)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(zi.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),L.createRefreshRequiredError();if(!t.account)throw L.createNoAccountInSilentRequestError();if(a=t.authority||this.authority.getPreferredCache(),!(c=this.cacheManager.readCacheRecord(t.account,this.config.authOptions.clientId,t,a)).accessToken)throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(zi.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),L.createRefreshRequiredError();if(Xn.wasClockTurnedBack(c.accessToken.cachedAt)||Xn.isTokenExpired(c.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(zi.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),L.createRefreshRequiredError();if(c.accessToken.refreshOn&&Xn.isTokenExpired(c.accessToken.refreshOn,0))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(zi.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),L.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(c,t)];case 1:return[2,l.sent()]}})})},e.prototype.generateResultFromCacheRecord=function(t,r){return ee(this,void 0,void 0,function(){var i,o;return te(this,function(s){switch(s.label){case 0:if(t.idToken&&(i=new Ur(t.idToken.secret,this.config.cryptoInterface)),r.maxAge||0===r.maxAge){if(o=i?.claims.auth_time,!o)throw L.createAuthTimeNotFoundError();Ur.checkMaxAge(o,r.maxAge)}return[4,pd.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,r,i)];case 1:return[2,s.sent()]}})})},e}(Ng),RI=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e.prototype.acquireToken=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a;return D(this,function(c){switch(c.label){case 0:return r=this.performanceClient.startMeasurement(gt.SilentCacheClientAcquireToken,t.correlationId),i=this.initializeServerTelemetryManager(He.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(i,t.authority,t.azureCloudOptions)];case 1:o=c.sent(),this.logger.verbose("Silent auth client created"),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.acquireCachedToken(t)];case 3:return s=c.sent(),r.endMeasurement({success:!0,fromCache:!0}),[2,s];case 4:throw(a=c.sent())instanceof N&&a.errorCode===I_signingKeyNotFoundInStorage_code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),r.endMeasurement({errorCode:a instanceof z&&a.errorCode||void 0,subErrorCode:a instanceof z&&a.subError||void 0,success:!1}),a;case 5:return[2]}})})},e.prototype.logout=function(){return Promise.reject(N.createSilentLogoutUnsupportedError())},e.prototype.createSilentFlowClient=function(t,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,this.getClientConfiguration(t,r,i)];case 1:return o=s.sent(),[2,new Fj(o,this.performanceClient)]}})})},e.prototype.initializeSilentRequest=function(t,r){return T(this,void 0,void 0,function(){var i;return D(this,function(o){switch(o.label){case 0:return i=[j({},t)],[4,this.initializeBaseRequest(t)];case 1:return[2,j.apply(void 0,[j.apply(void 0,i.concat([o.sent()])),{account:r,forceRefresh:t.forceRefresh||!1}])]}})})},e}(Fs),Ls=function(n){function e(t,r,i,o,s,a,c,l,u,d,h,f){var p=n.call(this,t,r,i,o,s,a,l,u,f)||this;return p.apiId=c,p.accountId=d,p.nativeMessageHandler=u,p.nativeStorageManager=h,p.silentCacheClient=new RI(t,p.nativeStorageManager,i,o,s,a,l,u,f),p}return Lt(e,n),e.prototype.acquireToken=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,c,l;return D(this,function(u){switch(u.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),r=this.performanceClient.startMeasurement(gt.NativeInteractionClientAcquireToken,t.correlationId),i=Xn.nowSeconds(),[4,this.initializeNativeRequest(t)];case 1:o=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,o)];case 3:return s=u.sent(),r.endMeasurement({success:!0,isNativeBroker:!0,fromCache:!0}),[2,s];case 4:return u.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return[4,this.nativeMessageHandler.sendMessage({method:Lr.GetToken,request:o})];case 6:return c=u.sent(),l=this.validateNativeResponse(c),[2,this.handleNativeResponse(l,o,i).then(function(d){return r.endMeasurement({success:!0,isNativeBroker:!0,requestId:d.requestId}),d}).catch(function(d){throw r.endMeasurement({success:!1,errorCode:d.errorCode,subErrorCode:d.subError,isNativeBroker:!0}),d})]}})})},e.prototype.createSilentCacheRequest=function(t,r){return{authority:t.authority,correlationId:this.correlationId,scopes:dn.fromString(t.scope).asArray(),account:r,forceRefresh:!1}},e.prototype.acquireTokensFromCache=function(t,r){return T(this,void 0,void 0,function(){var i,o,s;return D(this,function(l){switch(l.label){case 0:if(!(i=this.browserStorage.readAccountFromCacheWithNativeAccountId(t)))throw L.createNoAccountFoundError();o=i.getAccountInfo(),l.label=1;case 1:return l.trys.push([1,3,,4]),s=this.createSilentCacheRequest(r,o),[4,this.silentCacheClient.acquireToken(s)];case 2:return[2,l.sent()];case 3:throw l.sent();case 4:return[2]}})})},e.prototype.acquireTokenRedirect=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a,c;return D(this,function(l){switch(l.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(t)];case 1:r=l.sent(),i={method:Lr.GetToken,request:r},l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(i)];case 3:return o=l.sent(),this.validateNativeResponse(o),[3,5];case 4:if((s=l.sent())instanceof Vr&&s.isFatal())throw s;return[3,5];case 5:return this.browserStorage.setTemporaryCache(we.NATIVE_REQUEST,JSON.stringify(r),!0),a={apiId:He.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},c=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri),[4,this.navigationClient.navigateExternal(c,a)];case 6:return l.sent(),[2]}})})},e.prototype.handleRedirectPromise=function(){return T(this,void 0,void 0,function(){var t,r,i,o,s,a;return D(this,function(c){switch(c.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(t=this.browserStorage.getCachedNativeRequest()))return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];this.browserStorage.removeItem(this.browserStorage.generateCacheKey(we.NATIVE_REQUEST)),r={method:Lr.GetToken,request:t},i=Xn.nowSeconds(),c.label=1;case 1:return c.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(r)];case 2:return o=c.sent(),this.validateNativeResponse(o),s=this.handleNativeResponse(o,t,i),this.browserStorage.setInteractionInProgress(!1),[2,s];case 3:throw a=c.sent(),this.browserStorage.setInteractionInProgress(!1),a;case 4:return[2]}})})},e.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},e.prototype.handleNativeResponse=function(t,r,i){return T(this,void 0,void 0,function(){var o,s,a,c,l,u,d,h,f,p,m,y,b,C,M,G,X,Ie,Ee,hn=this;return D(this,function(Nt){switch(Nt.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),t.account.id!==r.accountId)throw Vr.createUserSwitchError();return o=new Ur(t.id_token||v.EMPTY_STRING,this.browserCrypto),[4,this.getDiscoveredAuthority(r.authority)];case 1:return s=Nt.sent(),a=s.getPreferredCache(),c=Ht.generateHomeAccountId(t.client_info||v.EMPTY_STRING,Hn.Default,this.logger,this.browserCrypto,o),l=Ht.createAccount(t.client_info,c,o,void 0,void 0,void 0,a,t.account.id),this.browserStorage.setAccount(l),u=dn.fromString(t.scope?t.scope:r.scope),h=(d=t.account.properties||{}).UID||o.claims.oid||o.claims.sub||v.EMPTY_STRING,f=d.TenantId||o.claims.tid||v.EMPTY_STRING,m=Ne.BEARER,r.tokenType===Ne.POP?[3,2]:[3,4];case 2:if(m=Ne.POP,t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),p=t.shr,[3,5];if(y=new Ps(this.browserCrypto),b={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce},!r.keyId)throw L.createKeyIdMissingError();return[4,y.signPopToken(t.access_token,r.keyId,b)];case 3:return p=Nt.sent(),[3,5];case 4:p=t.access_token,Nt.label=5;case 5:return C=this.getMATSFromResponse(t),M={authority:s.canonicalAuthority,uniqueId:h,tenantId:f,scopes:u.asArray(),account:l.getAccountInfo(),idToken:t.id_token,idTokenClaims:o.claims,accessToken:p,fromCache:!!C&&this.isResponseFromCache(C),expiresOn:new Date(1e3*Number(i+t.expires_in)),tokenType:m,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0},G=Cc.createIdTokenEntity(c,r.authority,t.id_token||v.EMPTY_STRING,r.clientId,o.claims.tid||v.EMPTY_STRING),this.nativeStorageManager.setIdTokenCredential(G),X=m===Ne.POP?v.SHR_NONCE_VALIDITY:("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,Ie=i+X,Ee=bc.createAccessTokenEntity(c,r.authority,p,r.clientId,f,u.printScopes(),Ie,0,this.browserCrypto),this.nativeStorageManager.setAccessTokenCredential(Ee),this.browserStorage.removeAccountContext(l).catch(function(Wi){hn.logger.error("Error occurred while removing account context from browser storage. "+Wi)}),[2,M]}})})},e.prototype.validateNativeResponse=function(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Vr.createUnexpectedError("Response missing expected properties.")},e.prototype.getMATSFromResponse=function(t){if(t.properties.MATS)try{return JSON.parse(t.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},e.prototype.isResponseFromCache=function(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached},e.prototype.initializeNativeRequest=function(t){return T(this,void 0,void 0,function(){var i,o,s,a,c,l,u,h,f=this;return D(this,function(p){switch(p.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),(i=new ye(t.authority||this.config.auth.authority)).validateAsUri(),o=t.scopes,s=function jB(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(t,["scopes"]),(a=new dn(o||[])).appendScopes(cc),c=function(){switch(f.apiId){case He.ssoSilent:case He.acquireTokenSilent_silentFlow:return f.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ut.NONE}if(t.prompt)switch(t.prompt){case Ut.NONE:case Ut.CONSENT:case Ut.LOGIN:return f.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t.prompt;default:throw f.logger.trace("initializeNativeRequest: prompt = "+t.prompt+" is not compatible with native flow"),N.createNativePromptParameterNotSupportedError()}else f.logger.trace("initializeNativeRequest: prompt was not provided")},l=j(j({},s),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:c(),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:j(j(j({},t.extraQueryParameters),t.tokenQueryParameters),{telemetry:"MATS"}),extendedExpiryToken:!1}),t.authenticationScheme!==Ne.POP?[3,2]:(u={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},[4,new Ps(this.browserCrypto).generateCnf(u)]);case 1:h=p.sent(),l.reqCnf=h.reqCnfHash,l.keyId=h.kid,p.label=2;case 2:return[2,l]}})})},e}(AI),Ao=function(){function n(e,t,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this)}return n.prototype.sendMessage=function(e){return T(this,void 0,void 0,function(){var t,r=this;return D(this,function(i){return this.logger.trace("NativeMessageHandler - sendMessage called."),t={channel:gc_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:e},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(t)),this.messageChannel.port1.postMessage(t),[2,new Promise(function(o,s){r.resolvers.set(t.responseId,{resolve:o,reject:s})})]})})},n.createProvider=function(e,t){return T(this,void 0,void 0,function(){var r,i;return D(this,function(o){switch(o.label){case 0:e.trace("NativeMessageHandler - createProvider called."),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,(r=new n(e,t,"ppnbnpeolgkicgegkbkbjmhlideopiji")).sendHandshakeRequest()];case 2:return o.sent(),[2,r];case 3:return o.sent(),[4,(i=new n(e,t)).sendHandshakeRequest()];case 4:return o.sent(),[2,i];case 5:return[2]}})})},n.prototype.sendHandshakeRequest=function(){return T(this,void 0,void 0,function(){var e,t=this;return D(this,function(r){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),e={channel:gc_CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:Lr.HandshakeRequest}},this.messageChannel.port1.onmessage=function(i){t.onChannelMessage(i)},window.postMessage(e,window.origin,[this.messageChannel.port2]),[2,new Promise(function(i,o){t.handshakeResolvers.set(e.responseId,{resolve:i,reject:o}),t.timeoutId=window.setTimeout(function(){window.removeEventListener("message",t.windowListener,!1),t.messageChannel.port1.close(),t.messageChannel.port2.close(),o(N.createNativeHandshakeTimeoutError()),t.handshakeResolvers.delete(e.responseId)},t.handshakeTimeoutMs)})]})})},n.prototype.onWindowMessage=function(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source===window){var t=e.data;if(t.channel&&t.channel===gc_CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Lr.HandshakeRequest){this.logger.verbose(t.extensionId?"Extension with id: "+t.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var r=this.handshakeResolvers.get(t.responseId);r&&r.reject(N.createNativeExtensionNotInstalledError())}}},n.prototype.onChannelMessage=function(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var t=e.data,r=this.resolvers.get(t.responseId),i=this.handshakeResolvers.get(t.responseId);try{var o=t.body.method;if(o===Lr.Response){if(!r)return;var s=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(s)),"Success"!==s.status)r.reject(Vr.createError(s.code,s.description,s.ext));else{if(!s.result)throw z.createUnexpectedError("Event does not contain result.");s.result.code&&s.result.description?r.reject(Vr.createError(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result)}this.resolvers.delete(t.responseId)}else if(o===Lr.HandshakeResponse){if(!i)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),i.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(a){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+a.toString()),this.logger.errorPii("Unable to parse "+e),r?r.reject(a):i&&i.reject(a)}},n.isNativeAvailable=function(e,t,r,i){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Ne.BEARER:case Ne.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},n}(),Og=function(){function n(e,t,r,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=i}return n.prototype.handleCodeResponseFromHash=function(e,t,r,i){return T(this,void 0,void 0,function(){var o,s,a;return D(this,function(c){if(this.logger.verbose("InteractionHandler.handleCodeResponse called"),O.isEmpty(e))throw N.createEmptyHashError(e);if(o=this.browserStorage.generateStateKey(t),!(s=this.browserStorage.getTemporaryCache(o)))throw L.createStateNotFoundError("Cached State");try{a=this.authModule.handleFragmentResponse(e,s)}catch(l){throw l instanceof To&&l.subError===I_userCancelledError_code?N.createUserCancelledError():l}return[2,this.handleCodeResponseFromServer(a,t,r,i)]})})},n.prototype.handleCodeResponseFromServer=function(e,t,r,i,o){return void 0===o&&(o=!0),T(this,void 0,void 0,function(){var s,a,c,l,u,d;return D(this,function(h){switch(h.label){case 0:if(this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),s=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(s)))throw L.createStateNotFoundError("Cached State");return c=this.browserStorage.generateNonceKey(a),l=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,r,i)]:[3,2];case 1:h.sent(),h.label=2;case 2:return o&&(e.nonce=l||void 0),e.state=a,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(u=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=u),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return d=h.sent(),this.browserStorage.cleanRequestByState(t),[2,d]}})})},n.prototype.updateTokenEndpointAuthority=function(e,t,r){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,gd.createDiscoveredInstance("https://"+e+"/"+t.tenant+"/",r,this.browserStorage,t.options)];case 1:return o=s.sent(),this.authModule.updateAuthority(o),[2]}})})},n.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(we.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},n}(),Lj=function(n){function e(t,r,i,o,s,a,c,l,u,d){var h=n.call(this,t,r,i,o,s,a,c,u,d)||this;return h.unloadWindow=h.unloadWindow.bind(h),h.nativeStorage=l,h}return Lt(e,n),e.prototype.acquireToken=function(t){try{var r=this.generatePopupName(t.scopes||cc,t.authority||this.config.auth.authority),i=t.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,r,i);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var o=this.openSizedPopup("about:blank",r,i);return this.acquireTokenPopupAsync(t,r,i,o)}catch(s){return Promise.reject(s)}},e.prototype.logout=function(t){try{this.logger.verbose("logoutPopup called");var r=this.initializeLogoutRequest(t),i=this.generateLogoutPopupName(r),o=t&&t.authority,s=t&&t.mainWindowRedirectUri,a=t?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,i,a,o,void 0,s);this.logger.verbose("asyncPopup set to false, opening popup");var c=this.openSizedPopup("about:blank",i,a);return this.logoutPopupAsync(r,i,a,o,c,s)}catch(l){return Promise.reject(l)}},e.prototype.acquireTokenPopupAsync=function(t,r,i,o){return T(this,void 0,void 0,function(){var s,a,c,l,u,d,h,f,m,g,y,b,C,M,X,Ie=this;return D(this,function(Ee){switch(Ee.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),s=this.initializeServerTelemetryManager(He.acquireTokenPopup),[4,this.initializeAuthorizationRequest(t,x.Popup)];case 1:a=Ee.sent(),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||v.EMPTY_STRING,a.account||null),Ee.label=2;case 2:return Ee.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(a)];case 3:return c=Ee.sent(),[4,this.createAuthCodeClient(s,a.authority,a.azureCloudOptions)];case 4:return l=Ee.sent(),this.logger.verbose("Auth code client created"),u=Ao.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme),d=void 0,u&&(d=this.performanceClient.startMeasurement(gt.FetchAccountIdWithNativeBroker,t.correlationId)),[4,l.getAuthCodeUrl(j(j({},a),{nativeBroker:u}))];case 5:return h=Ee.sent(),f=new Og(l,this.browserStorage,c,this.logger),m=this.initiateAuthRequest(h,{popup:o,popupName:r,popupWindowAttributes:i}),this.eventHandler.emitEvent(V.POPUP_OPENED,x.Popup,{popupWindow:m},null),[4,this.monitorPopupForHash(m)];case 6:if(g=Ee.sent(),y=ye.getDeserializedHash(g),b=this.validateAndExtractStateFromHash(y,x.Popup,a.correlationId),dd.removeThrottle(this.browserStorage,this.config.auth.clientId,c),y.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),d&&d.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw N.createNativeConnectionNotEstablishedError();return C=new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,He.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,y.accountId,this.nativeStorage,a.correlationId),M=pi.parseRequestState(this.browserCrypto,b).userRequestState,[2,C.acquireToken(j(j({},a),{state:M,prompt:void 0})).finally(function(){Ie.browserStorage.cleanRequestByState(b)})]}return[4,f.handleCodeResponseFromHash(g,b,l.authority,this.networkClient)];case 7:return[2,Ee.sent()];case 8:throw X=Ee.sent(),o&&o.close(),X instanceof z&&X.setCorrelationId(this.correlationId),s.cacheFailedRequest(X),this.browserStorage.cleanRequestByState(a.state),X;case 9:return[2]}})})},e.prototype.logoutPopupAsync=function(t,r,i,o,s,a){return T(this,void 0,void 0,function(){var c,l,u,d,h,f,p;return D(this,function(m){switch(m.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(V.LOGOUT_START,x.Popup,t),c=this.initializeServerTelemetryManager(He.logoutPopup),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(t.account)];case 2:return m.sent(),[4,this.createAuthCodeClient(c,o)];case 3:return l=m.sent(),this.logger.verbose("Auth code client created"),u=l.getLogoutUri(t),this.eventHandler.emitEvent(V.LOGOUT_SUCCESS,x.Popup,t),d=this.openPopup(u,{popupName:r,popupWindowAttributes:i,popup:s}),this.eventHandler.emitEvent(V.POPUP_OPENED,x.Popup,{popupWindow:d},null),[4,this.waitForLogoutPopup(d)];case 4:return m.sent(),a?(h={apiId:He.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=ye.getAbsoluteUrl(a,Qe.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+f),this.navigationClient.navigateInternal(f,h)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw p=m.sent(),s&&s.close(),p instanceof z&&p.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(V.LOGOUT_FAILURE,x.Popup,null,p),this.eventHandler.emitEvent(V.LOGOUT_END,x.Popup),c.cacheFailedRequest(p),p;case 6:return this.eventHandler.emitEvent(V.LOGOUT_END,x.Popup),[2]}})})},e.prototype.initiateAuthRequest=function(t,r){if(O.isEmpty(t))throw this.logger.error("Navigate url is empty"),N.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+t),this.openPopup(t,r)},e.prototype.monitorPopupForHash=function(t){var r=this;return new Promise(function(i,o){var s=r.config.system.windowHashTimeout/r.config.system.pollIntervalMilliseconds,a=0;r.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var c=setInterval(function(){if(t.closed)return r.logger.error("PopupHandler.monitorPopupForHash - window closed"),r.cleanPopup(),clearInterval(c),void o(N.createUserCancelledError());var l=v.EMPTY_STRING,u=v.EMPTY_STRING;try{l=t.location.href,u=t.location.hash}catch{}O.isEmpty(l)||"about:blank"===l||(r.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),a++,u?(r.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(c),r.cleanPopup(t),ye.hashContainsKnownProperties(u)?(r.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),i(u)):(r.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),r.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+u),o(N.createHashDoesNotContainKnownPropertiesError()))):a>s&&(r.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(c),o(N.createMonitorPopupTimeoutError())))},r.config.system.pollIntervalMilliseconds)})},e.prototype.waitForLogoutPopup=function(t){var r=this;return new Promise(function(i){r.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var o=setInterval(function(){t.closed&&(r.logger.error("PopupHandler.waitForLogoutPopup - window closed"),r.cleanPopup(),clearInterval(o),i());var s=v.EMPTY_STRING;try{s=t.location.href}catch{}O.isEmpty(s)||"about:blank"===s||(r.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(o),r.cleanPopup(t),i())},r.config.system.pollIntervalMilliseconds)})},e.prototype.openPopup=function(t,r){try{var i=void 0;if(r.popup?(i=r.popup,this.logger.verbosePii("Navigating popup window to: "+t),i.location.assign(t)):typeof r.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+t),i=this.openSizedPopup(t,r.popupName,r.popupWindowAttributes)),!i)throw N.createEmptyWindowCreatedError();return i.focus&&i.focus(),this.currentWindow=i,window.addEventListener("beforeunload",this.unloadWindow),i}catch(o){throw this.logger.error("error opening popup "+o.message),this.browserStorage.setInteractionInProgress(!1),N.createPopupWindowError(o.toString())}},e.prototype.openSizedPopup=function(t,r,i){var o,s,a,c,l=window.screenLeft?window.screenLeft:window.screenX,u=window.screenTop?window.screenTop:window.screenY,d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f=null===(o=i.popupSize)||void 0===o?void 0:o.width,p=null===(s=i.popupSize)||void 0===s?void 0:s.height,m=null===(a=i.popupPosition)||void 0===a?void 0:a.top,g=null===(c=i.popupPosition)||void 0===c?void 0:c.left;return(!f||f<0||f>d)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),f=483),(!p||p<0||p>h)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=600),(!m||m<0||m>h)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),m=Math.max(0,h/2-300+u)),(!g||g<0||g>d)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,d/2-241.5+l)),window.open(t,r,"width="+f+", height="+p+", top="+m+", left="+g+", scrollbars=yes")},e.prototype.unloadWindow=function(t){this.browserStorage.cleanRequestByInteractionType(x.Popup),this.currentWindow&&this.currentWindow.close(),t.preventDefault()},e.prototype.cleanPopup=function(t){t&&t.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},e.prototype.generatePopupName=function(t,r){return"msal."+this.config.auth.clientId+"."+t.join("-")+"."+r+"."+this.correlationId},e.prototype.generateLogoutPopupName=function(t){return"msal."+this.config.auth.clientId+"."+(t.account&&t.account.homeAccountId)+"."+this.correlationId},e}(Fs),kI=function(n){function e(t,r,i,o,s){var a=n.call(this,t,r,i,o)||this;return a.browserCrypto=s,a}return Lt(e,n),e.prototype.initiateAuthRequest=function(t,r){return T(this,void 0,void 0,function(){var i;return D(this,function(s){switch(s.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),O.isEmpty(t)?[3,7]:(r.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(we.ORIGIN_URI,r.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(we.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+t),i={apiId:He.acquireTokenRedirect,timeout:r.redirectTimeout,noHistory:!1},"function"!=typeof r.onRedirectNavigate?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===r.onRedirectNavigate(t)?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,r.navigationClient.navigateExternal(t,i)])));case 1:case 5:return s.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,r.navigationClient.navigateExternal(t,i)];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),N.createEmptyNavigationUriError();case 8:return[2]}})})},e.prototype.handleCodeResponseFromHash=function(t,r,i,o){return T(this,void 0,void 0,function(){var s,a,c,l,u,d,h;return D(this,function(f){switch(f.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),O.isEmpty(t))throw N.createEmptyHashError(t);if(this.browserStorage.setInteractionInProgress(!1),s=this.browserStorage.generateStateKey(r),!(a=this.browserStorage.getTemporaryCache(s)))throw L.createStateNotFoundError("Cached State");try{c=this.authModule.handleFragmentResponse(t,a)}catch(p){throw p instanceof To&&p.subError===I_userCancelledError_code?N.createUserCancelledError():p}return l=this.browserStorage.generateNonceKey(a),u=this.browserStorage.getTemporaryCache(l),this.authCodeRequest.code=c.code,c.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(c.cloud_instance_host_name,i,o)]:[3,2];case 1:f.sent(),f.label=2;case 2:return c.nonce=u||void 0,c.state=a,c.client_info?this.authCodeRequest.clientInfo=c.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),[4,this.authModule.acquireToken(this.authCodeRequest,c)];case 3:return h=f.sent(),this.browserStorage.cleanRequestByState(r),[2,h]}})})},e}(Og),Uj=function(n){function e(t,r,i,o,s,a,c,l,u,d){var h=n.call(this,t,r,i,o,s,a,c,u,d)||this;return h.nativeStorage=l,h}return Lt(e,n),e.prototype.acquireToken=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a,c,l,u,d,h=this;return D(this,function(f){switch(f.label){case 0:return[4,this.initializeAuthorizationRequest(t,x.Redirect)];case 1:r=f.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||v.EMPTY_STRING,r.account||null),i=this.initializeServerTelemetryManager(He.acquireTokenRedirect),o=function(p){p.persisted&&(h.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),h.browserStorage.cleanRequestByState(r.state))},f.label=2;case 2:return f.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(r)];case 3:return s=f.sent(),[4,this.createAuthCodeClient(i,r.authority,r.azureCloudOptions)];case 4:return a=f.sent(),this.logger.verbose("Auth code client created"),c=new kI(a,this.browserStorage,s,this.logger,this.browserCrypto),[4,a.getAuthCodeUrl(j(j({},r),{nativeBroker:Ao.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}))];case 5:return l=f.sent(),u=this.getRedirectStartPage(t.redirectStartPage),this.logger.verbosePii("Redirect start page: "+u),window.addEventListener("pageshow",o),[4,c.initiateAuthRequest(l,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:u,onRedirectNavigate:t.onRedirectNavigate})];case 6:return[2,f.sent()];case 7:throw(d=f.sent())instanceof z&&d.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",o),i.cacheFailedRequest(d),this.browserStorage.cleanRequestByState(r.state),d;case 8:return[2]}})})},e.prototype.handleRedirectPromise=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a,c,l,u,d,h,f,p;return D(this,function(m){switch(m.label){case 0:r=this.initializeServerTelemetryManager(He.handleRedirectPromise),m.label=1;case 1:if(m.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(i=this.getRedirectResponseHash(t||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(x.Redirect),[2,null];o=void 0;try{s=ye.getDeserializedHash(i),o=this.validateAndExtractStateFromHash(s,x.Redirect),this.logger.verbose("State extracted from hash")}catch(g){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+g),this.browserStorage.cleanRequestByInteractionType(x.Redirect),[2,null]}return a=this.browserStorage.getTemporaryCache(we.ORIGIN_URI,!0)||v.EMPTY_STRING,c=ye.removeHashFromUrl(a),l=ye.removeHashFromUrl(window.location.href),c===l&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(i,o,r)]):[3,3];case 2:return u=m.sent(),a.indexOf("#")>-1&&Qe.replaceHash(a),[2,u];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(i,o,r)]);case 4:return!Qe.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(we.URL_HASH,i,!0),d={apiId:He.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},h=!0,a&&"null"!==a?[3,6]:(f=Qe.getHomepage(),this.browserStorage.setTemporaryCache(we.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(f,d)])):[3,9];case 5:return h=m.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+a),[4,this.navigationClient.navigateInternal(a,d)];case 7:h=m.sent(),m.label=8;case 8:if(!h)return[2,this.handleHash(i,o,r)];m.label=9;case 9:return[2,null];case 10:throw(p=m.sent())instanceof z&&p.setCorrelationId(this.correlationId),r.cacheFailedRequest(p),this.browserStorage.cleanRequestByInteractionType(x.Redirect),p;case 11:return[2]}})})},e.prototype.getRedirectResponseHash=function(t){if(this.logger.verbose("getRedirectResponseHash called"),ye.hashContainsKnownProperties(t))return Qe.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),t;var i=this.browserStorage.getTemporaryCache(we.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(we.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),i},e.prototype.handleHash=function(t,r,i){return T(this,void 0,void 0,function(){var o,s,a,c,l,u,h=this;return D(this,function(f){switch(f.label){case 0:if(o=this.browserStorage.getCachedRequest(r,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),(s=ye.getDeserializedHash(t)).accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw N.createNativeConnectionNotEstablishedError();return a=new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,He.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,s.accountId,this.browserStorage,o.correlationId),c=pi.parseRequestState(this.browserCrypto,r).userRequestState,[2,a.acquireToken(j(j({},o),{state:c,prompt:void 0})).finally(function(){h.browserStorage.cleanRequestByState(r)})]}if(!(l=this.browserStorage.getCachedAuthority(r)))throw N.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(i,l)];case 1:return u=f.sent(),this.logger.verbose("Auth code client created"),dd.removeThrottle(this.browserStorage,this.config.auth.clientId,o),[4,new kI(u,this.browserStorage,o,this.logger,this.browserCrypto).handleCodeResponseFromHash(t,r,u.authority,this.networkClient)];case 2:return[2,f.sent()]}})})},e.prototype.logout=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a,l;return D(this,function(u){switch(u.label){case 0:this.logger.verbose("logoutRedirect called"),r=this.initializeLogoutRequest(t),i=this.initializeServerTelemetryManager(He.logout),u.label=1;case 1:return u.trys.push([1,10,,11]),this.eventHandler.emitEvent(V.LOGOUT_START,x.Redirect,t),[4,this.clearCacheOnLogout(r.account)];case 2:return u.sent(),o={apiId:He.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(i,t&&t.authority)];case 3:return s=u.sent(),this.logger.verbose("Auth code client created"),a=s.getLogoutUri(r),this.eventHandler.emitEvent(V.LOGOUT_SUCCESS,x.Redirect,r),t&&"function"==typeof t.onRedirectNavigate?!1===t.onRedirectNavigate(a)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,o)]):[3,7];case 4:return u.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),u.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(a,o)];case 8:return u.sent(),[2];case 9:return[3,11];case 10:throw(l=u.sent())instanceof z&&l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l),this.eventHandler.emitEvent(V.LOGOUT_FAILURE,x.Redirect,null,l),this.eventHandler.emitEvent(V.LOGOUT_END,x.Redirect),l;case 11:return this.eventHandler.emitEvent(V.LOGOUT_END,x.Redirect),[2]}})})},e.prototype.getRedirectStartPage=function(t){var r=t||window.location.href;return ye.getAbsoluteUrl(r,Qe.getCurrentUri())},e}(Fs),NI=function(n){function e(t,r,i,o,s){var a=n.call(this,t,r,i,o)||this;return a.navigateFrameWait=s.navigateFrameWait,a.pollIntervalMilliseconds=s.pollIntervalMilliseconds,a}return Lt(e,n),e.prototype.initiateAuthRequest=function(t){return T(this,void 0,void 0,function(){var r;return D(this,function(i){switch(i.label){case 0:if(O.isEmpty(t))throw this.logger.info("Navigate url is empty"),N.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(t)]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=this.loadFrameSync(t),i.label=3;case 3:return[2,r]}})})},e.prototype.monitorIframeForHash=function(t,r){var i=this;return new Promise(function(o,s){r<6e3&&i.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+r+"ms) than the default (6000ms). This may result in timeouts.");var c=window.performance.now()+r,l=setInterval(function(){if(window.performance.now()>c)return i.removeHiddenIframe(t),clearInterval(l),void s(N.createMonitorIframeTimeoutError());var u=v.EMPTY_STRING,d=t.contentWindow;try{u=d?d.location.href:v.EMPTY_STRING}catch{}if(!O.isEmpty(u)){var h=d?d.location.hash:v.EMPTY_STRING;if(ye.hashContainsKnownProperties(h))return i.removeHiddenIframe(t),clearInterval(l),void o(h)}},i.pollIntervalMilliseconds)})},e.prototype.loadFrame=function(t){var r=this;return new Promise(function(i,o){var s=r.createHiddenIframe();setTimeout(function(){s?(s.src=t,i(s)):o("Unable to load iframe")},r.navigateFrameWait)})},e.prototype.loadFrameSync=function(t){var r=this.createHiddenIframe();return r.src=t,r},e.prototype.createHiddenIframe=function(){var t=document.createElement("iframe");return t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(t),t},e.prototype.removeHiddenIframe=function(t){document.body===t.parentNode&&document.body.removeChild(t)},e}(Og),Vj=function(n){function e(t,r,i,o,s,a,c,l,u,d,h){var f=n.call(this,t,r,i,o,s,a,l,d,h)||this;return f.apiId=c,f.nativeStorage=u,f}return Lt(e,n),e.prototype.acquireToken=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a;return D(this,function(c){switch(c.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),r=this.performanceClient.startMeasurement(gt.SilentIframeClientAcquireToken,t.correlationId),O.isEmpty(t.loginHint)&&O.isEmpty(t.sid)&&(!t.account||O.isEmpty(t.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),t.prompt&&t.prompt!==Ut.NONE&&t.prompt!==Ut.NO_SESSION)throw r.endMeasurement({success:!1}),N.createSilentPromptValueError(t.prompt);return[4,this.initializeAuthorizationRequest(j(j({},t),{prompt:t.prompt||Ut.NONE}),x.Silent)];case 1:i=c.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||v.EMPTY_STRING,i.account||null),o=this.initializeServerTelemetryManager(this.apiId),c.label=2;case 2:return c.trys.push([2,5,,6]),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 3:return s=c.sent(),this.logger.verbose("Auth code client created"),[4,this.silentTokenHelper(s,i).then(function(l){return r.endMeasurement({success:!0,fromCache:!1,requestId:l.requestId}),l})];case 4:return[2,c.sent()];case 5:throw(a=c.sent())instanceof z&&a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a),this.browserStorage.cleanRequestByState(i.state),r.endMeasurement({errorCode:a instanceof z&&a.errorCode||void 0,subErrorCode:a instanceof z&&a.subError||void 0,success:!1}),a;case 6:return[2]}})})},e.prototype.logout=function(){return Promise.reject(N.createSilentLogoutUnsupportedError())},e.prototype.silentTokenHelper=function(t,r){return T(this,void 0,void 0,function(){var i,o,s,a,c,l,u,d,h,f=this;return D(this,function(p){switch(p.label){case 0:return[4,this.initializeAuthorizationCodeRequest(r)];case 1:return i=p.sent(),[4,t.getAuthCodeUrl(j(j({},r),{nativeBroker:Ao.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme)}))];case 2:return o=p.sent(),[4,(s=new NI(t,this.browserStorage,i,this.logger,this.config.system)).initiateAuthRequest(o)];case 3:return a=p.sent(),[4,s.monitorIframeForHash(a,this.config.system.iframeHashTimeout)];case 4:if(c=p.sent(),l=ye.getDeserializedHash(c),u=this.validateAndExtractStateFromHash(l,x.Silent,i.correlationId),l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw N.createNativeConnectionNotEstablishedError();return d=new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,this.correlationId),h=pi.parseRequestState(this.browserCrypto,u).userRequestState,[2,d.acquireToken(j(j({},r),{state:h,prompt:r.prompt||Ut.NONE})).finally(function(){f.browserStorage.cleanRequestByState(u)})]}return[2,s.handleCodeResponseFromHash(c,u,t.authority,this.networkClient)]}})})},e}(Fs),Hj=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Lt(e,n),e.prototype.acquireToken=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a,c=this;return D(this,function(l){switch(l.label){case 0:return i=[j({},t)],[4,this.initializeBaseRequest(t)];case 1:return r=j.apply(void 0,i.concat([l.sent()])),o=this.performanceClient.startMeasurement(gt.SilentRefreshClientAcquireToken,r.correlationId),s=this.initializeServerTelemetryManager(He.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(s,r.authority,r.azureCloudOptions)];case 2:return a=l.sent(),this.logger.verbose("Refresh token client created"),[2,a.acquireTokenByRefreshToken(r).then(function(u){return o.endMeasurement({success:!0,fromCache:u.fromCache,requestId:u.requestId}),u}).catch(function(u){throw u instanceof z&&u.setCorrelationId(c.correlationId),s.cacheFailedRequest(u),o.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),u})]}})})},e.prototype.logout=function(){return Promise.reject(N.createSilentLogoutUnsupportedError())},e.prototype.createRefreshTokenClient=function(t,r,i){return T(this,void 0,void 0,function(){var o;return D(this,function(s){switch(s.label){case 0:return[4,this.getClientConfiguration(t,r,i)];case 1:return o=s.sent(),[2,new MI(o,this.performanceClient)]}})})},e}(Fs),Bj=function(){function n(e,t,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=i}return n.prototype.loadExternalTokens=function(e,t,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw N.createUnableToLoadTokenError("Please ensure server response includes id token.");var o,s,i=new Ur(t.id_token,this.cryptoObj);if(e.account){var a=this.loadAccount(i,e.account.environment,void 0,void 0,e.account.homeAccountId);o=new hd(a,this.loadIdToken(i,a.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,a.homeAccountId,e.account.environment,e.account.tenantId,r),this.loadRefreshToken(e,t,a.homeAccountId,e.account.environment))}else{if(!e.authority)throw N.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var c=md.generateAuthority(e.authority,e.azureCloudOptions);if(s=new md(c,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache}),r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),a=this.loadAccount(i,s.hostnameAndPort,r.clientInfo,s.authorityType),o=new hd(a,this.loadIdToken(i,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(e,t,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(e,t,a.homeAccountId,s.hostnameAndPort));else{if(!t.client_info)throw N.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),a=this.loadAccount(i,s.hostnameAndPort,t.client_info,s.authorityType),o=new hd(a,this.loadIdToken(i,a.homeAccountId,s.hostnameAndPort,s.tenant),this.loadAccessToken(e,t,a.homeAccountId,s.hostnameAndPort,s.tenant,r),this.loadRefreshToken(e,t,a.homeAccountId,s.hostnameAndPort))}}return this.generateAuthenticationResult(e,i,o,s)},n.prototype.loadAccount=function(e,t,r,i,o){var s;if(o?s=o:void 0!==i&&r&&(s=Ht.generateHomeAccountId(r,i,this.logger,this.cryptoObj,e)),!s)throw N.createUnableToLoadTokenError("Unexpected missing homeAccountId");var a=r?Ht.createAccount(r,s,e,void 0,void 0,void 0,t):Ht.createGenericAccount(s,e,void 0,void 0,void 0,t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(a),a;throw N.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadIdToken=function(e,t,r,i){var o=Cc.createIdTokenEntity(t,r,e.rawToken,this.config.auth.clientId,i);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(o),o;throw N.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadAccessToken=function(e,t,r,i,o,s){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in)throw N.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!s.extendedExpiresOn)throw N.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new dn(e.scopes).printScopes(),c=s.expiresOn||t.expires_in+(new Date).getTime()/1e3,u=bc.createAccessTokenEntity(r,i,t.access_token,this.config.auth.clientId,o,a,c,s.extendedExpiresOn,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u),u;throw N.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.loadRefreshToken=function(e,t,r,i){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var o=ld.createRefreshTokenEntity(r,i,t.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(o),o;throw N.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},n.prototype.generateAuthenticationResult=function(e,t,r,i){var o,s,a,d,c=v.EMPTY_STRING,l=[],u=null;return r?.accessToken&&(c=r.accessToken.secret,l=dn.fromString(r.accessToken.target).asArray(),u=new Date(1e3*Number(r.accessToken.expiresOn)),d=new Date(1e3*Number(r.accessToken.extendedExpiresOn))),{authority:i?i.canonicalAuthority:v.EMPTY_STRING,uniqueId:t?.claims.oid||t?.claims.sub||v.EMPTY_STRING,tenantId:t?.claims.tid||v.EMPTY_STRING,scopes:l,account:r?.account?r.account.getAccountInfo():null,idToken:t?t.rawToken:v.EMPTY_STRING,idTokenClaims:t?t.claims:{},accessToken:c,fromCache:!0,expiresOn:u,correlationId:e.correlationId||v.EMPTY_STRING,requestId:v.EMPTY_STRING,extExpiresOn:d,familyId:v.EMPTY_STRING,tokenType:(null===(o=r?.accessToken)||void 0===o?void 0:o.tokenType)||v.EMPTY_STRING,state:v.EMPTY_STRING,cloudGraphHostName:(null===(s=r?.account)||void 0===s?void 0:s.cloudGraphHostName)||v.EMPTY_STRING,msGraphHost:(null===(a=r?.account)||void 0===a?void 0:a.msGraphHost)||v.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},n}(),jj=function(n){function e(t){var r=n.call(this,t)||this;return r.includeRedirectUri=!1,r}return Lt(e,n),e}(SI),zj=function(n){function e(t,r,i,o,s,a,c,l,u,d){var h=n.call(this,t,r,i,o,s,a,l,u,d)||this;return h.apiId=c,h}return Lt(e,n),e.prototype.acquireToken=function(t){return T(this,void 0,void 0,function(){var r,i,o,s,a,l;return D(this,function(u){switch(u.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!t.code)throw N.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(t,x.Silent)];case 1:r=u.sent(),this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||v.EMPTY_STRING,r.account||null),i=this.initializeServerTelemetryManager(this.apiId),u.label=2;case 2:return u.trys.push([2,4,,5]),o=j(j({},r),{code:t.code}),[4,this.getClientConfiguration(i,r.authority)];case 3:return s=u.sent(),a=new jj(s),this.logger.verbose("Auth code client created"),[2,new NI(a,this.browserStorage,o,this.logger,this.config.system).handleCodeResponseFromServer({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},r.state,a.authority,this.networkClient,!1)];case 4:throw(l=u.sent())instanceof z&&l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l),this.browserStorage.cleanRequestByState(r.state),l;case 5:return[2]}})})},e.prototype.logout=function(){return Promise.reject(N.createSilentLogoutUnsupportedError())},e}(Fs),$j=function(){function n(e,t){this.correlationId=t,this.measureName="msal.measure."+e+"."+this.correlationId,this.startMark="msal.start."+e+"."+this.correlationId,this.endMark="msal.end."+e+"."+this.correlationId}return n.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&"function"==typeof window.performance.mark&&"function"==typeof window.performance.measure&&"function"==typeof window.performance.clearMarks&&"function"==typeof window.performance.clearMeasures&&"function"==typeof window.performance.getEntriesByName},n.prototype.startMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},n.prototype.endMeasurement=function(){if(n.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},n.prototype.flushMeasurement=function(){if(n.supportsBrowserPerformance())try{var e=window.performance.getEntriesByName(this.measureName,"measure");if(e.length>0){var t=e[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),t}}catch{}return null},n}(),Gj=function(n){function e(t,r,i,o,s,a,c){var l=n.call(this,t,r,i,o,s,a)||this;return l.browserCrypto=new mI(l.logger,c),l.guidGenerator=new hI(l.browserCrypto),l}return Lt(e,n),e.prototype.startPerformanceMeasuremeant=function(t,r){return new $j(t,r)},e.prototype.generateId=function(){return this.guidGenerator.generateGuid()},e.prototype.getPageVisibility=function(){var t;return(null===(t=document.visibilityState)||void 0===t?void 0:t.toString())||null},e.prototype.startMeasurement=function(t,r){var i=this,o=this.getPageVisibility(),s=n.prototype.startMeasurement.call(this,t,r);return j(j({},s),{endMeasurement:function(a){return s.endMeasurement(j({startPageVisibility:o,endPageVisibility:i.getPageVisibility()},a))}})},e}(yI),Kj=function(n){function e(t){var r=n.call(this,t)||this;return r.activeSilentTokenRequests=new Map,r}return Lt(e,n),e.prototype.loginRedirect=function(t){return T(this,void 0,void 0,function(){var r;return D(this,function(i){return r=this.getRequestCorrelationId(t),this.logger.verbose("loginRedirect called",r),[2,this.acquireTokenRedirect(j({correlationId:r},t||uI))]})})},e.prototype.loginPopup=function(t){var r=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",r),this.acquireTokenPopup(j({correlationId:r},t||uI))},e.prototype.acquireTokenSilent=function(t){return T(this,void 0,void 0,function(){var r,i,o,a,c,l,u=this;return D(this,function(d){if(r=this.getRequestCorrelationId(t),i=this.performanceClient.startMeasurement(gt.AcquireTokenSilent,r),this.preflightBrowserEnvironmentCheck(x.Silent),this.logger.verbose("acquireTokenSilent called",r),!(o=t.account||this.getActiveAccount()))throw N.createNoAccountError();return a=JSON.stringify({clientId:this.config.auth.clientId,authority:t.authority||v.EMPTY_STRING,scopes:t.scopes,homeAccountIdentifier:o.homeAccountId,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid}),typeof(c=this.activeSilentTokenRequests.get(a))>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),l=this.acquireTokenSilentAsync(j(j({},t),{correlationId:r}),o).then(function(h){return u.activeSilentTokenRequests.delete(a),i.endMeasurement({success:!0,fromCache:h.fromCache,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length,isNativeBroker:h.fromNativeBroker,cacheLookupPolicy:t.cacheLookupPolicy,requestId:h.requestId}),i.flushMeasurement(),h}).catch(function(h){throw u.activeSilentTokenRequests.delete(a),i.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),i.flushMeasurement(),h}),this.activeSilentTokenRequests.set(a,l),[2,l]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),i.endMeasurement({success:!0}),i.discardMeasurement(),[2,c])})})},e.prototype.acquireTokenSilentAsync=function(t,r){return T(this,void 0,void 0,function(){var i,o,s,a,c,l,u=this;return D(this,function(d){switch(d.label){case 0:return this.eventHandler.emitEvent(V.ACQUIRE_TOKEN_START,x.Silent,t),i=this.performanceClient.startMeasurement(gt.AcquireTokenSilentAsync,t.correlationId),Ao.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme)&&r.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),s=j(j({},t),{account:r}),o=this.acquireTokenNative(s,He.acquireTokenSilent_silentFlow).catch(function(h){return T(u,void 0,void 0,function(){return D(this,function(p){if(h instanceof Vr&&h.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,[2,this.createSilentIframeClient(t.correlationId).acquireToken(t)];throw h})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),[4,(a=this.createSilentCacheClient(t.correlationId)).initializeSilentRequest(t,r)];case 2:c=d.sent(),l=j(j({},t),{cacheLookupPolicy:t.cacheLookupPolicy||un.Default}),o=this.acquireTokenFromCache(a,c,l).catch(function(h){if(l.cacheLookupPolicy===un.AccessToken)throw h;return Qe.blockReloadInHiddenIframes(),u.eventHandler.emitEvent(V.ACQUIRE_TOKEN_NETWORK_START,x.Silent,c),u.acquireTokenByRefreshToken(c,l).catch(function(f){if((!(f instanceof To)||"invalid_grant"!==f.errorCode||f instanceof mr||l.cacheLookupPolicy===un.AccessTokenAndRefreshToken||l.cacheLookupPolicy===un.RefreshToken)&&l.cacheLookupPolicy!==un.Skip)throw f;return u.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",t.correlationId),u.acquireTokenBySilentIframe(c)})}),d.label=3;case 3:return[2,o.then(function(h){return u.eventHandler.emitEvent(V.ACQUIRE_TOKEN_SUCCESS,x.Silent,h),i.endMeasurement({success:!0,fromCache:h.fromCache,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length,isNativeBroker:h.fromNativeBroker,requestId:h.requestId}),h}).catch(function(h){throw u.eventHandler.emitEvent(V.ACQUIRE_TOKEN_FAILURE,x.Silent,null,h),i.endMeasurement({errorCode:h.errorCode,subErrorCode:h.subError,success:!1}),h})]}})})},e}(function(){function n(e){this.isBrowserEnvironment=typeof window<"u",this.config=function Aj(n,e){var t=n.auth,r=n.cache,i=n.system,o=n.telemetry,s={clientId:v.EMPTY_STRING,authority:""+v.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:v.EMPTY_STRING,authorityMetadata:v.EMPTY_STRING,redirectUri:v.EMPTY_STRING,postLogoutRedirectUri:v.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:wc.AAD,azureCloudOptions:{azureCloudInstance:Os.None,tenant:v.EMPTY_STRING},skipAuthorityMetadataCache:!1},a={cacheLocation:Rt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},c={loggerCallback:function(){},logLevel:Tt.Info,piiLoggingEnabled:!1},l=j(j({},EI),{loggerOptions:c,networkClient:e?Qe.getBrowserNetworkClient():bj,navigationClient:new Sj,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||6e3,navigateFrameWait:e&&Qe.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:30,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),u={application:{appName:v.EMPTY_STRING,appVersion:v.EMPTY_STRING}};return{auth:j(j({},s),t),cache:j(j({},a),r),system:j(j({},l),i),telemetry:j(j({},u),o)}}(e,this.isBrowserEnvironment),this.initialized=!1,this.logger=new vI(this.config.system.loggerOptions,kg,Ec),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new Gj(this.config.auth.clientId,this.config.auth.authority,this.logger,kg,Ec,this.config.telemetry.application,this.config.system.cryptoOptions):new cj(this.config.auth.clientId,this.config.auth.authority,this.logger,kg,Ec,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new sj(this.logger,this.performanceClient,this.config.system.cryptoOptions):ad,this.eventHandler=new Mj(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new Mg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(n,e){return new Mg(n,{cacheLocation:Rt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},ad,e)}(this.config.auth.clientId,this.logger),this.nativeInternalStorage=new Mg(this.config.auth.clientId,{cacheLocation:Rt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},this.browserCrypto,this.logger),this.tokenCache=new Bj(this.config,this.browserStorage,this.logger,this.browserCrypto)}return n.prototype.initialize=function(){return T(this,void 0,void 0,function(){var e,t;return D(this,function(r){switch(r.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(this.eventHandler.emitEvent(V.INITIALIZE_START),!this.config.system.allowNativeBroker)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this,[4,Ao.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout)];case 2:return e.nativeExtensionProvider=r.sent(),[3,4];case 3:return t=r.sent(),this.logger.verbose(t),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(V.INITIALIZE_END),[2]}})})},n.prototype.handleRedirectPromise=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,s,a,c,l,u=this;return D(this,function(d){return this.logger.verbose("handleRedirectPromise called"),Qe.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t=this.getAllAccounts(),this.isBrowserEnvironment?(typeof(i=this.redirectResponse.get(r=e||v.EMPTY_STRING))>"u"?(this.eventHandler.emitEvent(V.HANDLE_REDIRECT_START,x.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getCachedNativeRequest(),s=void 0,o&&Ao.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a=new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,He.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId),s=a.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),c=this.browserStorage.getTemporaryCache(we.CORRELATION_ID,!0)||v.EMPTY_STRING,l=this.createRedirectClient(c),s=l.handleRedirectPromise(e)),i=s.then(function(h){return h&&(t.length<u.getAllAccounts().length?(u.eventHandler.emitEvent(V.LOGIN_SUCCESS,x.Redirect,h),u.logger.verbose("handleRedirectResponse returned result, login success")):(u.eventHandler.emitEvent(V.ACQUIRE_TOKEN_SUCCESS,x.Redirect,h),u.logger.verbose("handleRedirectResponse returned result, acquire token success"))),u.eventHandler.emitEvent(V.HANDLE_REDIRECT_END,x.Redirect),h}).catch(function(h){throw u.eventHandler.emitEvent(t.length>0?V.ACQUIRE_TOKEN_FAILURE:V.LOGIN_FAILURE,x.Redirect,null,h),u.eventHandler.emitEvent(V.HANDLE_REDIRECT_END,x.Redirect),h}),this.redirectResponse.set(r,i)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,i]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},n.prototype.acquireTokenRedirect=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,s,a=this;return D(this,function(c){return t=this.getRequestCorrelationId(e),this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(x.Redirect),r=this.getAllAccounts().length>0,this.eventHandler.emitEvent(r?V.ACQUIRE_TOKEN_START:V.LOGIN_START,x.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)?(o=new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,He.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId),i=o.acquireTokenRedirect(e).catch(function(l){if(l instanceof Vr&&l.isFatal())return a.nativeExtensionProvider=void 0,a.createRedirectClient(e.correlationId).acquireToken(e);if(l instanceof mr)return a.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),a.createRedirectClient(e.correlationId).acquireToken(e);throw a.browserStorage.setInteractionInProgress(!1),l})):(s=this.createRedirectClient(e.correlationId),i=s.acquireToken(e)),[2,i.catch(function(l){throw a.eventHandler.emitEvent(r?V.ACQUIRE_TOKEN_FAILURE:V.LOGIN_FAILURE,x.Redirect,null,l),l})]})})},n.prototype.acquireTokenPopup=function(e){var t=this,r=this.getRequestCorrelationId(e),i=this.performanceClient.startMeasurement(gt.AcquireTokenPopup,r);try{this.logger.verbose("acquireTokenPopup called",r),this.preflightBrowserEnvironmentCheck(x.Popup)}catch(c){return Promise.reject(c)}var o=this.getAllAccounts();return this.eventHandler.emitEvent(o.length>0?V.ACQUIRE_TOKEN_START:V.LOGIN_START,x.Popup,e),(this.canUseNative(e)?this.acquireTokenNative(e,He.acquireTokenPopup).then(function(c){return t.browserStorage.setInteractionInProgress(!1),i.endMeasurement({success:!0,isNativeBroker:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,requestId:c.requestId}),i.flushMeasurement(),c}).catch(function(c){if(c instanceof Vr&&c.isFatal())return t.nativeExtensionProvider=void 0,t.createPopupClient(e.correlationId).acquireToken(e);if(c instanceof mr)return t.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),t.createPopupClient(e.correlationId).acquireToken(e);throw t.browserStorage.setInteractionInProgress(!1),c}):this.createPopupClient(e.correlationId).acquireToken(e)).then(function(c){var l=o.length<t.getAllAccounts().length;return t.eventHandler.emitEvent(l?V.LOGIN_SUCCESS:V.ACQUIRE_TOKEN_SUCCESS,x.Popup,c),i.endMeasurement({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,requestId:c.requestId}),i.flushMeasurement(),c}).catch(function(c){return t.eventHandler.emitEvent(o.length>0?V.ACQUIRE_TOKEN_FAILURE:V.LOGIN_FAILURE,x.Popup,null,c),i.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),i.flushMeasurement(),Promise.reject(c)})},n.prototype.ssoSilent=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,s,a=this;return D(this,function(c){return t=this.getRequestCorrelationId(e),r=j(j({},e),{prompt:e.prompt,correlationId:t}),this.preflightBrowserEnvironmentCheck(x.Silent),i=this.performanceClient.startMeasurement(gt.SsoSilent,t),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(V.SSO_SILENT_START,x.Silent,r),this.canUseNative(r)?o=this.acquireTokenNative(r,He.ssoSilent).catch(function(l){if(l instanceof Vr&&l.isFatal())return a.nativeExtensionProvider=void 0,a.createSilentIframeClient(r.correlationId).acquireToken(r);throw l}):(s=this.createSilentIframeClient(r.correlationId),o=s.acquireToken(r)),[2,o.then(function(l){return a.eventHandler.emitEvent(V.SSO_SILENT_SUCCESS,x.Silent,l),i.endMeasurement({success:!0,isNativeBroker:l.fromNativeBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,requestId:l.requestId}),i.flushMeasurement(),l}).catch(function(l){throw a.eventHandler.emitEvent(V.SSO_SILENT_FAILURE,x.Silent,null,l),i.endMeasurement({errorCode:l.errorCode,subErrorCode:l.subError,success:!1}),i.flushMeasurement(),l})]})})},n.prototype.acquireTokenByCode=function(e){return T(this,void 0,void 0,function(){var t,r,i,o,s=this;return D(this,function(a){t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(x.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(V.ACQUIRE_TOKEN_BY_CODE_START,x.Silent,e),r=this.performanceClient.startMeasurement(gt.AcquireTokenByCode,e.correlationId);try{if(e.code)return(o=this.hybridAuthCodeResponses.get(i=e.code))?(this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId),r.endMeasurement({success:!0}),r.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync(j(j({},e),{correlationId:t})).then(function(c){return s.eventHandler.emitEvent(V.ACQUIRE_TOKEN_BY_CODE_SUCCESS,x.Silent,c),s.hybridAuthCodeResponses.delete(i),r.endMeasurement({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,isNativeBroker:c.fromNativeBroker,requestId:c.requestId}),r.flushMeasurement(),c}).catch(function(c){throw s.hybridAuthCodeResponses.delete(i),s.eventHandler.emitEvent(V.ACQUIRE_TOKEN_BY_CODE_FAILURE,x.Silent,null,c),r.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),r.flushMeasurement(),c}),this.hybridAuthCodeResponses.set(i,o)),[2,o];if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return[2,this.acquireTokenNative(e,He.acquireTokenByCode,e.nativeAccountId).catch(function(c){throw c instanceof Vr&&c.isFatal()&&(s.nativeExtensionProvider=void 0),c})];throw N.createUnableToAcquireTokenFromNativePlatformError()}throw N.createAuthCodeOrNativeAccountIdRequiredError()}catch(c){throw this.eventHandler.emitEvent(V.ACQUIRE_TOKEN_BY_CODE_FAILURE,x.Silent,null,c),r.endMeasurement({errorCode:c instanceof z&&c.errorCode||void 0,subErrorCode:c instanceof z&&c.subError||void 0,success:!1}),c}return[2]})})},n.prototype.acquireTokenByCodeAsync=function(e){return T(this,void 0,void 0,function(){return D(this,function(i){switch(i.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),[4,this.createSilentAuthCodeClient(e.correlationId).acquireToken(e)];case 1:return[2,i.sent()]}})})},n.prototype.acquireTokenFromCache=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(i){switch(r.cacheLookupPolicy){case un.Default:case un.AccessToken:case un.AccessTokenAndRefreshToken:return[2,e.acquireToken(t)];default:throw L.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenByRefreshToken=function(e,t){return T(this,void 0,void 0,function(){return D(this,function(i){switch(t.cacheLookupPolicy){case un.Default:case un.AccessTokenAndRefreshToken:case un.RefreshToken:case un.RefreshTokenAndNetwork:return[2,this.createSilentRefreshClient(e.correlationId).acquireToken(e)];default:throw L.createRefreshRequiredError()}return[2]})})},n.prototype.acquireTokenBySilentIframe=function(e){return T(this,void 0,void 0,function(){return D(this,function(r){return[2,this.createSilentIframeClient(e.correlationId).acquireToken(e)]})})},n.prototype.logout=function(e){return T(this,void 0,void 0,function(){var t;return D(this,function(r){return t=this.getRequestCorrelationId(e),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),[2,this.logoutRedirect(j({correlationId:t},e))]})})},n.prototype.logoutRedirect=function(e){return T(this,void 0,void 0,function(){var t;return D(this,function(i){return t=this.getRequestCorrelationId(e),this.preflightBrowserEnvironmentCheck(x.Redirect),[2,this.createRedirectClient(t).logout(e)]})})},n.prototype.logoutPopup=function(e){try{var t=this.getRequestCorrelationId(e);return this.preflightBrowserEnvironmentCheck(x.Popup),this.createPopupClient(t).logout(e)}catch(i){return Promise.reject(i)}},n.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},n.prototype.getAccountByUsername=function(e){var t=this.getAllAccounts();return!O.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),t.filter(function(r){return r.username.toLowerCase()===e.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},n.prototype.getAccountByHomeId=function(e){var t=this.getAllAccounts();return!O.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),t.filter(function(r){return r.homeAccountId===e})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},n.prototype.getAccountByLocalId=function(e){var t=this.getAllAccounts();return!O.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),t.filter(function(r){return r.localAccountId===e})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},n.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},n.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},n.prototype.preflightBrowserEnvironmentCheck=function(e,t){if(void 0===t&&(t=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),Qe.blockNonBrowserEnvironment(this.isBrowserEnvironment),Qe.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),Qe.blockReloadInHiddenIframes(),Qe.blockAcquireTokenInPopups(),Qe.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),e===x.Redirect&&this.config.cache.cacheLocation===Rt.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw vc.createInMemoryRedirectUnavailableError();(e===x.Redirect||e===x.Popup)&&this.preflightInteractiveRequest(t)},n.prototype.preflightInteractiveRequest=function(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Qe.blockReloadInHiddenIframes(),e&&this.browserStorage.setInteractionInProgress(!0)},n.prototype.acquireTokenNative=function(e,t,r){return T(this,void 0,void 0,function(){return D(this,function(o){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw N.createNativeConnectionNotEstablishedError();return[2,new Ls(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)]})})},n.prototype.canUseNative=function(e,t){if(this.logger.trace("canUseNative called"),!Ao.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Ut.NONE:case Ut.CONSENT:case Ut.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+e.prompt+" is not compatible with native flow, returning false"),!1}return!(!t&&!this.getNativeAccountId(e)&&(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),1))},n.prototype.getNativeAccountId=function(e){var t=e.account||this.browserStorage.getAccountInfoByHints(e.loginHint,e.sid)||this.getActiveAccount();return t&&t.nativeAccountId||""},n.prototype.createPopupClient=function(e){return new Lj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},n.prototype.createRedirectClient=function(e){return new Uj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},n.prototype.createSilentIframeClient=function(e){return new Vj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,He.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)},n.prototype.createSilentCacheClient=function(e){return new RI(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},n.prototype.createSilentRefreshClient=function(e){return new Hj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)},n.prototype.createSilentAuthCodeClient=function(e){return new zj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,He.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)},n.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},n.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},n.prototype.addPerformanceCallback=function(e){return this.performanceClient.addPerformanceCallback(e)},n.prototype.removePerformanceCallback=function(e){return this.performanceClient.removePerformanceCallback(e)},n.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},n.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},n.prototype.getTokenCache=function(){return this.tokenCache},n.prototype.getLogger=function(){return this.logger},n.prototype.setLogger=function(e){this.logger=e},n.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},n.prototype.setNavigationClient=function(e){this.navigationClient=e},n.prototype.getConfiguration=function(){return this.config},n.prototype.getRequestCorrelationId=function(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():v.EMPTY_STRING},n}()),Wj=function(){function n(){}return n.getInteractionStatusFromEvent=function(e,t){switch(e.eventType){case V.LOGIN_START:return yt.Login;case V.SSO_SILENT_START:return yt.SsoSilent;case V.ACQUIRE_TOKEN_START:if(e.interactionType===x.Redirect||e.interactionType===x.Popup)return yt.AcquireToken;break;case V.HANDLE_REDIRECT_START:return yt.HandleRedirect;case V.LOGOUT_START:return yt.Logout;case V.SSO_SILENT_SUCCESS:case V.SSO_SILENT_FAILURE:if(t&&t!==yt.SsoSilent)break;return yt.None;case V.LOGOUT_END:if(t&&t!==yt.Logout)break;return yt.None;case V.HANDLE_REDIRECT_END:if(t&&t!==yt.HandleRedirect)break;return yt.None;case V.LOGIN_SUCCESS:case V.LOGIN_FAILURE:case V.ACQUIRE_TOKEN_SUCCESS:case V.ACQUIRE_TOKEN_FAILURE:if(e.interactionType===x.Redirect||e.interactionType===x.Popup){if(t&&t!==yt.Login&&t!==yt.AcquireToken)break;return yt.None}}return null},n}();const xg={now:()=>(xg.delegate||Date).now(),delegate:void 0};class Yj extends Je{constructor(e=1/0,t=1/0,r=xg){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}class Sn extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Hr(n){return ot((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Xe(t,void 0,void 0,s=>{o=In(n(s,Hr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}const vd=ea(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pg(...n){const e=na(n),t=function py(n){return Pe(vh(n))?n.pop():void 0}(n),{args:r,keys:i}=function UT(n){if(1===n.length){const e=n[0];if(C2(e))return{args:e,keys:null};if(function S2(n){return n&&"object"==typeof n&&b2(n)===w2}(e)){const t=E2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Ce([],e);const o=new Ze(function Qj(n,e,t=bi){return r=>{OI(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)OI(e,()=>{const l=Ce(n[c],e);let u=!1;l.subscribe(Xe(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function HT(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,s):bi));return t?o.pipe(function VT(n){return Z(e=>function D2(n,e){return T2(e)?n(...e):n(e)}(n,e))}(t)):o}function OI(n,e,t){n?Gr(t,n,e):e()}function yd(...n){return function Zj(){return Vo(1)}()(Ce(n,na(n)))}function xI(n){return new Ze(e=>{In(n()).subscribe(e)})}function Us(n,e){const t=Pe(n)?n:()=>n,r=i=>i.error(t());return new Ze(e?i=>e.schedule(r,0,i):r)}function Fg(){return ot((n,e)=>{let t=null;n._refCount++;const r=Xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Lg extends Ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Xv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new en;const t=this.getSubject();e.add(this.source.subscribe(Xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=en.EMPTY)}return e}refCount(){return Fg()(this)}}function Br(n,e){return ot((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Xe(r,c=>{i?.unsubscribe();let l=0;const u=o++;In(n(c,u)).subscribe(i=Xe(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $i(n){return n<=0?()=>qr:ot((e,t)=>{let r=0;e.subscribe(Xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _d(...n){const e=na(n);return ot((t,r)=>{(e?yd(n,t,e):yd(n,t)).subscribe(r)})}function Cd(n){return ot((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function PI(n=Jj){return ot((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Jj(){return new vd}function Gi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ft((i,o)=>n(i,o,r)):bi,$i(1),t?Cd(e):PI(()=>new vd))}function _t(n,e,t){const r=Pe(n)||e||t?{next:n,error:e,complete:t}:n;return r?ot((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Xe(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):bi}function Xj(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Xe(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function FI(n,e){return ot(Xj(n,e,arguments.length>=2,!0))}function Ug(n){return n<=0?()=>qr:ot((e,t)=>{let r=[];e.subscribe(Xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function LI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ft((i,o)=>n(i,o,r)):bi,Ug(1),t?Cd(e):PI(()=>new vd))}function bd(n){return ot((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const he="primary",Tc=Symbol("RouteTitle");class nz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vs(n){return new nz(n)}function rz(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!UI(n[i],e[i]))return!1;return!0}function UI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function VI(n){return Array.prototype.concat.apply([],n)}function HI(n){return n.length>0?n[n.length-1]:null}function Bt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function qi(n){return pp(n)?n:Na(n)?Ce(Promise.resolve(n)):U(n)}const sz={exact:function zI(n,e,t){if(!Ro(n.segments,e.segments)||!wd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!zI(n.children[r],e.children[r],t))return!1;return!0},subset:$I},BI={exact:function az(n,e){return jr(n,e)},subset:function cz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>UI(n[t],e[t]))},ignored:()=>!0};function jI(n,e,t){return sz[t.paths](n.root,e.root,t.matrixParams)&&BI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $I(n,e,t){return GI(n,e,e.segments,t)}function GI(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ro(i,t)||e.hasChildren()||!wd(i,t,r))}if(n.segments.length===t.length){if(!Ro(n.segments,t)||!wd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!$I(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ro(n.segments,i)&&wd(n.segments,i,r)&&n.children[he])&&GI(n.children[he],e,o,r)}}function wd(n,e,t){return e.every((r,i)=>BI[t](n[i].parameters,r.parameters))}class Mo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vs(this.queryParams)),this._queryParamMap}toString(){return dz.serialize(this)}}class fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Bt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ed(this)}}class Dc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vs(this.parameters)),this._parameterMap}toString(){return YI(this)}}function Ro(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let qI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return new Hg},providedIn:"root"}),n})();class Hg{parse(e){const t=new Cz(e);return new Mo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ic(e.root,!0)}`,r=function pz(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Sd(t)}=${Sd(i)}`).join("&"):`${Sd(t)}=${Sd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function hz(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dz=new Hg;function Ed(n){return n.segments.map(e=>YI(e)).join("/")}function Ic(n,e){if(!n.hasChildren())return Ed(n);if(e){const t=n.children[he]?Ic(n.children[he],!1):"",r=[];return Bt(n.children,(i,o)=>{o!==he&&r.push(`${o}:${Ic(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uz(n,e){let t=[];return Bt(n.children,(r,i)=>{i===he&&(t=t.concat(e(r,i)))}),Bt(n.children,(r,i)=>{i!==he&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===he?[Ic(n.children[he],!1)]:[`${i}:${Ic(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${Ed(n)}/${t[0]}`:`${Ed(n)}/(${t.join("//")})`}}function KI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(n){return KI(n).replace(/%3B/gi,";")}function Bg(n){return KI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Td(n){return decodeURIComponent(n)}function WI(n){return Td(n.replace(/\+/g,"%20"))}function YI(n){return`${Bg(n.path)}${function fz(n){return Object.keys(n).map(e=>`;${Bg(e)}=${Bg(n[e])}`).join("")}(n.parameters)}`}const mz=/^[^\/()?;=#]+/;function Dd(n){const e=n.match(mz);return e?e[0]:""}const gz=/^[^=?&#]+/,yz=/^[^&#]+/;class Cz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new fe(e,t)),r}parseSegment(){const e=Dd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(e),new Dc(Td(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Dd(this.remaining);i&&(r=i,this.capture(r))}e[Td(t)]=Td(r)}parseQueryParam(e){const t=function vz(n){const e=n.match(gz);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function _z(n){const e=n.match(yz);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=WI(t),o=WI(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[he]:new fe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new w(4011,!1)}}function jg(n){return n.segments.length>0?new fe([],{[he]:n}):n}function Id(n){const e={};for(const r of Object.keys(n.children)){const o=Id(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function bz(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new fe(n.segments.concat(e.segments),e.children)}return n}(new fe(n.segments,e))}function ko(n){return n instanceof Mo}function Sz(n,e,t,r,i){if(0===t.length)return Hs(e.root,e.root,e.root,r,i);const o=function JI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ZI(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Bt(o.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new ZI(t,e,r)}(t);return o.toRoot()?Hs(e.root,e.root,new fe([],{}),r,i):function s(c){const l=function Dz(n,e,t,r){if(n.isAbsolute)return new Bs(e.root,!0,0);if(-1===r)return new Bs(t,t===e.root,0);return function XI(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new Bs(r,!1,i-o)}(t,r+(Ac(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,c),u=l.processChildren?Rc(l.segmentGroup,l.index,o.commands):$g(l.segmentGroup,l.index,o.commands);return Hs(e.root,l.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Ac(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mc(n){return"object"==typeof n&&null!=n&&n.outlets}function Hs(n,e,t,r,i){let s,o={};r&&Bt(r,(c,l)=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:QI(n,e,t);const a=jg(Id(s));return new Mo(a,o,i)}function QI(n,e,t){const r={};return Bt(n.children,(i,o)=>{r[o]=i===e?t:QI(i,e,t)}),new fe(n.segments,r)}class ZI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ac(r[0]))throw new w(4003,!1);const i=r.find(Mc);if(i&&i!==HI(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bs{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function $g(n,e,t){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return Rc(n,e,t);const r=function Az(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Mc(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!tA(c,l,s))return o;r+=2}else{if(!tA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new fe(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new fe(n.segments.slice(r.pathIndex),n.children),Rc(o,0,i)}return r.match&&0===i.length?new fe(n.segments,{}):r.match&&!n.hasChildren()?Gg(n,e,t):r.match?Rc(n,0,i):Gg(n,e,t)}function Rc(n,e,t){if(0===t.length)return new fe(n.segments,{});{const r=function Iz(n){return Mc(n[0])?n[0].outlets:{[he]:n}}(t),i={};return Bt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=$g(n.children[s],e,o))}),Bt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new fe(n.segments,i)}}function Gg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Mc(o)){const c=Mz(o.outlets);return new fe(r,c)}if(0===i&&Ac(t[0])){r.push(new Dc(n.segments[e].path,eA(t[0]))),i++;continue}const s=Mc(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ac(a)?(r.push(new Dc(s,eA(a))),i+=2):(r.push(new Dc(s,{})),i++)}return new fe(r,{})}function Mz(n){const e={};return Bt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Gg(new fe([],{}),0,t))}),e}function eA(n){const e={};return Bt(n,(t,r)=>e[r]=`${t}`),e}function tA(n,e,t){return n==t.path&&jr(e,t.parameters)}class gi{constructor(e,t){this.id=e,this.url=t}}class qg extends gi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class No extends gi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ad extends gi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nA extends gi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rz extends gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kz extends gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nz extends gi{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oz extends gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xz extends gi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pz{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fz{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Kg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Kg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wg(e,this._root).map(t=>t.value)}}function Kg(n,e){if(n===e.value)return e;for(const t of e.children){const r=Kg(n,t);if(r)return r}return null}function Wg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wg(n,t);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function js(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class oA extends iA{constructor(e,t){super(e),this.snapshot=t,Yg(this,e)}toString(){return this.snapshot.toString()}}function sA(n,e){const t=function jz(n,e){const s=new Md([],{},{},"",{},he,e,null,n.root,-1,{});return new cA("",new vi(s,[]))}(n,e),r=new Sn([new Dc("",{})]),i=new Sn({}),o=new Sn({}),s=new Sn({}),a=new Sn(""),c=new Oo(r,i,s,a,o,he,e,t.root);return c.snapshot=t.root,new oA(new vi(c,[]),t)}class Oo{constructor(e,t,r,i,o,s,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(Z(l=>l[Tc]))??U(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Z(e=>Vs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(e=>Vs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function aA(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function zz(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Md{constructor(e,t,r,i,o,s,a,c,l,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.[Tc],this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cA extends iA{constructor(e,t){super(t),this.url=e,Yg(this,t)}toString(){return lA(this._root)}}function Yg(n,e){e.value._routerState=n,e.children.forEach(t=>Yg(n,t))}function lA(n){const e=n.children.length>0?` { ${n.children.map(lA).join(", ")} } `:"";return`${n.value}${e}`}function Qg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),jr(e.params,t.params)||n.params.next(t.params),function iz(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),jr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zg(n,e){const t=jr(n.params,e.params)&&function lz(n,e){return Ro(n,e)&&n.every((t,r)=>jr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zg(n.parent,e.parent))}function kc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Gz(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kc(n,r,i);return kc(n,r)})}(n,e,t);return new vi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kc(n,a)),s}}const r=function qz(n){return new Oo(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>kc(n,o));return new vi(r,i)}}const Jg="ngNavigationCancelingError";function uA(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dA(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function dA(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Jg]=!0,r.cancellationCode=e,t&&(r.url=t),r}function hA(n){return fA(n)&&ko(n.url)}function fA(n){return n&&n[Jg]}class Kz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Nc,this.attachRef=null}}let Nc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kz,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rd=!1;let Xg=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.name=i||he,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,Rd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,Rd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,Rd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new w(4013,Rd);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Wz(t,a,i.injector);if(r&&function Yz(n){return!!n.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(s);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(_(Nc),_(Wt),Qo("name"),_(po),_(Ii))},n.\u0275dir=R({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Wz{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Oo?this.route:e===Nc?this.childContexts:this.parent.get(e,t)}}let ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=et({type:n,selectors:[["ng-component"]],standalone:!0,features:[jw],decls:1,vars:0,template:function(t,r){1&t&&Kn(0,"router-outlet")},dependencies:[Xg],encapsulation:2}),n})();function pA(n,e){return n.providers&&!n._injector&&(n._injector=eu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function nv(n){const e=n.children&&n.children.map(nv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=ev),t}function er(n){return n.outlet||he}function mA(n,e){const t=n.filter(r=>er(r)===e);return t.push(...n.filter(r=>er(r)!==e)),t}function Oc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class e${constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=js(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Bt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=js(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=js(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=js(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hz(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Uz(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Qg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Oc(i.snapshot),c=a?.get(Ea)??null;s.attachRef=null,s.route=i,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class gA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kd{constructor(e,t){this.component=e,this.route=t}}function t$(n,e,t){const r=n._root;return xc(r,e?e._root:null,t,[r.value])}function zs(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function R0(n){return null!==tl(n)}(n)?e.get(n):n:r}function xc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=js(e);return n.children.forEach(s=>{(function r$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function i$(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(n.url,e.url)||!jr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zg(n,e)||!jr(n.queryParams,e.queryParams);default:return!Zg(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new gA(r)):(o.data=s.data,o._resolvedData=s._resolvedData),xc(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kd(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new gA(r)),xc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Bt(o,(s,a)=>Pc(s,t.getContext(a),i)),i}function Pc(n,e,t){const r=js(n),i=n.value;Bt(r,(o,s)=>{Pc(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new kd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Fc(n){return"function"==typeof n}function rv(n){return n instanceof vd||"EmptyError"===n?.name}const Nd=Symbol("INITIAL_VALUE");function $s(){return Br(n=>Pg(n.map(e=>e.pipe($i(1),_d(Nd)))).pipe(Z(e=>{for(const t of e)if(!0!==t){if(t===Nd)return Nd;if(!1===t||t instanceof Mo)return t}return!0}),Ft(e=>e!==Nd),$i(1)))}function vA(n){return function QM(...n){return Qv(n)}(_t(e=>{if(ko(e))throw uA(0,e)}),Z(e=>!0===e))}const iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yA(n,e,t,r,i){const o=ov(n,e,t);return o.matched?function b$(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?U(i.map(s=>{const a=zs(s,n);return qi(function u$(n){return n&&Fc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe($s(),vA()):U(!0)}(r=pA(e,r),e,t).pipe(Z(s=>!0===s?o:{...iv})):U(o)}function ov(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...iv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rz)(t,n,e);if(!i)return{...iv};const o={};Bt(i.posParams,(a,c)=>{o[c]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Od(n,e,t,r,i="corrected"){if(t.length>0&&function S$(n,e,t){return t.some(r=>xd(n,e,r)&&er(r)!==he)}(n,t,r)){const s=new fe(e,function E$(n,e,t,r){const i={};i[he]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&er(o)!==he){const s=new fe([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[er(o)]=s}return i}(n,e,r,new fe(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function T$(n,e,t){return t.some(r=>xd(n,e,r))}(n,t,r)){const s=new fe(n.segments,function w$(n,e,t,r,i,o){const s={};for(const a of r)if(xd(n,t,a)&&!i[er(a)]){const c=new fe([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[er(a)]=c}return{...i,...s}}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new fe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function xd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function _A(n,e,t,r){return!!(er(n)===r||r!==he&&xd(e,t,n))&&("**"===n.path||ov(e,n,t).matched)}function CA(n,e,t){return 0===e.length&&!n.children[t]}const Pd=!1;class Fd{constructor(e){this.segmentGroup=e||null}}class bA{constructor(e){this.urlTree=e}}function Lc(n){return Us(new Fd(n))}function wA(n){return Us(new bA(n))}class M${constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=Od(this.urlTree.root,[],[],this.config).segmentGroup,t=new fe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,he).pipe(Z(o=>this.createUrlTree(Id(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hr(o=>{if(o instanceof bA)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Fd?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,he).pipe(Z(i=>this.createUrlTree(Id(i),e.queryParams,e.fragment))).pipe(Hr(i=>{throw i instanceof Fd?this.noMatchError(i):i}))}noMatchError(e){return new w(4002,Pd)}createUrlTree(e,t,r){const i=jg(e);return new Mo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Z(o=>new fe([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ce(i).pipe(xr(o=>{const s=r.children[o],a=mA(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Z(c=>({segment:c,outlet:o})))}),FI((o,s)=>(o[s.outlet]=s.segment,o),{}),LI())}expandSegment(e,t,r,i,o,s){return Ce(r).pipe(xr(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Hr(l=>{if(l instanceof Fd)return U(null);throw l}))),Gi(a=>!!a),Hr((a,c)=>{if(rv(a))return CA(t,i,o)?U(new fe([],{})):Lc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return _A(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Lc(t):Lc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wA(o):this.lineralizeSegments(r,o).pipe(xt(s=>{const a=new fe(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=ov(t,i,o);if(!a)return Lc(t);const d=this.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?wA(d):this.lineralizeSegments(i,d).pipe(xt(h=>this.expandSegment(e,t,r,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=pA(r,e),r.loadChildren?(r._loadedRoutes?U({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Z(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new fe(i,{})))):U(new fe(i,{}))):yA(t,r,i,e).pipe(Br(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(xt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=Od(t,a,c,h),m=new fe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Z(C=>new fe(a,C)));if(0===h.length&&0===p.length)return U(new fe(a,{}));const g=er(r)===o;return this.expandSegment(d,m,h,p,g?he:o,!0).pipe(Z(b=>new fe(a.concat(b.segments),b.children)))})):Lc(t)))}getChildConfig(e,t,r){return t.children?U({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?U({routes:t._loadedRoutes,injector:t._loadedInjector}):function C$(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?U(!0):U(i.map(s=>{const a=zs(s,n);return qi(function s$(n){return n&&Fc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe($s(),vA())}(e,t,r).pipe(xt(i=>i?this.configLoader.loadChildren(e,t).pipe(_t(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function I$(n){return Us(dA(Pd,3))}())):U({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return U(r);if(i.numberOfChildren>1||!i.children[he])return Us(new w(4e3,Pd));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Mo(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Bt(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Bt(t.children,(a,c)=>{s[c]=this.createSegmentGroup(e,a,r,i)}),new fe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new w(4001,Pd);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class k${}class x${constructor(e,t,r,i,o,s,a,c){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const e=Od(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(Z(t=>{if(null===t)return null;const r=new Md([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,t),o=new cA(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=aA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return Ce(Object.keys(r.children)).pipe(xr(i=>{const o=r.children[i],s=mA(t,i);return this.processSegmentGroup(e,s,o,i)}),FI((i,o)=>i&&o?(i.push(...o),i):null),function ez(n,e=!1){return ot((t,r)=>{let i=0;t.subscribe(Xe(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Cd(null),LI(),Z(i=>{if(null===i)return null;const o=EA(i);return function P$(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return Ce(t).pipe(xr(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),Gi(s=>!!s),Hr(s=>{if(rv(s))return CA(r,i,o)?U([]):U(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!_A(t,r,i,o))return U(null);let s;if("**"===t.path){const a=i.length>0?HI(i).parameters:{},c=TA(r)+i.length;s=U({snapshot:new Md(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IA(t),er(t),t.component??t._loadedComponent??null,t,SA(r),c,AA(t),c),consumedSegments:[],remainingSegments:[]})}else s=yA(r,t,i,e).pipe(Z(({matched:a,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!a)return null;const d=TA(r)+c.length;return{snapshot:new Md(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IA(t),er(t),t.component??t._loadedComponent??null,t,SA(r),d,AA(t),d),consumedSegments:c,remainingSegments:l}}));return s.pipe(Br(a=>{if(null===a)return U(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function F$(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Od(r,l,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(Z(g=>null===g?null:[new vi(c,g)]));if(0===h.length&&0===p.length)return U([new vi(c,[])]);const m=er(t)===o;return this.processSegment(d,h,f,p,m?he:o).pipe(Z(g=>null===g?null:[new vi(c,g)]))}))}}function L$(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function EA(n){const e=[],t=new Set;for(const r of n){if(!L$(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=EA(r.children);e.push(new vi(r.value,i))}return e.filter(r=>!t.has(r))}function SA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function TA(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function IA(n){return n.data||{}}function AA(n){return n.resolve||{}}function MA(n){return"string"==typeof n.title||null===n.title}function sv(n){return Br(e=>{const t=n(e);return t?Ce(t).pipe(Z(()=>e)):U(e)})}let RA=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[Tc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return qe(kA)},providedIn:"root"}),n})(),kA=(()=>{class n extends RA{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(E(qS))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class G${}class K$ extends class q${shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ud=new k("",{providedIn:"root",factory:()=>({})}),av=new k("ROUTES");let cv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return U(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=qi(t.loadComponent()).pipe(_t(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bd(()=>{this.componentLoaders.delete(t)})),i=new Lg(r,()=>new Je).pipe(Fg());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return U({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Z(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,u=!1;Array.isArray(a)?l=a:(c=a.create(t).injector,l=VI(c.get(av,[],W.Self|W.Optional)));return{routes:l.map(nv),injector:c}}),bd(()=>{this.childrenLoaders.delete(r)})),s=new Lg(o,()=>new Je).pipe(Fg());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return qi(t()).pipe(xt(r=>r instanceof Hw||Array.isArray(r)?U(r):Ce(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(E(gn),E(Up))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Y${}class Q${shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Z$(n){throw n}function J$(n,e,t){return e.parse("/")}const X$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function OA(){const n=qe(qI),e=qe(Nc),t=qe(qa),r=qe(gn),i=qe(Up),o=qe(av,{optional:!0})??[],s=qe(Ud,{optional:!0})??{},a=qe(kA),c=qe(RA,{optional:!0}),l=qe(Y$,{optional:!0}),u=qe(G$,{optional:!0}),d=new kt(null,n,e,t,r,i,VI(o));return l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),d.titleStrategy=c??a,function tG(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let kt=(()=>{class n{constructor(t,r,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Je,this.errorHandler=Z$,this.malformedUriErrorHandler=J$,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>U(void 0),this.urlHandlingStrategy=new Q$,this.routeReuseStrategy=new K$,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(cv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Fz(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new Pz(h)),this.ngModule=s.get(ho),this.console=s.get(f1);const d=s.get(Re);this.isNgZoneEnabled=d instanceof Re&&Re.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function oz(){return new Mo(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sA(this.currentUrlTree,this.rootComponentType),this.transitions=new Sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ft(i=>0!==i.id),Z(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Br(i=>{let o=!1,s=!1;return U(i).pipe(_t(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Br(a=>{const c=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return xA(a.source)&&(this.browserUrlTree=a.extractedUrl),U(a).pipe(Br(d=>{const h=this.transitions.getValue();return r.next(new qg(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?qr:Promise.resolve(d)}),function R$(n,e,t,r){return Br(i=>function A$(n,e,t,r,i){return new M$(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Z(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_t(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function V$(n,e,t,r,i,o){return xt(s=>function O$(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new x$(n,e,t,r,i,s,a,o).recognize().pipe(Br(c=>null===c?function N$(n){return new Ze(e=>e.error(n))}(new k$):U(c)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(Z(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),_t(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Rz(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,y=new qg(h,this.serializeUrl(f),p,m);r.next(y);const b=sA(f,this.rootComponentType).snapshot;return U(i={...a,targetSnapshot:b,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),qr}),_t(a=>{const c=new kz(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),Z(a=>i={...a,guards:t$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function h$(n,e){return xt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?U({...t,guardsResult:!0}):function f$(n,e,t,r){return Ce(n).pipe(xt(i=>function _$(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?U(o.map(a=>{const c=Oc(e)??i,l=zs(a,c);return qi(function l$(n){return n&&Fc(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Gi())})).pipe($s()):U(!0)}(i.component,i.route,t,e,r)),Gi(i=>!0!==i,!0))}(s,r,i,n).pipe(xt(a=>a&&function o$(n){return"boolean"==typeof n}(a)?function p$(n,e,t,r){return Ce(e).pipe(xr(i=>yd(function g$(n,e){return null!==n&&e&&e(new Lz(n)),U(!0)}(i.route.parent,r),function m$(n,e){return null!==n&&e&&e(new Vz(n)),U(!0)}(i.route,r),function y$(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function n$(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>xI(()=>U(s.guards.map(c=>{const l=Oc(s.node)??t,u=zs(c,l);return qi(function c$(n){return n&&Fc(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(Gi())})).pipe($s())));return U(o).pipe($s())}(n,i.path,t),function v$(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return U(!0);const i=r.map(o=>xI(()=>{const s=Oc(e)??t,a=zs(o,s);return qi(function a$(n){return n&&Fc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Gi())}));return U(i).pipe($s())}(n,i.route,t))),Gi(i=>!0!==i,!0))}(r,o,n,e):U(a)),Z(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),_t(a=>{if(i.guardsResult=a.guardsResult,ko(a.guardsResult))throw uA(0,a.guardsResult);const c=new Nz(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Ft(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),sv(a=>{if(a.guards.canActivateChecks.length)return U(a).pipe(_t(c=>{const l=new Oz(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}),Br(c=>{let l=!1;return U(c).pipe(function H$(n,e){return xt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return U(t);let o=0;return Ce(i).pipe(xr(s=>function B$(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!MA(i)&&(o[Tc]=i.title),function j$(n,e,t,r){const i=function z$(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return U({});const o={};return Ce(i).pipe(xt(s=>function $$(n,e,t,r){const i=Oc(e)??r,o=zs(n,i);return qi(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Gi(),_t(a=>{o[s]=a}))),Ug(1),function tz(n){return Z(()=>n)}(o),Hr(s=>rv(s)?qr:Us(s)))}(o,n,e,r).pipe(Z(s=>(n._resolvedData=s,n.data=aA(n,t).resolve,i&&MA(i)&&(n.data[Tc]=i.title),null)))}(s.route,r,n,e)),_t(()=>o++),Ug(1),xt(s=>o===i.length?U(t):qr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_t({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),_t(c=>{const l=new xz(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}))}),sv(a=>{const c=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(_t(d=>{l.component=d}),Z(()=>{})));for(const d of l.children)u.push(...c(d));return u};return Pg(c(a.targetSnapshot.root)).pipe(Cd(),$i(1))}),sv(()=>this.afterPreactivation()),Z(a=>{const c=function $z(n,e,t){const r=kc(n,e._root,t?t._root:void 0);return new oA(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),_t(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Z(r=>(new e$(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),_t({next(){o=!0},complete(){o=!0}}),bd(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Hr(a=>{if(s=!0,fA(a)){hA(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new Ad(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),hA(a)){const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xA(i.source)};this.scheduleNavigation(l,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new nA(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return qr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(nv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=i||this.routerState.root,u=c?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),Sz(l,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ko(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function nG(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new w(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...X$}:!1===r?{...eG}:r,ko(t))return jI(this.currentUrlTree,t,i);const o=this.parseUrl(t);return jI(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new No(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,f)=>{a=h,c=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new Ad(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){jf()},n.\u0275prov=H({token:n,factory:function(){return OA()},providedIn:"root"}),n})();function xA(n){return"imperative"!==n}let Hd=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Je,this.subscription=t.events.subscribe(o=>{o instanceof No&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=si(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=si(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=si(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){return!!(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(_(kt),_(Oo),_(go))},n.\u0275dir=R({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Mt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&vn("target",r.target)("href",r.href,lf)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[$t]}),n})();class PA{}let oG=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(t=>t instanceof No),xr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=eu(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ce(i).pipe(Vo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):U(null);const o=i.pipe(xt(s=>null===s?U(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ce([o,this.loader.loadComponent(r)]).pipe(Vo()):o})}}return n.\u0275fac=function(t){return new(t||n)(E(kt),E(Up),E(Ii),E(PA),E(cv))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uv=new k("");let FA=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof No&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new rA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){jf()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function Gs(n,e){return{\u0275kind:n,\u0275providers:e}}function dv(n){return[{provide:av,multi:!0,useValue:n}]}function UA(){const n=qe(gn);return e=>{const t=n.get($a);if(e!==t.components[0])return;const r=n.get(kt),i=n.get(VA);1===n.get(hv)&&r.initialNavigation(),n.get(HA,null,W.Optional)?.setUpPreloading(),n.get(uv,null,W.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const VA=new k("",{factory:()=>new Je}),hv=new k("",{providedIn:"root",factory:()=>1});const HA=new k("");function lG(n){return Gs(0,[{provide:HA,useExisting:oG},{provide:PA,useExisting:n}])}const BA=new k("ROUTER_FORROOT_GUARD"),uG=[qa,{provide:qI,useClass:Hg},{provide:kt,useFactory:OA},Nc,{provide:Oo,useFactory:function LA(n){return n.routerState.root},deps:[kt]},cv];function dG(){return new FE("Router",kt)}let jA=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[uG,[],dv(t),{provide:BA,useFactory:mG,deps:[[kt,new Di,new rs]]},{provide:Ud,useValue:r||{}},r?.useHash?{provide:go,useClass:tL}:{provide:go,useClass:aS},{provide:uv,useFactory:()=>{const n=qe(kt),e=qe(wU),t=qe(Ud);return t.scrollOffset&&e.setOffset(t.scrollOffset),new FA(n,e,t)}},r?.preloadingStrategy?lG(r.preloadingStrategy).\u0275providers:[],{provide:FE,multi:!0,useFactory:dG},r?.initialNavigation?gG(r):[],[{provide:zA,useFactory:UA},{provide:ME,multi:!0,useExisting:zA}]]}}static forChild(t){return{ngModule:n,providers:[dv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(E(BA,8))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[ev]}),n})();function mG(n){return"guarded"}function gG(n){return["disabled"===n.initialNavigation?Gs(3,[{provide:iu,multi:!0,useFactory:()=>{const e=qe(kt);return()=>{e.setUpLocationChangeListener()}}},{provide:hv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Gs(2,[{provide:hv,useValue:0},{provide:iu,multi:!0,deps:[gn],useFactory:e=>{const t=e.get(X1,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const s=e.get(kt),a=e.get(VA);(function i(o){e.get(kt).events.pipe(Ft(a=>a instanceof No||a instanceof Ad||a instanceof nA),Z(a=>a instanceof No||a instanceof Ad&&(0===a.code||1===a.code)&&null),Ft(a=>null!==a),$i(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),s.afterPreactivation=()=>(o(!0),r||a.closed?U(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const zA=new k(""),zd=new k("MSAL_INSTANCE"),$d=new k("MSAL_GUARD_CONFIG"),yG=new k("MSAL_INTERCEPTOR_CONFIG"),_G=new k("MSAL_BROADCAST_CONFIG"),$A="@azure/msal-angular",fv="2.4.5";let mv,xo=(()=>{class n{constructor(t,r){this.instance=t,this.location=r;const i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(od.Angular,fv)}initialize(){return Ce(this.instance.initialize())}acquireTokenPopup(t){return Ce(this.instance.acquireTokenPopup(t))}acquireTokenRedirect(t){return Ce(this.instance.acquireTokenRedirect(t))}acquireTokenSilent(t){return Ce(this.instance.acquireTokenSilent(t))}handleRedirectObservable(t){return Ce(this.instance.handleRedirectPromise(t||this.redirectHash))}loginPopup(t){return Ce(this.instance.loginPopup(t))}loginRedirect(t){return Ce(this.instance.loginRedirect(t))}logout(t){return Ce(this.instance.logout(t))}logoutRedirect(t){return Ce(this.instance.logoutRedirect(t))}logoutPopup(t){return Ce(this.instance.logoutPopup(t))}ssoSilent(t){return Ce(this.instance.ssoSilent(t))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone($A,fv)),this.logger}setLogger(t){this.logger=t.clone($A,fv),this.instance.setLogger(t)}}return n.\u0275fac=function(t){return new(t||n)(E(zd),E(qa))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Uc=(()=>{class n{constructor(t,r,i){this.msalInstance=t,this.authService=r,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.authService.getLogger().verbose(`BroadcastService - replayPastEvents set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Yj(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Je,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new Sn(yt.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(o=>{this._msalSubject.next(o);const s=Wj.getInteractionStatusFromEvent(o,this._inProgress.value);null!==s&&(this.authService.getLogger().verbose(`BroadcastService - ${o.eventType} results in setting inProgress from ${this._inProgress.value} to ${s}`),this._inProgress.next(s))})}}return n.\u0275fac=function(t){return new(t||n)(E(zd),E(xo),E(_G,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),pv=(()=>{class n{constructor(t,r,i,o,s){this.msalGuardConfig=t,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(t){return this.router.parseUrl(t)}getDestinationUrl(t){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(t);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${t}`}loginInteractively(t){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,t):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===x.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(Z(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const i=this.getDestinationUrl(t.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:i},r)).pipe(Z(()=>!1))}activateHelper(t){if(this.msalGuardConfig.interactionType!==x.Popup&&this.msalGuardConfig.interactionType!==x.Redirect)throw new vc("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),!(typeof window<"u"))return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),U(!0);if(ye.hashContainsKnownProperties(window.location.hash)&&Qe.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),U(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(xr(()=>{if(!this.authService.instance.getAllAccounts().length)return t?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(t)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),U(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),t){const i=this.includesCode(t.url),o=!!t.root&&!!t.root.fragment&&this.includesCode(`#${t.root.fragment}`),s=0===this.location.prepareExternalUrl(t.url).indexOf("#");if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?U(this.parseUrl(this.location.path())):U(this.parseUrl(""))}return U(!0)}),Hr(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&parseInt(j_.major,10)>9&&t?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),U(this.loginFailedRoute)):U(!1))))}includesCode(t){return t.lastIndexOf("/code")>-1&&t.lastIndexOf("/code")===t.length-5||t.indexOf("#code=")>-1||t.indexOf("&code=")>-1}canActivate(t,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(t,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(t){return new(t||n)(E($d),E(Uc),E(xo),E(qa),E(kt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),GA=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.getLogger().verbose("MsalRedirectComponent activated"),this.authService.initialize().pipe(xr(()=>this.authService.handleRedirectObservable())).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(xo))},n.\u0275cmp=et({type:n,selectors:[["app-redirect"]],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),CG=(()=>{class n{static forRoot(t,r,i){return{ngModule:n,providers:[{provide:zd,useValue:t},{provide:$d,useValue:r},{provide:yG,useValue:i},xo]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({providers:[pv,Uc],imports:[hm]}),n})();try{mv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mv=!1}let Vc,vv,Ki=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function bU(n){return n===SS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(E(su))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gv(n){return function bG(){if(null==Vc&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vc=!0}))}finally{Vc=Vc||!1}return Vc}()?n:!!n.capture}function Hc(n){return n.composedPath?n.composedPath()[0]:n.target}class HG extends en{constructor(e,t){super()}schedule(e,t=0){return this}}const qd={setInterval(n,e,...t){const{delegate:r}=qd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=qd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class _v extends HG{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return qd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&qd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Uo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class Bc{constructor(e,t=Bc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Bc.now=xg.now;class Cv extends Bc{constructor(e,t=Bc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const bv=new Cv(_v),BG=bv;function ZA(n){return Ft((e,t)=>n<=t)}function zG(n,e){return n===e}function Tn(n){return ot((e,t)=>{In(n).subscribe(Xe(t,()=>t.complete(),uh)),!t.closed&&e.subscribe(t)})}function zr(n){return null!=n&&"false"!=`${n}`}function JA(n){return Array.isArray(n)?n:[n]}function jc(n){return n instanceof Le?n.nativeElement:n}const XA=new Set;let Ks,GG=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function qG(n){if(!XA.has(n))try{Ks||(Ks=document.createElement("style"),Ks.setAttribute("type","text/css"),document.head.appendChild(Ks)),Ks.sheet&&(Ks.sheet.insertRule(`@media ${n} {body{ }}`,0),XA.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Ki))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let WG=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Je}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return eM(JA(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=Pg(eM(JA(t)).map(s=>this._registerQuery(s).observable));return o=yd(o.pipe($i(1)),o.pipe(ZA(1),function QA(n,e=bv){return ot((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+n,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}t.subscribe(Xe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe(Z(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Ze(s=>{const a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(_d(r),Z(({matches:s})=>({query:t,matches:s})),Tn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(E(GG),E(Re))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eM(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function iM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function oM(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const iq=new k("cdk-input-modality-detector-options"),oq={ignoreKeys:[18,17,224,91,16]},Ws=gv({passive:!0,capture:!0});let sq=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Sn(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(iM(s)?"keyboard":"mouse"),this._mostRecentTarget=Hc(s))},this._onTouchstart=s=>{oM(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hc(s))},this._options={...oq,...o},this.modalityDetected=this._modality.pipe(ZA(1)),this.modalityChanged=this.modalityDetected.pipe(function jG(n,e=bi){return n=n??zG,ot((t,r)=>{let i,o=!0;t.subscribe(Xe(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ws),i.addEventListener("mousedown",this._onMousedown,Ws),i.addEventListener("touchstart",this._onTouchstart,Ws)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ws),document.removeEventListener("mousedown",this._onMousedown,Ws),document.removeEventListener("touchstart",this._onTouchstart,Ws))}}return n.\u0275fac=function(t){return new(t||n)(E(Ki),E(Re),E(ke),E(iq,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cq=new k("cdk-focus-monitor-default-options"),Kd=gv({passive:!0,capture:!0});let wv=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Je,this._rootNodeFocusAndBlurListener=a=>{for(let l=Hc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,r=!1){const i=jc(t);if(!this._platform.isBrowser||1!==i.nodeType)return U(null);const o=function EG(n){if(function wG(){if(null==vv){const n=typeof document<"u"?document.head:null;vv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vv}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new Je,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=jc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=jc(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Hc(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kd)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(E(Re),E(Ki),E(sq),E(ke,8),E(cq,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aM="cdk-high-contrast-black-on-white",cM="cdk-high-contrast-white-on-black",Ev="cdk-high-contrast-active";let lq=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=qe(WG).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ev,aM,cM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(Ev,aM):2===r&&t.add(Ev,cM)}}}return n.\u0275fac=function(t){return new(t||n)(E(Ki),E(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uq=new k("cdk-dir-doc",{providedIn:"root",factory:function dq(){return qe(ke)}}),hq=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pq=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new $e,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function fq(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?hq.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(E(uq,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({}),n})();const gq=new k("mat-sanity-checks",{providedIn:"root",factory:function mq(){return!0}});let Dt=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function SG(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(E(lq),E(gq,8),E(ke))},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Wd,Wd]}),n})();function vq(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=zr(e)}}}function dM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Sv(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=zr(e)}}}let hM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt,Dt]}),n})();class bq{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fM={enterDuration:225,exitDuration:150},Tv=gv({passive:!0}),pM=["mousedown","touchstart"],mM=["mouseup","mouseleave","touchend","touchcancel"];class Eq{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...fM,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function Sq(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,m=new bq(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(m),b=()=>this._destroyRipple(m);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",b),g={onTransitionEnd:y,onTransitionCancel:b}}),this._activeRipples.set(m,g),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...fM,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=jc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(pM))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mM),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=iM(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!oM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Tv)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(pM.forEach(e=>{this._triggerElement.removeEventListener(e,this,Tv)}),this._pointerUpEventsRegistered&&mM.forEach(e=>{this._triggerElement.removeEventListener(e,this,Tv)}))}}const Tq=new k("mat-ripple-global-options");let Yd=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Eq(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(_(Le),_(Re),_(Ki),_(Tq,8),_(fo,8))},n.\u0275dir=R({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Kt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt,Dt]}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt]}),n})();const yM=["mat-button",""],_M=["*"],Mq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Rq=dM(vq(Sv(class{constructor(n){this._elementRef=n}})));let CM=(()=>{class n extends Rq{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Mq)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(_(Le),_(wv),_(fo,8))},n.\u0275cmp=et({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Rr(Yd,5),2&t){let i;Ke(i=We())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(vn("disabled",r.disabled||null),Kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[$],attrs:yM,ngContentSelectors:_M,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(ri(),ge(0,"span",0),yn(1),ve(),Kn(2,"span",1)(3,"span",2)),2&t&&(nt(2),Kt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),wt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Yd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),kq=(()=>{class n extends CM{constructor(t,r,i,o){super(r,t,i),this._ngZone=o,this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(_(wv),_(Le),_(fo,8),_(Re,8))},n.\u0275cmp=et({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){2&t&&(vn("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),Kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[$],attrs:yM,ngContentSelectors:_M,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(ri(),ge(0,"span",0),yn(1),ve(),Kn(2,"span",1)(3,"span",2)),2&t&&(nt(2),Kt("mat-button-ripple-round",r.isRoundButton||r.isIconButton),wt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[Yd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Nq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[gM,Dt,Dt]}),n})();const Oq=["*",[["mat-toolbar-row"]]],xq=["*","mat-toolbar-row"],Pq=dM(class{constructor(n){this._elementRef=n}});let Fq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=R({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Lq=(()=>{class n extends Pq{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(_(Le),_(Ki),_(ke))},n.\u0275cmp=et({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&Yt(i,Fq,5),2&t){let o;Ke(o=We())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&Kt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[$],ngContentSelectors:xq,decls:2,vars:0,template:function(t,r){1&t&&(ri(Oq),yn(0),yn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt,Dt]}),n})();function Dv(n){return n&&"function"==typeof n.connect&&!(n instanceof Lg)}class bM{applyChanges(e,t,r,i,o){e.forEachOperation((s,a,c)=>{let l,u;if(null==s.previousIndex){const d=r(s,a,c);l=t.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==c?(t.remove(a),u=3):(l=t.get(a),t.move(l,c),u=2);o&&o({context:l?.context,operation:u,record:s})})}detach(){}}const $c=new k("_ViewRepeater");let Vq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt,Dt]}),n})(),Xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[hM,gM,Dt,vM,hm,hM,Dt,vM,Vq]}),n})();const e4=["*",[["mat-card-footer"]]],t4=["*","mat-card-footer"];let n4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=R({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=R({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),i4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=R({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),o4=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(_(fo,8))},n.\u0275cmp=et({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&Kt("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:t4,decls:2,vars:0,template:function(t,r){1&t&&(ri(e4),yn(0),yn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt,Dt]}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Dt,Dt]}),n})();const qc={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=qc;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new en(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=qc;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=qc;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class p4 extends Cv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class f4 extends _v{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=qc.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(qc.cancelAnimationFrame(t),e._scheduled=void 0)}});let Av,g4=1;const Jd={};function MM(n){return n in Jd&&(delete Jd[n],!0)}const v4={setImmediate(n){const e=g4++;return Jd[e]=!0,Av||(Av=Promise.resolve()),Av.then(()=>MM(e)&&n()),e},clearImmediate(n){MM(n)}},{setImmediate:y4,clearImmediate:_4}=v4,Xd={setImmediate(...n){const{delegate:e}=Xd;return(e?.setImmediate||y4)(...n)},clearImmediate(n){const{delegate:e}=Xd;return(e?.clearImmediate||_4)(n)},delegate:void 0};new class b4 extends Cv{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class C4 extends _v{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Xd.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Xd.clearImmediate(t),e._scheduled=void 0)}});function D4(n,e=bv){return function E4(n){return ot((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const l=i;i=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Xe(t,l=>{r=!0,i=l,o||In(n(l)).subscribe(o=Xe(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>function T4(n=0,e,t=BG){let r=-1;return null!=e&&(fy(e)?t=e:r=e),new Ze(i=>{let o=function S4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e))}let A4=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Je,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(D4(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(E(Ki),E(Re),E(ke,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({}),n})(),M4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[Wd,RM,Wd,RM]}),n})();const k4=[[["caption"]],[["colgroup"],["col"]]],N4=["caption","colgroup, col"];function Mv(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=zr(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Ys=new k("CDK_TABLE");let Qs=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(_(Pt))},n.\u0275dir=R({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Zs=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(_(Pt))},n.\u0275dir=R({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),eh=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(_(Pt))},n.\u0275dir=R({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class F4{}const L4=Mv(F4);let yi=(()=>{class n extends L4{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=zr(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(_(Ys,8))},n.\u0275dir=R({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(Yt(i,Qs,5),Yt(i,Zs,5),Yt(i,eh,5)),2&t){let o;Ke(o=We())&&(r.cell=o.first),Ke(o=We())&&(r.headerCell=o.first),Ke(o=We())&&(r.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ce([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$]}),n})();class Rv{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let kv=(()=>{class n extends Rv{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(_(yi),_(Le))},n.\u0275dir=R({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[$]}),n})(),Nv=(()=>{class n extends Rv{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(_(yi),_(Le))},n.\u0275dir=R({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[$]}),n})();class NM{constructor(){this.tasks=[],this.endTasks=[]}}const Ov=new k("_COALESCED_STYLE_SCHEDULER");let OM=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Je}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new NM,this._getScheduleObservable().pipe(Tn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new NM;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Ce(Promise.resolve(void 0)):this._ngZone.onStable.pipe($i(1))}}return n.\u0275fac=function(t){return new(t||n)(E(Re))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),xv=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Kc?t.headerCell.template:this instanceof Wc?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(_(Pt),_(oi))},n.\u0275dir=R({type:n,features:[$t]}),n})();class U4 extends xv{}const V4=Mv(U4);let Kc=(()=>{class n extends V4{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Pt),_(oi),_(Ys,8))},n.\u0275dir=R({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[$,$t]}),n})();class H4 extends xv{}const B4=Mv(H4);let Wc=(()=>{class n extends B4{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Pt),_(oi),_(Ys,8))},n.\u0275dir=R({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[$,$t]}),n})(),th=(()=>{class n extends xv{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(_(Pt),_(oi),_(Ys,8))},n.\u0275dir=R({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[$]}),n})(),_i=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(_(Wt))},n.\u0275dir=R({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=et({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Tr(0,0)},dependencies:[_i],encapsulation:2}),n})(),Lv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=et({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Tr(0,0)},dependencies:[_i],encapsulation:2}),n})(),nh=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(_(Pt))},n.\u0275dir=R({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const xM=["top","bottom","left","right"];class j4{constructor(e,t,r,i,o=!0,s=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let o=0;o<i.children.length;o++)r.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(h=>h)&&!r.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=e[0],s=o.children.length,a=this._getCellWidths(o,i),c=this._getStickyStartColumnPositions(a,t),l=this._getStickyEndColumnPositions(a,r),u=t.lastIndexOf(!0),d=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const m of e)for(let g=0;g<s;g++){const y=m.children[g];t[g]&&this._addStickyStyle(y,f,c[g],g===u),r[g]&&this._addStickyStyle(y,p,l[g],g===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((m,g)=>t[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((m,g)=>r[g+d]?m:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,o="bottom"===r?t.slice().reverse():t,s=[],a=[],c=[];for(let u=0,d=0;u<i.length;u++){if(!o[u])continue;s[u]=d;const h=i[u];c[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const l=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let u=0;u<i.length;u++){if(!o[u])continue;const d=s[u],h=u===l;for(const f of c[u])this._addStickyStyle(f,r,d,h)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);xM.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of xM)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let o=0;o<i.length;o++)r.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let o=0;o<e.length;o++)t[o]&&(r[o]=i,i+=e[o]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let o=e.length;o>0;o--)t[o]&&(r[o]=i,i+=e[o]);return r}}const Uv=new k("CDK_SPL");let rh=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(_(Wt),_(Le))},n.\u0275dir=R({type:n,selectors:[["","rowOutlet",""]]}),n})(),ih=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(_(Wt),_(Le))},n.\u0275dir=R({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),oh=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(_(Wt),_(Le))},n.\u0275dir=R({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),sh=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(_(Wt),_(Le))},n.\u0275dir=R({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),ah=(()=>{class n{constructor(t,r,i,o,s,a,c,l,u,d,h,f){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=s,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._ngZone=f,this._onDestroy=new Je,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new $e,this.viewChange=new Sn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=zr(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=zr(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(Tn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Dv(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&Re.isInAngularZone()?this._ngZone.onStable.pipe($i(1),Tn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<r.length;a++)this._renderRows[a].rowDef===o&&s.push(r[a]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const s=this._getRenderRowsForData(o,i,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a];const l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),t.push(c)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(s=>{const a=i&&i.has(s)?i.get(s):[];if(a.length){const c=a.shift();return c.dataIndex=r,c}return{data:t,rowDef:s,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ch(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=ch(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ch(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ch(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(s,a)=>s||!!a.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),r||i||o}_switchDataSource(t){this._data=[],Dv(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Dv(this.dataSource)?t=this.dataSource.connect(this):function R4(n){return!!n&&(n instanceof Ze||Pe(n.lift)&&Pe(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=U(this.dataSource)),this._renderChangeSubscription=t.pipe(Tn(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(a=>this._columnDefsByName.get(a)),o=i.map(a=>a.sticky),s=i.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const o=t.viewContainer.get(i);r.push(o.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(r,t));else{let o=this._rowDefs.find(s=>s.when&&s.when(r,t))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,o={}){const s=t.viewContainer.createEmbeddedView(r.template,o,i);return this._renderCellTemplateForItem(r,o),s}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))_i.mostRecentCellOutlet&&_i.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const s=t.get(r).context;s.count=i,s.first=0===r,s.last=r===i-1,s.even=r%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[r].dataIndex,s.renderIndex=r):s.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const s of i.outlets)o.appendChild(s.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new j4(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:U()).pipe(Tn(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const o=i.createEmbeddedView(t.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(_(oi),_(po),_(Le),Qo("role"),_(pq,8),_(ke),_(Ki),_($c),_(Ov),_(A4),_(Uv,12),_(Re,8))},n.\u0275cmp=et({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(Yt(i,nh,5),Yt(i,yi,5),Yt(i,th,5),Yt(i,Kc,5),Yt(i,Wc,5)),2&t){let o;Ke(o=We())&&(r._noDataRow=o.first),Ke(o=We())&&(r._contentColumnDefs=o),Ke(o=We())&&(r._contentRowDefs=o),Ke(o=We())&&(r._contentHeaderRowDefs=o),Ke(o=We())&&(r._contentFooterRowDefs=o)}},viewQuery:function(t,r){if(1&t&&(Rr(rh,7),Rr(ih,7),Rr(oh,7),Rr(sh,7)),2&t){let i;Ke(i=We())&&(r._rowOutlet=i.first),Ke(i=We())&&(r._headerRowOutlet=i.first),Ke(i=We())&&(r._footerRowOutlet=i.first),Ke(i=We())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&Kt("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ce([{provide:Ys,useExisting:n},{provide:$c,useClass:bM},{provide:Ov,useClass:OM},{provide:Uv,useValue:null}])],ngContentSelectors:N4,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(ri(k4),yn(0),yn(1,1),Tr(2,0)(3,1)(4,2)(5,3))},dependencies:[rh,ih,oh,sh],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function ch(n,e){return n.concat(Array.from(e))}let $4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[M4]}),n})();const G4=[[["caption"]],[["colgroup"],["col"]]],q4=["caption","colgroup, col"];let FM=(()=>{class n extends ah{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275cmp=et({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&Kt("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[ce([{provide:$c,useClass:bM},{provide:ah,useExisting:n},{provide:Ys,useExisting:n},{provide:Ov,useClass:OM},{provide:Uv,useValue:null}]),$],ngContentSelectors:q4,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(ri(G4),yn(0),yn(1,1),Tr(2,0)(3,1)(4,2)(5,3))},dependencies:[rh,ih,oh,sh],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),Vv=(()=>{class n extends Qs{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matCellDef",""]],features:[ce([{provide:Qs,useExisting:n}]),$]}),n})(),Hv=(()=>{class n extends Zs{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matHeaderCellDef",""]],features:[ce([{provide:Zs,useExisting:n}]),$]}),n})(),Bv=(()=>{class n extends yi{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ce([{provide:yi,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$]}),n})(),jv=(()=>{class n extends kv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[$]}),n})(),zv=(()=>{class n extends Nv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[$]}),n})(),LM=(()=>{class n extends Kc{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ce([{provide:Kc,useExisting:n}]),$]}),n})(),UM=(()=>{class n extends th{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275dir=R({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ce([{provide:th,useExisting:n}]),$]}),n})(),VM=(()=>{class n extends Pv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275cmp=et({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[ce([{provide:Pv,useExisting:n}]),$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Tr(0,0)},dependencies:[_i],encapsulation:2}),n})(),HM=(()=>{class n extends Lv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=be(n)))(r||n)}}(),n.\u0275cmp=et({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[ce([{provide:Lv,useExisting:n}]),$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&Tr(0,0)},dependencies:[_i],encapsulation:2}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[$4,Dt,Dt]}),n})();const It=(n,e,t,r)=>{r.push({claim:n,value:e,description:t})},$v=n=>`${n} - [${new Date(1e3*n).toString()}]`;function s3(n,e){1&n&&(ge(0,"mat-card",4)(1,"mat-card-title"),ze(2,"Angular single-page application built with MSAL Angular"),ve(),ge(3,"mat-card-subtitle"),ze(4,"Sign-in with Azure AD B2C and get an ID Token"),ve(),ge(5,"mat-card-content"),ze(6,"This sample demonstrates how to configure MSAL Angular to sign-in, sign-out and protect a route. "),ve()())}function a3(n,e){1&n&&(ge(0,"p",5),ze(1," See below the claims in your "),ge(2,"strong"),ze(3," ID token "),ve(),ze(4,". For more information, visit: "),ge(5,"span")(6,"a",6),ze(7," docs.microsoft.com "),ve()()())}function c3(n,e){1&n&&(ge(0,"th",15),ze(1," Claim "),ve())}function l3(n,e){if(1&n&&(ge(0,"td",16),ze(1),ve()),2&n){const t=e.$implicit;nt(1),Mr(" ",t.claim," ")}}function u3(n,e){1&n&&(ge(0,"th",15),ze(1," Value "),ve())}function d3(n,e){if(1&n&&(ge(0,"td",16),ze(1),ve()),2&n){const t=e.$implicit;nt(1),Mr(" ",t.value," ")}}function h3(n,e){1&n&&(ge(0,"th",15),ze(1," Description "),ve())}function f3(n,e){if(1&n&&(ge(0,"td",16),ze(1),ve()),2&n){const t=e.$implicit;nt(1),Mr(" ",t.description," ")}}function p3(n,e){1&n&&Kn(0,"tr",17)}function m3(n,e){1&n&&Kn(0,"tr",18)}function g3(n,e){if(1&n&&(ge(0,"table",7),ki(1,8),ct(2,c3,2,0,"th",9),ct(3,l3,2,1,"td",10),Ni(),ki(4,11),ct(5,u3,2,0,"th",9),ct(6,d3,2,1,"td",10),Ni(),ki(7,12),ct(8,h3,2,0,"th",9),ct(9,f3,2,1,"td",10),Ni(),ct(10,p3,1,0,"tr",13),ct(11,m3,1,0,"tr",14),ve()),2&n){const t=Dr();wt("dataSource",t.dataSource),nt(10),wt("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),nt(1),wt("matRowDefColumns",t.displayedColumns)}}const v3=[{path:"guarded",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=et({type:n,selectors:[["app-guarded"]],decls:2,vars:0,template:function(t,r){1&t&&(ge(0,"p"),ze(1,"This component is guarded. You can see this because you're signed-in. "),ve())}}),n})(),canActivate:[pv]},{path:"auth",component:GA},{path:"",component:(()=>{class n{constructor(t,r){this.authService=t,this.msalBroadcastService=r,this.loginDisplay=!1,this.displayedColumns=["claim","value","description"],this.dataSource=[]}ngOnInit(){this.msalBroadcastService.msalSubject$.pipe(Ft(t=>t.eventType===V.LOGIN_SUCCESS)).subscribe(t=>{this.authService.instance.setActiveAccount(t.payload.account)}),this.msalBroadcastService.inProgress$.pipe(Ft(t=>t===yt.None)).subscribe(()=>{this.setLoginDisplay(),this.getClaims(this.authService.instance.getActiveAccount()?.idTokenClaims)})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}getClaims(t){if(t){const r=(n=>{const e=[];return Object.keys(n).map(t=>{switch(t){case"aud":It(t,n[t],"Identifies the intended recipient of the token. In ID tokens, the audience is your app's Application ID, assigned to your app in the Azure portal.",e);break;case"iss":It(t,n[t],"Identifies the issuer, or authorization server that constructs and returns the token. It also identifies the Azure AD tenant for which the user was authenticated. If the token was issued by the v2.0 endpoint, the URI will end in /v2.0.",e);break;case"iat":It(t,$v(+n[t]),'"Issued At" indicates the timestamp (UNIX timestamp) when the authentication for this user occurred.',e);break;case"nbf":It(t,$v(+n[t]),"The nbf (not before) claim dictates the time (as UNIX timestamp) before which the JWT must not be accepted for processing.",e);break;case"exp":It(t,$v(+n[t]),"The exp (expiration time) claim dictates the expiration time (as UNIX timestamp) on or after which the JWT must not be accepted for processing. It's important to note that in certain circumstances, a resource may reject the token before this time. For example, if a change in authentication is required or a token revocation has been detected.",e);break;case"name":It(t,n[t],"The name claim provides a human-readable value that identifies the subject of the token. The value isn't guaranteed to be unique, it can be changed, and it's designed to be used only for display purposes. The 'profile' scope is required to receive this claim.",e);break;case"preferred_username":It(t,n[t],"The primary username that represents the user. It could be an email address, phone number, or a generic username without a specified format. Its value is mutable and might change over time. Since it is mutable, this value must not be used to make authorization decisions. It can be used for username hints, however, and in human-readable UI as a username. The profile scope is required in order to receive this claim.",e);break;case"nonce":It(t,n[t],"The nonce matches the parameter included in the original /authorize request to the IDP.",e);break;case"oid":It(t,n[t],"The oid (user object id) is the only claim that should be used to uniquely identify a user in an Azure AD tenant.",e);break;case"tid":It(t,n[t],"The id of the tenant where this application resides. You can use this claim to ensure that only users from the current Azure AD tenant can access this app.",e);break;case"upn":It(t,n[t],"upn (user principal name) might be unique amongst the active set of users in a tenant but tend to get reassigned to new employees as employees leave the organization and others take their place or might change to reflect a personal change like marriage.",e);break;case"email":It(t,n[t],"Email might be unique amongst the active set of users in a tenant but tend to get reassigned to new employees as employees leave the organization and others take their place.",e);break;case"acct":It(t,n[t],"Available as an optional claim, it lets you know what the type of user (homed, guest) is. For example, for an individual\u2019s access to their data you might not care for this claim, but you would use this along with tenant id (tid) to control access to say a company-wide dashboard to just employees (homed users) and not contractors (guest users).",e);break;case"sid":It(t,n[t],"Session ID, used for per-session user sign-out.",e);break;case"sub":It(t,n[t],"The sub claim is a pairwise identifier - it is unique to a particular application ID. If a single user signs into two different apps using two different client IDs, those apps will receive two different values for the subject claim.",e);break;case"ver":It(t,n[t],"Version of the token issued by the Microsoft identity platform",e);break;case"login_hint":It(t,n[t],"An opaque, reliable login hint claim. This claim is the best value to use for the login_hint OAuth parameter in all flows to get SSO.",e);break;case"idtyp":It(t,n[t],"Value is app when the token is an app-only token. This is the most accurate way for an API to determine if a token is an app token or an app+user token",e);break;case"uti":case"rh":break;default:It(t,n[t],"",e)}}),e})(t);this.dataSource=[...r]}}}return n.\u0275fac=function(t){return new(t||n)(_(xo),_(Uc))},n.\u0275cmp=et({type:n,selectors:[["app-home"]],decls:5,vars:3,consts:[["class","card-section",4,"ngIf"],["class","text-center",4,"ngIf"],["id","table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[1,"card-section"],[1,"text-center"],["href","https://learn.microsoft.com/azure/active-directory-b2c/tokens-overview"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","claim"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","description"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(ct(0,s3,7,0,"mat-card",0),Kn(1,"br"),ct(2,a3,8,0,"p",1),ge(3,"div",2),ct(4,g3,12,4,"table",3),ve()),2&t&&(wt("ngIf",!r.loginDisplay),nt(2),wt("ngIf",r.loginDisplay),nt(2),wt("ngIf",r.loginDisplay))},dependencies:[bu,o4,n4,r4,i4,FM,Hv,LM,Bv,Vv,UM,jv,zv,VM,HM],styles:["#table-container[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{margin:3% auto auto;width:70%}.mat-row[_ngcontent-%COMP%]{height:auto}.mat-cell[_ngcontent-%COMP%]{padding:8px 8px 8px 0}p[_ngcontent-%COMP%]{text-align:center}.card-section[_ngcontent-%COMP%]{margin:10%;padding:5%}"]}),n})()}];let y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n}),n.\u0275inj=Me({imports:[jA.forRoot(v3,{initialNavigation:Qe.isInIframe()||Qe.isInPopup()?"disabled":"enabledNonBlocking"}),jA]}),n})();const _3=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1,Dn_names_signUpSignIn="B2C_1_signupsignin1",Dn_names_resetPassword="B2C_1_signupsignin1",Dn_names_editProfile="B2C_1_profileediting1",Dn_authorities_signUpSignIn={authority:"https://darshandomainname.b2clogin.com/darshandomainname.onmicrosoft.com/B2C_1_signupsignin1"},Dn_authorities_resetPassword={authority:"https://fabrikamb2c.b2clogin.com/fabrikamb2c.onmicrosoft.com/B2C_1_reset_v3"},Dn_authorities_editProfile={authority:"https://darshandomainname.b2clogin.com/darshandomainname.onmicrosoft.com/B2C_1_profileediting1"},C3={auth:{clientId:"bd400199-dcdb-4255-b81c-37dfde078fc4",authority:Dn_authorities_signUpSignIn.authority,knownAuthorities:["darshandomainname.b2clogin.com"],redirectUri:"/auth",postLogoutRedirectUri:"/"},cache:{cacheLocation:Rt.LocalStorage,storeAuthStateInCookie:_3},system:{loggerOptions:{loggerCallback(n,e){console.log(e)},logLevel:Tt.Verbose,piiLoggingEnabled:!1}}},b3={scopes:[]};function w3(n,e){if(1&n){const t=Wl();ge(0,"button",9),Mt("click",function(){return dl(t),hl(Dr().editProfile())}),ze(1,"Edit Profile"),ve()}}function E3(n,e){if(1&n){const t=Wl();ge(0,"button",10),Mt("click",function(){return dl(t),hl(Dr().login())}),ze(1,"Login"),ve()}}function S3(n,e){if(1&n){const t=Wl();ge(0,"button",11),Mt("click",function(){return dl(t),hl(Dr().logout())}),ze(1,"Logout"),ve()}}function T3(n,e){1&n&&Kn(0,"router-outlet")}function D3(n,e){1&n&&(ge(0,"footer")(1,"mat-toolbar")(2,"div",12),ze(3," How did we do? "),ge(4,"a",13),ze(5," Share your experience with us!"),ve()()()())}const I3=function(){return["guarded"]};let A3=(()=>{class n{constructor(t,r,i){this.msalGuardConfig=t,this.authService=r,this.msalBroadcastService=i,this.title="Microsoft identity platform",this.isIframe=!1,this.loginDisplay=!1,this._destroying$=new Je}ngOnInit(){this.isIframe=window!==window.parent&&!window.opener,this.setLoginDisplay(),this.authService.instance.enableAccountStorageEvents(),this.msalBroadcastService.msalSubject$.pipe(Ft(t=>t.eventType===V.ACCOUNT_ADDED||t.eventType===V.ACCOUNT_REMOVED)).subscribe(t=>{0===this.authService.instance.getAllAccounts().length?window.location.pathname="/":this.setLoginDisplay()}),this.msalBroadcastService.inProgress$.pipe(Ft(t=>t===yt.None),Tn(this._destroying$)).subscribe(()=>{this.setLoginDisplay(),this.checkAndSetActiveAccount()}),this.msalBroadcastService.msalSubject$.pipe(Ft(t=>t.eventType===V.LOGIN_SUCCESS||t.eventType===V.ACQUIRE_TOKEN_SUCCESS||t.eventType===V.SSO_SILENT_SUCCESS),Tn(this._destroying$)).subscribe(t=>{let r=t.payload,i=r.idTokenClaims;if((i.acr===Dn_names_signUpSignIn||i.tfp===Dn_names_signUpSignIn)&&this.authService.instance.setActiveAccount(r.account),i.acr===Dn_names_editProfile||i.tfp===Dn_names_editProfile){const o=this.authService.instance.getAllAccounts().find(a=>a.idTokenClaims?.oid===i.oid&&a.idTokenClaims?.sub===i.sub&&(a.idTokenClaims.acr===Dn_names_signUpSignIn||a.idTokenClaims.tfp===Dn_names_signUpSignIn));this.authService.ssoSilent({authority:Dn_authorities_signUpSignIn.authority,account:o})}return i.acr!==Dn_names_resetPassword&&i.tfp!==Dn_names_resetPassword||this.login({authority:Dn_authorities_signUpSignIn.authority,prompt:Ut.LOGIN,scopes:[]}),t}),this.msalBroadcastService.msalSubject$.pipe(Ft(t=>t.eventType===V.LOGIN_FAILURE||t.eventType===V.ACQUIRE_TOKEN_FAILURE),Tn(this._destroying$)).subscribe(t=>{t.error&&t.error.message.indexOf("AADB2C90118")>-1&&this.login({authority:Dn_authorities_resetPassword.authority,scopes:[]})})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}checkAndSetActiveAccount(){if(!this.authService.instance.getActiveAccount()&&this.authService.instance.getAllAccounts().length>0){let r=this.authService.instance.getAllAccounts();this.authService.instance.setActiveAccount(r[0])}}login(t){this.msalGuardConfig.interactionType===x.Popup?this.msalGuardConfig.authRequest?this.authService.loginPopup({...this.msalGuardConfig.authRequest,...t}).subscribe(r=>{this.authService.instance.setActiveAccount(r.account)}):this.authService.loginPopup(t).subscribe(r=>{this.authService.instance.setActiveAccount(r.account)}):this.authService.loginRedirect(this.msalGuardConfig.authRequest?{...this.msalGuardConfig.authRequest,...t}:t)}logout(){this.authService.logout()}editProfile(){this.login({authority:Dn_authorities_editProfile.authority,scopes:[]})}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}}return n.\u0275fac=function(t){return new(t||n)(_($d),_(xo),_(Uc))},n.\u0275cmp=et({type:n,selectors:[["app-root"]],decls:12,vars:8,consts:[["color","primary"],["href","/",1,"title"],[1,"toolbar-spacer"],["mat-button","",3,"routerLink"],["mat-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"container"],[4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"footer-text"],["href","https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR73pcsbpbxNJuZCMKN0lURpUOU5PNlM4MzRRV0lETkk2ODBPT0NBTEY5MCQlQCN0PWcu","target","_blank"]],template:function(t,r){1&t&&(ge(0,"mat-toolbar",0)(1,"a",1),ze(2),ve(),Kn(3,"div",2),ge(4,"a",3),ze(5,"Guarded Page"),ve(),ct(6,w3,2,0,"button",4),ct(7,E3,2,0,"button",5),ct(8,S3,2,0,"button",6),ve(),ge(9,"div",7),ct(10,T3,1,0,"router-outlet",8),ve(),ct(11,D3,6,0,"footer",8)),2&t&&(nt(2),vp(r.title),nt(2),wt("routerLink",Yw(7,I3)),nt(2),wt("ngIf",r.loginDisplay),nt(1),wt("ngIf",!r.loginDisplay),nt(1),wt("ngIf",r.loginDisplay),nt(2),wt("ngIf",!r.isIframe),nt(1),wt("ngIf",r.loginDisplay))},dependencies:[bu,Xg,Hd,CM,kq,Lq],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a.title[_ngcontent-%COMP%]{color:#fff}footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;color:#fff;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:small;text-align:center;flex:1 1 auto}"]}),n})();function M3(){return new Kj(C3)}function R3(){return{interactionType:x.Redirect,authRequest:b3}}let k3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Oe({type:n,bootstrap:[A3,GA]}),n.\u0275inj=Me({providers:[{provide:zd,useFactory:M3},{provide:$d,useFactory:R3},xo,pv,Uc],imports:[GS,_2,y3,Nq,Uq,Xq,s4,h4,n3,BB,DB,CG]}),n})();(function N1(){qE=!1})(),lV().bootstrapModule(k3).catch(n=>console.error(n))}},Pe=>{Pe(Pe.s=478)}]);